From: <Saved by Blink>
Snapshot-Content-Location: https://iss.sandacite.com/tools/oric-atmos-rom.html
Subject: Oric Atmos ROM 1.1b Disassembly
Date: Tue, 14 Jan 2025 16:52:26 +0700
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--GRQrYkNAtextu0CdUhLxf7BycFuZdxCnGyQ7lBqgh6----"


------MultipartBoundary--GRQrYkNAtextu0CdUhLxf7BycFuZdxCnGyQ7lBqgh6----
Content-Type: text/html
Content-ID: <frame-EE345B140F7B082C4DBA14B8CFE83043@mhtml.blink>
Content-Transfer-Encoding: binary
Content-Location: https://iss.sandacite.com/tools/oric-atmos-rom.html

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" href="cid:css-81cc605c-a8ce-4915-a602-da1a79e22e8b@mhtml.blink" />
<title>Oric Atmos ROM 1.1b Disassembly</title>
<link rel="shortcut icon" href="https://iss.sandacite.com/iss/favicon.ico" type="image/x-icon">
<link rel="icon" href="https://iss.sandacite.com/iss/favicon.ico" type="image/x-icon">
<meta content="en-us" http-equiv="Content-Language">

<meta name="description" content="disassembly of Oric Atmos ROM 1.1b ">
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
<img src="https://iss.sandacite.com/tools/oric-atmos-rom.png" width="210" height="90">
<h1>Oric Atmos ROM 1.1b Disassembly</h1>
<div id="code-lines">
<pre><a name="LC000">$C000</a>	4C CC EC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECCC">$ECCC</a>                             	Jump to START BASIC
<a name="LC003">$C003</a>	4C 71 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC471">$C471</a>                             	Jump to RESTART BASIC

JUMPTAB
<a name="LC006">$C006</a>	72 C9 91 C6 86 E9 D0 E9  	BYT   $72,$C9,$91,$C6,$86,$E9,$D0,$E9   	JUMP TABLE for each of the
<a name="LC00E">$C00E</a>	15 CD 18 CD 11 CA 50 DA  	BYT   $15,$CD,$18,$CD,$11,$CA,$50,$DA   	commands, in token order. The
<a name="LC016">$C016</a>	A0 DA DD D9 66 D9 84 DA  	BYT   $A0,$DA,$DD,$D9,$66,$D9,$84,$DA   	table is in two halves, firstly
<a name="LC01E">$C01E</a>	A0 DA 54 C8 FC C7 08 C8  	BYT   $A0,$DA,$54,$C8,$FC,$C7,$08,$C8   	for those commands which may
<a name="LC026">$C026</a>	97 CE 3B CA 54 CD 7D D1  	BYT   $97,$CE,$3B,$CA,$54,$CD,$7D,$D1   	start a statement and secondly
<a name="LC02E">$C02E</a>	CD CC 88 CD 1B CB E4 C9  	BYT   $CD,$CC,$88,$CD,$1B,$CB,$E4,$C9   	for those which may not. Some
<a name="LC036">$C036</a>	BC C9 6F CA 51 C9 C7 C9  	BYT   $BC,$C9,$6F,$CA,$51,$C9,$C7,$C9   	tokens do not have start
<a name="LC03E">$C03E</a>	11 CA 98 CA CD EB E6 EB  	BYT   $11,$CA,$98,$CA,$CD,$EB,$E6,$EB   	addresses - see Appendix A.
<a name="LC046">$C046</a>	0B EC 20 EC 32 EC B4 FA  	BYT   $0B,$EC,$20,$EC,$32,$EC,$B4,$FA   	Thevaluesinthefirstpartof
<a name="LC04E">$C04E</a>	CA FA E0 FA 9E FA FB EA  	BYT   $CA,$FA,$E0,$FA,$9E,$FA,$FB,$EA   	the table are one less than the
<a name="LC056">$C056</a>	FB EA FB EA EF EA EF EA  	BYT   $FB,$EA,$FB,$EA,$EF,$EA,$EF,$EA   	start address of the routines.
<a name="LC05E">$C05E</a>	EF EA EF EA EF EA EF EA  	BYT   $EF,$EA,$EF,$EA,$EF,$EA,$EF,$EA   	This is because the RTS
<a name="LC066">$C066</a>	EF EA FB EA FB EA 70 C9  	BYT   $EF,$EA,$FB,$EA,$FB,$EA,$70,$C9   	instruction is used as an
<a name="LC06E">$C06E</a>	C1 CA 57 D9 5A E8 08 E9  	BYT   $C1,$CA,$57,$D9,$5A,$E8,$08,$E9   	indirect jump which
<a name="LC076">$C076</a>	B9 D4 4E D9 AA CB 9F C9  	BYT   $B9,$D4,$4E,$D9,$AA,$CB,$9F,$C9   	automatically increments the
<a name="LC07E">$C07E</a>	47 C7 0C C7 45 CD 45 E9  	BYT   $47,$C7,$0C,$C7,$45,$CD,$45,$E9   	address by 1.
<a name="LC086">$C086</a>	12 CD ED C6 21 DF BD DF  	BYT   $12,$CD,$ED,$C6,$21,$DF,$BD,$DF
<a name="LC08E">$C08E</a>	49 DF 21 00 7E D4 A6 D4  	BYT   $49,$DF,$21,$00,$7E,$D4,$A6,$D4
<a name="LC096">$C096</a>	B5 D9 FB 02 2E E2 4F E3  	BYT   $B5,$D9,$FB,$02,$2E,$E2,$4F,$E3
<a name="LC09E">$C09E</a>	AF DC AA E2 8B E3 92 E3  	BYT   $AF,$DC,$AA,$E2,$8B,$E3,$92,$E3
<a name="LC0A6">$C0A6</a>	DB E3 3F E4 38 D9 83 D9  	BYT   $DB,$E3,$3F,$E4,$38,$D9,$83,$D9
<a name="LC0AE">$C0AE</a>	D4 DD A6 D8 93 D5 D7 D8  	BYT   $D4,$DD,$A6,$D8,$93,$D5,$D7,$D8
<a name="LC0B6">$C0B6</a>	B5 D8 16 D8 77 DE 0F DF  	BYT   $B5,$D8,$16,$D8,$77,$DE,$0F,$DF
<a name="LC0BE">$C0BE</a>	0B DF DA DA 3F DA 45 EC  	BYT   $0B,$DF,$DA,$DA,$3F,$DA,$45,$EC
<a name="LC0C6">$C0C6</a>	2A D8 56 D8 61 D8 79 24  	BYT   $2A,$D8,$56,$D8,$61,$D8,$79,$24
<a name="LC0CE">$C0CE</a>	DB 79 0D DB 7B EF DC 7B  	BYT   $DB,$79,$0D,$DB,$7B,$EF,$DC,$7B
<a name="LC0D6">$C0D6</a>	E6 DD 7F 37 E2 50 E5 D0  	BYT   $E6,$DD,$7F,$37,$E2,$50,$E5,$D0
<a name="LC0DE">$C0DE</a>	46 E2 D0 7D 70 E2 5A 3B  	BYT   $46,$E2,$D0,$7D,$70,$E2,$5A,$3B
<a name="LC0E6">$C0E6</a>	D0 64 12 D1              	BYT   $D0,$64,$12,$D1

KEYWORDS
<a name="LC0EA">$C0EA</a>	45 4E C4 45              	BYT   $45,$4E,$C4,$45                   	ENDE
<a name="LC0EE">$C0EE</a>	44 49 D4 53 54 4F 52 C5  	BYT   $44,$49,$D4,$53,$54,$4F,$52,$C5   	DITSTORE
<a name="LC0F6">$C0F6</a>	52 45 43 41 4C CC 54 52  	BYT   $52,$45,$43,$41,$4C,$CC,$54,$52   	RECALLTR The last character
<a name="LC0FE">$C0FE</a>	4F CE 54 52 4F 46 C6 50  	BYT   $4F,$CE,$54,$52,$4F,$46,$C6,$50   	ONTROFFP of a keyword has bit
<a name="LC106">$C106</a>	4F D0 50 4C 4F D4 50 55  	BYT   $4F,$D0,$50,$4C,$4F,$D4,$50,$55   	OPPLOTPU 7 set.
<a name="LC10E">$C10E</a>	4C CC 4C 4F 52 45 D3 44  	BYT   $4C,$CC,$4C,$4F,$52,$45,$D3,$44   	LLLORESD
<a name="LC116">$C116</a>	4F 4B C5 52 45 50 45 41  	BYT   $4F,$4B,$C5,$52,$45,$50,$45,$41   	OKEREPEA
<a name="LC11E">$C11E</a>	D4 55 4E 54 49 CC 46 4F  	BYT   $D4,$55,$4E,$54,$49,$CC,$46,$4F   	TUNTILFO
<a name="LC126">$C126</a>	D2 4C 4C 49 53 D4 4C 50  	BYT   $D2,$4C,$4C,$49,$53,$D4,$4C,$50   	RLLISTLP
<a name="LC12E">$C12E</a>	52 49 4E D4 4E 45 58 D4  	BYT   $52,$49,$4E,$D4,$4E,$45,$58,$D4   	RINTNEXT
<a name="LC136">$C136</a>	44 41 54 C1 49 4E 50 55  	BYT   $44,$41,$54,$C1,$49,$4E,$50,$55   	DATAINPU
<a name="LC13E">$C13E</a>	D4 44 49 CD 43 4C D3 52  	BYT   $D4,$44,$49,$CD,$43,$4C,$D3,$52   	TDIMCLSR
<a name="LC146">$C146</a>	45 41 C4 4C 45 D4 47 4F  	BYT   $45,$41,$C4,$4C,$45,$D4,$47,$4F   	EADLETCO
<a name="LC14E">$C14E</a>	54 CF 52 55 CE 49 C6 52  	BYT   $54,$CF,$52,$55,$CE,$49,$C6,$52   	TORUNIFR
<a name="LC156">$C156</a>	45 53 54 4F 52 C5 47 4F  	BYT   $45,$53,$54,$4F,$52,$C5,$47,$4F   	ESTOREGO
<a name="LC15E">$C15E</a>	53 55 C2 52 45 54 55 52  	BYT   $53,$55,$C2,$52,$45,$54,$55,$52   	SUBRETUR
<a name="LC166">$C166</a>	CE 52 45 CD 48 49 4D 45  	BYT   $CE,$52,$45,$CD,$48,$49,$4D,$45   	NREMHIME
<a name="LC16E">$C16E</a>	CD 47 52 41 C2 52 45 4C  	BYT   $CD,$47,$52,$41,$C2,$52,$45,$4C   	MGRABREL
<a name="LC176">$C176</a>	45 41 53 C5 54 45 58 D4  	BYT   $45,$41,$53,$C5,$54,$45,$58,$D4   	EASETEXT
<a name="LC17E">$C17E</a>	48 49 52 45 D3 53 48 4F  	BYT   $48,$49,$52,$45,$D3,$53,$48,$4F   	HIRESSHO
<a name="LC186">$C186</a>	4F D4 45 58 50 4C 4F 44  	BYT   $4F,$D4,$45,$58,$50,$4C,$4F,$44   	OTEXPLOD
<a name="LC18E">$C18E</a>	C5 5A 41 D0 50 49 4E C7  	BYT   $C5,$5A,$41,$D0,$50,$49,$4E,$C7   	EZAPPING
<a name="LC196">$C196</a>	53 4F 55 4E C4 4D 55 53  	BYT   $53,$4F,$55,$4E,$C4,$4D,$55,$53   	SOUNDMUS
<a name="LC19E">$C19E</a>	49 C3 50 4C 41 D9 43 55  	BYT   $49,$C3,$50,$4C,$41,$D9,$43,$55   	ICPLAYCU
<a name="LC1A6">$C1A6</a>	52 53 45 D4 43 55 52 4D  	BYT   $52,$53,$45,$D4,$43,$55,$52,$4D   	RSETCURM
<a name="LC1AE">$C1AE</a>	4F D6 44 52 41 D7 43 49  	BYT   $4F,$D6,$44,$52,$41,$D7,$43,$49   	OVDRAWCI
<a name="LC1B6">$C1B6</a>	52 43 4C C5 50 41 54 54  	BYT   $52,$43,$4C,$C5,$50,$41,$54,$54   	RCLEPATT
<a name="LC1BE">$C1BE</a>	45 52 CE 46 49 4C CC 43  	BYT   $45,$52,$CE,$46,$49,$4C,$CC,$43   	ERNFILLC
<a name="LC1C6">$C1C6</a>	48 41 D2 50 41 50 45 D2  	BYT   $48,$41,$D2,$50,$41,$50,$45,$D2   	HARPAPER
<a name="LC1CE">$C1CE</a>	49 4E CB 53 54 4F D0 4F  	BYT   $49,$4E,$CB,$53,$54,$4F,$D0,$4F   	INKSTOPO
<a name="LC1D6">$C1D6</a>	CE 57 41 49 D4 43 4C 4F  	BYT   $CE,$57,$41,$49,$D4,$43,$4C,$4F   	NWAITCLO
<a name="LC1DE">$C1DE</a>	41 C4 43 53 41 56 C5 44  	BYT   $41,$C4,$43,$53,$41,$56,$C5,$44   	ADCSAVED
<a name="LC1E6">$C1E6</a>	45 C6 50 4F 4B C5 50 52  	BYT   $45,$C6,$50,$4F,$4B,$C5,$50,$52   	EFPOKEPR
<a name="LC1EE">$C1EE</a>	49 4E D4 43 4F 4E D4 4C  	BYT   $49,$4E,$D4,$43,$4F,$4E,$D4,$4C   	INTCONTL
<a name="LC1F6">$C1F6</a>	49 53 D4 43 4C 45 41 D2  	BYT   $49,$53,$D4,$43,$4C,$45,$41,$D2   	ISTCLEAR
<a name="LC1FE">$C1FE</a>	47 45 D4 43 41 4C CC A1  	BYT   $47,$45,$D4,$43,$41,$4C,$CC,$A1   	CETCALL!
<a name="LC206">$C206</a>	4E 45 D7 54 41 42 A8 54  	BYT   $4E,$45,$D7,$54,$41,$42,$A8,$54   	NEWTAB(T
<a name="LC20E">$C20E</a>	CF 46 CE 53 50 43 A8 C0  	BYT   $CF,$46,$CE,$53,$50,$43,$A8,$C0   	OFNSPC(@
<a name="LC216">$C216</a>	41 55 54 CF 45 4C 53 C5  	BYT   $41,$55,$54,$CF,$45,$4C,$53,$C5   	AUTOELSE
<a name="LC21E">$C21E</a>	54 48 45 CE 4E 4F D4 53  	BYT   $54,$48,$45,$CE,$4E,$4F,$D4,$53   	THENNOTS
<a name="LC226">$C226</a>	54 45 D0 AB AD AA AF DE  	BYT   $54,$45,$D0,$AB,$AD,$AA,$AF,$DE   	TEP+-*/A
<a name="LC22E">$C22E</a>	41 4E C4 4F D2 BE BD BC  	BYT   $41,$4E,$C4,$4F,$D2,$BE,$BD,$BC   	ANDOR)=&lt;
<a name="LC236">$C236</a>	53 47 CE 49 4E D4 41 42  	BYT   $53,$47,$CE,$49,$4E,$D4,$41,$42   	SGNINTAB
<a name="LC23E">$C23E</a>	D3 55 53 D2 46 52 C5 50  	BYT   $D3,$55,$53,$D2,$46,$52,$C5,$50   	SUSRFREP
<a name="LC246">$C246</a>	4F D3 48 45 58 A4 A6 53  	BYT   $4F,$D3,$48,$45,$58,$A4,$A6,$53   	OSHEX$&amp;S
<a name="LC24E">$C24E</a>	51 D2 52 4E C4 4C CE 45  	BYT   $51,$D2,$52,$4E,$C4,$4C,$CE,$45   	QRRNDLNE
<a name="LC256">$C256</a>	58 D0 43 4F D3 53 49 CE  	BYT   $58,$D0,$43,$4F,$D3,$53,$49,$CE   	XPCOSSIN
<a name="LC25E">$C25E</a>	54 41 CE 41 54 CE 50 45  	BYT   $54,$41,$CE,$41,$54,$CE,$50,$45   	TANATNPE
<a name="LC266">$C266</a>	45 CB 44 45 45 CB 4C 4F  	BYT   $45,$CB,$44,$45,$45,$CB,$4C,$4F   	EKDEEKLO
<a name="LC26E">$C26E</a>	C7 4C 45 CE 53 54 52 A4  	BYT   $C7,$4C,$45,$CE,$53,$54,$52,$A4   	GLENSTR$
<a name="LC276">$C276</a>	56 41 CC 41 53 C3 43 48  	BYT   $56,$41,$CC,$41,$53,$C3,$43,$48   	VALASCCH
<a name="LC27E">$C27E</a>	52 A4 50 C9 54 52 55 C5  	BYT   $52,$A4,$50,$C9,$54,$52,$55,$C5   	R$PITRUE
<a name="LC286">$C286</a>	46 41 4C 53 C5 4B 45 59  	BYT   $46,$41,$4C,$53,$C5,$4B,$45,$59   	FALSEKEY
<a name="LC28E">$C28E</a>	A4 53 43 52 CE 50 4F 49  	BYT   $A4,$53,$43,$52,$CE,$50,$4F,$49   	$5CRNPOI
<a name="LC296">$C296</a>	4E D4 4C 45 46 54 A4 52  	BYT   $4E,$D4,$4C,$45,$46,$54,$A4,$52   	NTLEFT$R
<a name="LC29E">$C29E</a>	49 47 48 54 A4 4D 49 44  	BYT   $49,$47,$48,$54,$A4,$4D,$49,$44   	IGHT$MID
<a name="LC2A6">$C2A6</a>	A4 00                    	BYT   $A4,$00

ERRORMSGS
<a name="LC2A8">$C2A8</a>	4E 45 58 54 20 57        	BYT   $4E,$45,$58,$54,$20,$57           	NEXT W
<a name="LC2AE">$C2AE</a>	49 54 48 4F 55 54 20 46  	BYT   $49,$54,$48,$4F,$55,$54,$20,$46   	ITHOUT F
<a name="LC2B6">$C2B6</a>	4F D2 53 59 4E 54 41 D8  	BYT   $4F,$D2,$53,$59,$4E,$54,$41,$D8   	ORSYNTAX
<a name="LC2BE">$C2BE</a>	52 45 54 55 52 4E 20 57  	BYT   $52,$45,$54,$55,$52,$4E,$20,$57   	RETURN W
<a name="LC2C6">$C2C6</a>	49 54 48 4F 55 54 20 47  	BYT   $49,$54,$48,$4F,$55,$54,$20,$47   	ITHOUT G
<a name="LC2CE">$C2CE</a>	4F 53 55 C2 4F 55 54 20  	BYT   $4F,$53,$55,$C2,$4F,$55,$54,$20   	OSUBOUT
<a name="LC2D6">$C2D6</a>	4F 46 20 44 41 54 C1 49  	BYT   $4F,$46,$20,$44,$41,$54,$C1,$49   	OF DATAI
<a name="LC2DE">$C2DE</a>	4C 4C 45 47 41 4C 20 51  	BYT   $4C,$4C,$45,$47,$41,$4C,$20,$51   	LLEGAL Q
<a name="LC2E6">$C2E6</a>	55 41 4E 54 49 54 D9 4F  	BYT   $55,$41,$4E,$54,$49,$54,$D9,$4F   	UANTITYO
<a name="LC2EE">$C2EE</a>	56 45 52 46 4C 4F D7 4F  	BYT   $56,$45,$52,$46,$4C,$4F,$D7,$4F   	VERFLOWO
<a name="LC2F6">$C2F6</a>	55 54 20 4F 46 20 4D 45  	BYT   $55,$54,$20,$4F,$46,$20,$4D,$45   	UT OF ME
<a name="LC2FE">$C2FE</a>	4D 4F 52 D9 55 4E 44 45  	BYT   $4D,$4F,$52,$D9,$55,$4E,$44,$45   	MORYUNDE
<a name="LC306">$C306</a>	46 27 44 20 53 54 41 54  	BYT   $46,$27,$44,$20,$53,$54,$41,$54   	F'D STAT
<a name="LC30E">$C30E</a>	45 4D 45 4E D4 42 41 44  	BYT   $45,$4D,$45,$4E,$D4,$42,$41,$44   	EMENTBAD
<a name="LC316">$C316</a>	20 53 55 42 53 43 52 49  	BYT   $20,$53,$55,$42,$53,$43,$52,$49   	SUBSCRI
<a name="LC31E">$C31E</a>	50 D4 52 45 44 49 4D 27  	BYT   $50,$D4,$52,$45,$44,$49,$4D,$27   	PTREDIM'
<a name="LC326">$C326</a>	44 20 41 52 52 41 D9 44  	BYT   $44,$20,$41,$52,$52,$41,$D9,$44   	D ARRAYD
<a name="LC32E">$C32E</a>	49 56 49 53 49 4F 4E 20  	BYT   $49,$56,$49,$53,$49,$4F,$4E,$20   	IVISION
<a name="LC336">$C336</a>	42 59 20 5A 45 52 CF 49  	BYT   $42,$59,$20,$5A,$45,$52,$CF,$49   	BY ZEROI
<a name="LC33E">$C33E</a>	4C 4C 45 47 41 4C 20 44  	BYT   $4C,$4C,$45,$47,$41,$4C,$20,$44   	LLEGAL D
<a name="LC346">$C346</a>	49 52 45 43 D4 44 49 53  	BYT   $49,$52,$45,$43,$D4,$44,$49,$53   	IRECTDIS
<a name="LC34E">$C34E</a>	50 20 54 59 50 45 20 4D  	BYT   $50,$20,$54,$59,$50,$45,$20,$4D   	P TYPE M
<a name="LC356">$C356</a>	49 53 4D 41 54 43 C8 53  	BYT   $49,$53,$4D,$41,$54,$43,$C8,$53   	ISMATCHS
<a name="LC35E">$C35E</a>	54 52 49 4E 47 20 54 4F  	BYT   $54,$52,$49,$4E,$47,$20,$54,$4F   	TRING TO
<a name="LC366">$C366</a>	4F 20 4C 4F 4E C7 46 4F  	BYT   $4F,$20,$4C,$4F,$4E,$C7,$46,$4F   	O LONGFO
<a name="LC36E">$C36E</a>	52 4D 55 4C 41 20 54 4F  	BYT   $52,$4D,$55,$4C,$41,$20,$54,$4F   	RMULA TO
<a name="LC376">$C376</a>	4F 20 43 4F 4D 50 4C 45  	BYT   $4F,$20,$43,$4F,$4D,$50,$4C,$45   	O COMPLE
<a name="LC37E">$C37E</a>	D8 43 41 4E 27 54 20 43  	BYT   $D8,$43,$41,$4E,$27,$54,$20,$43   	XCAN'T C
<a name="LC386">$C386</a>	4F 4E 54 49 4E 55 C5 55  	BYT   $4F,$4E,$54,$49,$4E,$55,$C5,$55   	ONTINUEU
<a name="LC38E">$C38E</a>	4E 44 45 46 27 44 20 46  	BYT   $4E,$44,$45,$46,$27,$44,$20,$46   	NDEF'D F
<a name="LC396">$C396</a>	55 4E 43 54 49 4F CE 42  	BYT   $55,$4E,$43,$54,$49,$4F,$CE,$42   	UNCTIONB
<a name="LC39E">$C39E</a>	41 44 20 55 4E 54 49 CC  	BYT   $41,$44,$20,$55,$4E,$54,$49,$CC   	AD UNTIL
<a name="LC3A6">$C3A6</a>	20 45 52 52 4F 52 00 20  	BYT   $20,$45,$52,$52,$4F,$52,$00,$20   	ERROR
<a name="LC3AE">$C3AE</a>	49 4E 20 00 0D 0A 52 65  	BYT   $49,$4E,$20,$00,$0D,$0A,$52,$65   	IN Re
<a name="LC3B6">$C3B6</a>	61 64 79 20 0D 0A 00 0D  	BYT   $61,$64,$79,$20,$0D,$0A,$00,$0D   	ady
<a name="LC3BE">$C3BE</a>	0A 20 42 52 45 41 4B 00  	BYT   $0A,$20,$42,$52,$45,$41,$4B,$00   	BREAK

FINDFORVAR
<a name="LC3C6">$C3C6</a>	BA                       	TSX                                     	Search for a variable match in
<a name="LC3C7">$C3C7</a>	E8                       	INX                                     	FOR-NEXT loop.
<a name="LC3C8">$C3C8</a>	E8                       	INX
<a name="LC3C9">$C3C9</a>	E8                       	INX                                     	Successive FOR-NEXT loops are
<a name="LC3CA">$C3CA</a>	E8                       	INX                                     	pulled off the stack until a
<a name="LC3CB">$C3CB</a>	BD 01 01                 	LDA   $0101,X                           	variable match is made.
<a name="LC3CE">$C3CE</a>	C9 8D                    	CMP   #$8D
<a name="LC3D0">$C3D0</a>	D0 21                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3F3">$C3F3</a>                             	If a match is made then the Z
<a name="LC3D2">$C3D2</a>	A5 B9                    	LDA   $B9                               	flag in the status register is
<a name="LC3D4">$C3D4</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3E0">$C3E0</a>                             	set to 1; otherwise it is set
<a name="LC3D6">$C3D6</a>	BD 02 01                 	LDA   $0102,X                           	to 0.
<a name="LC3D9">$C3D9</a>	85 B8                    	STA   $B8
<a name="LC3DB">$C3DB</a>	BD 03 01                 	LDA   $0103,X
<a name="LC3DE">$C3DE</a>	85 B9                    	STA   $B9
<a name="LC3E0">$C3E0</a>	DD 03 01                 	CMP   $0103,X
<a name="LC3E3">$C3E3</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3EC">$C3EC</a>
<a name="LC3E5">$C3E5</a>	A5 B8                    	LDA   $B8
<a name="LC3E7">$C3E7</a>	DD 02 01                 	CMP   $0102,X
<a name="LC3EA">$C3EA</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3F3">$C3F3</a>
<a name="LC3EC">$C3EC</a>	8A                       	TXA
<a name="LC3ED">$C3ED</a>	18                       	CLC
<a name="LC3EE">$C3EE</a>	69 12                    	ADC   #$12
<a name="LC3F0">$C3F0</a>	AA                       	TAX
<a name="LC3F1">$C3F1</a>	D0 D8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3CB">$C3CB</a>
<a name="LC3F3">$C3F3</a>	60                       	RTS

VARALLOC
<a name="LC3F4">$C3F4</a>	20 44 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC444">$C444</a>                             	This routine opens up new
<a name="LC3F7">$C3F7</a>	85 A0                    	STA   $A0                               	space in memory to store
<a name="LC3F9">$C3F9</a>	84 A1                    	STY   $A1                               	new variables.
<a name="LC3FB">$C3FB</a>	38                       	SEC                                     	($CE/$CF points to start of
<a name="LC3FC">$C3FC</a>	A5 C9                    	LDA   $C9                               	block, $C9/$CA points to end
<a name="LC3FE">$C3FE</a>	E5 CE                    	SBC   $CE                               	of block, $C7/$C8 points to
<a name="LC400">$C400</a>	85 91                    	STA   $91                               	new end of block).
<a name="LC402">$C402</a>	A8                       	TAY                                     	X(MSB) and Y (LSB) hold the
<a name="LC403">$C403</a>	A5 CA                    	LDA   $CA                               	size of block.
<a name="LC405">$C405</a>	E5 CF                    	SBC   $CF
<a name="LC407">$C407</a>	AA                       	TAX
<a name="LC408">$C408</a>	E8                       	INX                                     	Branch if block is a whole
<a name="LC409">$C409</a>	98                       	TYA                                     	number of pages.
<a name="LC40A">$C40A</a>	F0 23                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC42F">$C42F</a>
<a name="LC40C">$C40C</a>	A5 C9                    	LDA   $C9                               	Point $C9/$CA and $C7/$C8 to
<a name="LC40E">$C40E</a>	38                       	SEC                                     	the bottom of the pages that
<a name="LC40F">$C40F</a>	E5 91                    	SBC   $91                               	they were pointing to.
<a name="LC411">$C411</a>	85 C9                    	STA   $C9
<a name="LC413">$C413</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC418">$C418</a>
<a name="LC415">$C415</a>	C6 CA                    	DEC   $CA
<a name="LC417">$C417</a>	38                       	SEC
<a name="LC418">$C418</a>	A5 C7                    	LDA   $C7
<a name="LC41A">$C41A</a>	E5 91                    	SBC   $91
<a name="LC41C">$C41C</a>	85 C7                    	STA   $C7
<a name="LC41E">$C41E</a>	B0 08                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC428">$C428</a>
<a name="LC420">$C420</a>	C6 C8                    	DEC   $C8
<a name="LC422">$C422</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC428">$C428</a>
<a name="LC424">$C424</a>	B1 C9                    	LDA   ($C9),Y                           	Shift whole page up in memory.
<a name="LC426">$C426</a>	91 C7                    	STA   ($C7),Y
<a name="LC428">$C428</a>	88                       	DEY
<a name="LC429">$C429</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC424">$C424</a>
<a name="LC42B">$C42B</a>	B1 C9                    	LDA   ($C9),Y                           	Shift last byte (when Y=0)
<a name="LC42D">$C42D</a>	91 C7                    	STA   ($C7),Y
<a name="LC42F">$C42F</a>	C6 CA                    	DEC   $CA                               	Decrement pointer page numbers
<a name="LC431">$C431</a>	C6 C8                    	DEC   $C8
<a name="LC433">$C433</a>	CA                       	DEX                                     	Continue until all pages have
<a name="LC434">$C434</a>	D0 F2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC428">$C428</a>                             	been moved.
<a name="LC436">$C436</a>	60                       	RTS
<a name="LC437">$C437</a>	0A                       	ASL                                     	Check for 2 x content of A
<a name="LC438">$C438</a>	69 3E                    	ADC   #$3E                              	free bytes on stack. C is set
<a name="LC43A">$C43A</a>	B0 40                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>                             	at end of routine if enough
<a name="LC43C">$C43C</a>	85 91                    	STA   $91                               	space is free.
<a name="LC43E">$C43E</a>	BA                       	TSX
<a name="LC43F">$C43F</a>	E4 91                    	CPX   $91
<a name="LC441">$C441</a>	90 39                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>
<a name="LC443">$C443</a>	60                       	RTS

FREEMEMCHECK
<a name="LC444">$C444</a>	C4 A3                    	CPY   $A3                               	CHECK FOR FREE MEMORY
<a name="LC446">$C446</a>	90 28                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC470">$C470</a>                             	A (low) &amp; Y (high) hold new
<a name="LC448">$C448</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC44E">$C44E</a>                             	end of arrays address. Test
<a name="LC44A">$C44A</a>	C5 A2                    	CMP   $A2                               	and branch if above start of
<a name="LC44C">$C44C</a>	90 22                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC470">$C470</a>                             	string memory.
<a name="LC44E">$C44E</a>	48                       	PHA
<a name="LC44F">$C44F</a>	A2 09                    	LDX   #$09                              	Save A, Y on stack, also
<a name="LC451">$C451</a>	98                       	TYA                                     	contents of $CF to $C7
<a name="LC452">$C452</a>	48                       	PHA                                     	inclusive.
<a name="LC453">$C453</a>	B5 C6                    	LDA   $C6,X
<a name="LC455">$C455</a>	CA                       	DEX
<a name="LC456">$C456</a>	10 FA                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC452">$C452</a>
<a name="LC458">$C458</a>	20 50 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD650">$D650</a>                             	Attempt Garbage collection.
<a name="LC45B">$C45B</a>	A2 F7                    	LDX   #$F7
<a name="LC45D">$C45D</a>	68                       	PLA
<a name="LC45E">$C45E</a>	95 D0                    	STA   $D0,X                             	Restore $C7 to $CF from the
<a name="LC460">$C460</a>	E8                       	INX                                     	stack.
<a name="LC461">$C461</a>	30 FA                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC45D">$C45D</a>
<a name="LC463">$C463</a>	68                       	PLA                                     	Restore A, Y from stack.
<a name="LC464">$C464</a>	A8                       	TAY
<a name="LC465">$C465</a>	68                       	PLA
<a name="LC466">$C466</a>	C4 A3                    	CPY   $A3                               	If the end of the block is
<a name="LC468">$C468</a>	90 06                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC470">$C470</a>                             	still above bottom of string
<a name="LC46A">$C46A</a>	D0 10                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>                             	space then jump to print "OUT
<a name="LC46C">$C46C</a>	C5 A2                    	CMP   $A2                               	OF MEMORY ERROR"
<a name="LC46E">$C46E</a>	B0 0C                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>
<a name="LC470">$C470</a>	60                       	RTS                                     	Normal finish A, Y unaltered.
<a name="LC471">$C471</a>	AD C0 02                 	LDA   $02C0                             	NMI  routine ends up here.
<a name="LC474">$C474</a>	29 FE                    	AND   #$FE                              	Remove GRAB status and then
<a name="LC476">$C476</a>	8D C0 02                 	STA   $02C0                             	restart Basic.
<a name="LC479">$C479</a>	4C A8 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4A8">$C4A8</a>

PRINTERROR
<a name="LC47C">$C47C</a>	A2 4D                    	LDX   #$4D                              	PRINT ERROR MESSAGES
<a name="LC47E">$C47E</a>	20 2F C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC82F">$C82F</a>                             	Reset output to screen.
<a name="LC481">$C481</a>	46 2E                    	LSR   $2E                               	Reset CTRL O.
<a name="LC483">$C483</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	Move to start of next line.
<a name="LC486">$C486</a>	20 D7 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD7">$CCD7</a>                             	Print "?" on screen.
<a name="LC489">$C489</a>	BD A8 C2                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC2A8">$C2A8</a>,X                           	Print error message on screen
<a name="LC48C">$C48C</a>	48                       	PHA                                     	until last char which has bit
<a name="LC48D">$C48D</a>	29 7F                    	AND   #$7F                              	7 set. X holds initial offset
<a name="LC48F">$C48F</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>                             	into error table at start of
<a name="LC492">$C492</a>	E8                       	INX                                     	routine.
<a name="LC493">$C493</a>	68                       	PLA
<a name="LC494">$C494</a>	10 F3                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC489">$C489</a>
<a name="LC496">$C496</a>	20 26 C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC726">$C726</a>                             	Reset 6502 stack etc.
<a name="LC499">$C499</a>	A9 A6                    	LDA   #$A6                              	Print "ERROR" after the
<a name="LC49B">$C49B</a>	A0 C3                    	LDY   #$C3                              	message.
<a name="LC49D">$C49D</a>	20 B0 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>
<a name="LC4A0">$C4A0</a>	A4 A9                    	LDY   $A9                               	If high byte of line number
<a name="LC4A2">$C4A2</a>	C8                       	INY                                     	is #FF then the computer is in
<a name="LC4A3">$C4A3</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4A8">$C4A8</a>                             	immediate mode (not program).
<a name="LC4A5">$C4A5</a>	20 BA E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0BA">$E0BA</a>                             	Print "IN (line number&gt;"

BACKTOBASIC
<a name="LC4A8">$C4A8</a>	4E 52 02                 	LSR   $0252                             	RESTART BASIC
<a name="LC4AB">$C4AB</a>	46 2E                    	LSR   $2E                               	Clear pending ELSE, CTRL O
<a name="LC4AD">$C4AD</a>	4E F2 02                 	LSR   $02F2                             	and LIST/EDIT flags.
<a name="LC4B0">$C4B0</a>	A9 B2                    	LDA   #$B2
<a name="LC4B2">$C4B2</a>	A0 C3                    	LDY   #$C3
<a name="LC4B4">$C4B4</a>	20 1A 00                 	JSR   $001A                             	Print "Ready"
<a name="LC4B7">$C4B7</a>	20 2F C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC82F">$C82F</a>                             	Reset output to screen.
<a name="LC4BA">$C4BA</a>	20 92 C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC592">$C592</a>                             	Input line from keyboard.
<a name="LC4BD">$C4BD</a>	86 E9                    	STX   $E9                               	Save start of line.
<a name="LC4BF">$C4BF</a>	84 EA                    	STY   $EA
<a name="LC4C1">$C4C1</a>	20 E2 00                 	JSR   $00E2                             	Get next non space char.
<a name="LC4C4">$C4C4</a>	AA                       	TAX                                     	If end of line, go back to
<a name="LC4C5">$C4C5</a>	F0 F0                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4B7">$C4B7</a>                             	get another.
<a name="LC4C7">$C4C7</a>	A2 FF                    	LDX   #$FF                              	Set immediate mode.
<a name="LC4C9">$C4C9</a>	86 A9                    	STX   $A9
<a name="LC4CB">$C4CB</a>	90 06                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4D3">$C4D3</a>
<a name="LC4CD">$C4CD</a>	20 FA C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5FA">$C5FA</a>                             	Tokenise the line.
<a name="LC4D0">$C4D0</a>	4C 0C C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC90C">$C90C</a>                             	Execute the line.

INSDELLINE
<a name="LC4D3">$C4D3</a>	20 E2 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE2">$CAE2</a>                             	INSERT / DELETE LINE
<a name="LC4D6">$C4D6</a>	20 FA C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5FA">$C5FA</a>                             	Get line and tokenise it.
<a name="LC4D9">$C4D9</a>	84 26                    	STY   $26                               	Save line length.
<a name="LC4DB">$C4DB</a>	20 B3 C6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6B3">$C6B3</a>                             	Look for that line in memory.
<a name="LC4DE">$C4DE</a>	90 44                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC524">$C524</a>                             	If not found skip line delete

DELETELINE
<a name="LC4E0">$C4E0</a>	A0 01                    	LDY   #$01                              	DELETE LINE
<a name="LC4E2">$C4E2</a>	B1 CE                    	LDA   ($CE),Y                           	Get MSB of end of line.
<a name="LC4E4">$C4E4</a>	85 92                    	STA   $92
<a name="LC4E6">$C4E6</a>	A5 9C                    	LDA   $9C                               	Get LSB of end of Basic.
<a name="LC4E8">$C4E8</a>	85 91                    	STA   $91
<a name="LC4EA">$C4EA</a>	A5 CF                    	LDA   $CF                               	MSB of start of line.
<a name="LC4EC">$C4EC</a>	85 94                    	STA   $94
<a name="LC4EE">$C4EE</a>	A5 CE                    	LDA   $CE                               	The new end of Basic is the
<a name="LC4F0">$C4F0</a>	88                       	DEY                                     	old one plus the start address
<a name="LC4F1">$C4F1</a>	F1 CE                    	SBC   ($CE),Y                           	of line being deleted minus
<a name="LC4F3">$C4F3</a>	18                       	CLC                                     	its end address. Calculation
<a name="LC4F4">$C4F4</a>	65 9C                    	ADC   $9C                               	is done for LSB for each
<a name="LC4F6">$C4F6</a>	85 9C                    	STA   $9C                               	parameter and then MSB is
<a name="LC4F8">$C4F8</a>	85 93                    	STA   $93                               	adjusted accordingly.
<a name="LC4FA">$C4FA</a>	A5 9D                    	LDA   $9D
<a name="LC4FC">$C4FC</a>	69 FF                    	ADC   #$FF
<a name="LC4FE">$C4FE</a>	85 9D                    	STA   $9D
<a name="LC500">$C500</a>	E5 CF                    	SBC   $CF                               	X holds number of pages of
<a name="LC502">$C502</a>	AA                       	TAX                                     	memory to be shifted down.
<a name="LC503">$C503</a>	38                       	SEC
<a name="LC504">$C504</a>	A5 CE                    	LDA   $CE
<a name="LC506">$C506</a>	E5 9C                    	SBC   $9C                               	Y holds number of bytes to be
<a name="LC508">$C508</a>	A8                       	TAY                                     	moved as well as whole pages.
<a name="LC509">$C509</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC50E">$C50E</a>
<a name="LC50B">$C50B</a>	E8                       	INX
<a name="LC50C">$C50C</a>	C6 94                    	DEC   $94
<a name="LC50E">$C50E</a>	18                       	CLC                                     	Set up 'from' pointer for
<a name="LC50F">$C50F</a>	65 91                    	ADC   $91                               	block.
<a name="LC511">$C511</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC516">$C516</a>
<a name="LC513">$C513</a>	C6 92                    	DEC   $92
<a name="LC515">$C515</a>	18                       	CLC
<a name="LC516">$C516</a>	B1 91                    	LDA   ($91),Y                           	Copy rest of page down.
<a name="LC518">$C518</a>	91 93                    	STA   ($93),Y
<a name="LC51A">$C51A</a>	C8                       	INY
<a name="LC51B">$C51B</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC516">$C516</a>
<a name="LC51D">$C51D</a>	E6 92                    	INC   $92                               	Advance block pointers to the
<a name="LC51F">$C51F</a>	E6 94                    	INC   $94                               	next page.
<a name="LC521">$C521</a>	CA                       	DEX                                     	Continue until all pages done.
<a name="LC522">$C522</a>	D0 F2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC516">$C516</a>

INSERTLINE
<a name="LC524">$C524</a>	20 08 C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC708">$C708</a>                             	INSERT LINE
<a name="LC527">$C527</a>	20 5F C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC55F">$C55F</a>                             	Set text pointer and set up
<a name="LC52A">$C52A</a>	A5 35                    	LDA   $35                               	link pointers. If no line to
<a name="LC52C">$C52C</a>	F0 89                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4B7">$C4B7</a>                             	insert branch to immediate mode.
<a name="LC52E">$C52E</a>	18                       	CLC
<a name="LC52F">$C52F</a>	A5 9C                    	LDA   $9C                               	Calculate the number of bytes
<a name="LC531">$C531</a>	85 C9                    	STA   $C9                               	to be shifted and by how far
<a name="LC533">$C533</a>	65 26                    	ADC   $26                               	so that new line can be
<a name="LC535">$C535</a>	85 C7                    	STA   $C7                               	inserted.
<a name="LC537">$C537</a>	A4 9D                    	LDY   $9D
<a name="LC539">$C539</a>	84 CA                    	STY   $CA
<a name="LC53B">$C53B</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC53E">$C53E</a>
<a name="LC53D">$C53D</a>	C8                       	INY
<a name="LC53E">$C53E</a>	84 C8                    	STY   $C8
<a name="LC540">$C540</a>	20 F4 C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3F4">$C3F4</a>                             	Open up space for new line.
<a name="LC543">$C543</a>	A5 A0                    	LDA   $A0                               	Set end of Basic to end of
<a name="LC545">$C545</a>	A4 A1                    	LDY   $A1                               	Arrays (end of block).
<a name="LC547">$C547</a>	85 9C                    	STA   $9C
<a name="LC549">$C549</a>	84 9D                    	STY   $9D
<a name="LC54B">$C54B</a>	A4 26                    	LDY   $26                               	Get number of bytes to insert.
<a name="LC54D">$C54D</a>	88                       	DEY
<a name="LC54E">$C54E</a>	B9 31 00                 	LDA   $0031,Y                           	Transfer new line into the
<a name="LC551">$C551</a>	91 CE                    	STA   ($CE),Y                           	program.
<a name="LC553">$C553</a>	88                       	DEY
<a name="LC554">$C554</a>	10 F8                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC54E">$C54E</a>
<a name="LC556">$C556</a>	20 08 C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC708">$C708</a>                             	Set text pointer to start.
<a name="LC559">$C559</a>	20 5F C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC55F">$C55F</a>                             	Set up line link pointers.
<a name="LC55C">$C55C</a>	4C B7 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4B7">$C4B7</a>                             	Jump to immediate mode

SETLINELINKPTRS
<a name="LC55F">$C55F</a>	A5 9A                    	LDA   $9A                               	SET LINE LINK POINTERS
<a name="LC561">$C561</a>	A4 9B                    	LDY   $9B                               	Copy start of Basic into a
<a name="LC563">$C563</a>	85 91                    	STA   $91                               	pointer.
<a name="LC565">$C565</a>	84 92                    	STY   $92
<a name="LC567">$C567</a>	18                       	CLC
<a name="LC568">$C568</a>	A0 01                    	LDY   #$01
<a name="LC56A">$C56A</a>	B1 91                    	LDA   ($91),Y                           	Test if at end of program.
<a name="LC56C">$C56C</a>	F0 1D                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC58B">$C58B</a>
<a name="LC56E">$C56E</a>	A0 04                    	LDY   #$04
<a name="LC570">$C570</a>	C8                       	INY
<a name="LC571">$C571</a>	B1 91                    	LDA   ($91),Y                           	Step through program until
<a name="LC573">$C573</a>	D0 FB                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC570">$C570</a>                             	end of line is reached.
<a name="LC575">$C575</a>	C8                       	INY
<a name="LC576">$C576</a>	98                       	TYA                                     	Add length of line to its
<a name="LC577">$C577</a>	65 91                    	ADC   $91                               	own start address to get
<a name="LC579">$C579</a>	AA                       	TAX                                     	start address of next line.
<a name="LC57A">$C57A</a>	A0 00                    	LDY   #$00
<a name="LC57C">$C57C</a>	91 91                    	STA   ($91),Y                           	Set pointer to next line (low
<a name="LC57E">$C57E</a>	A5 92                    	LDA   $92                               	byte).
<a name="LC580">$C580</a>	69 00                    	ADC   #$00
<a name="LC582">$C582</a>	C8                       	INY                                     	Set pointer to next line
<a name="LC583">$C583</a>	91 91                    	STA   ($91),Y                           	(high byte).
<a name="LC585">$C585</a>	86 91                    	STX   $91                               	Set pointer to start of
<a name="LC587">$C587</a>	85 92                    	STA   $92                               	following line.
<a name="LC589">$C589</a>	90 DD                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC568">$C568</a>                             	Do next line.
<a name="LC58B">$C58B</a>	60                       	RTS                                     	Exit.
<a name="LC58C">$C58C</a>	CA                       	DEX                                     	"DEL" - go back one char.
<a name="LC58D">$C58D</a>	10 05                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC594">$C594</a>
<a name="LC58F">$C58F</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>

GETLINE
<a name="LC592">$C592</a>	A2 00                    	LDX   #$00                              	INPUT LINE FROM KEYBOARD
<a name="LC594">$C594</a>	20 E8 C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5E8">$C5E8</a>                             	X holds char count. Read key.
<a name="LC597">$C597</a>	C9 01                    	CMP   #$01
<a name="LC599">$C599</a>	D0 0D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5A8">$C5A8</a>                             	Branch if key not CTRL A.
<a name="LC59B">$C59B</a>	AC 69 02                 	LDY   $0269                             	Load char from screen, clear
<a name="LC59E">$C59E</a>	B1 12                    	LDA   ($12),Y                           	bit 7. If it is a CTRL char
<a name="LC5A0">$C5A0</a>	29 7F                    	AND   #$7F                              	then replace it by a char to
<a name="LC5A2">$C5A2</a>	C9 20                    	CMP   #$20                              	move cursor one place to
<a name="LC5A4">$C5A4</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5A8">$C5A8</a>                             	right.
<a name="LC5A6">$C5A6</a>	A9 09                    	LDA   #$09
<a name="LC5A8">$C5A8</a>	48                       	PHA                                     	Save character and print it to
<a name="LC5A9">$C5A9</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>                             	the screen.
<a name="LC5AC">$C5AC</a>	68                       	PLA
<a name="LC5AD">$C5AD</a>	C9 7F                    	CMP   #$7F                              	Branch if char is DEL - go
<a name="LC5AF">$C5AF</a>	F0 DB                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC58C">$C58C</a>                             	back one character.
<a name="LC5B1">$C5B1</a>	C9 0D                    	CMP   #$0D                              	If char is RETURN then finish
<a name="LC5B3">$C5B3</a>	F0 30                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5E5">$C5E5</a>                             	off current input buffer.
<a name="LC5B5">$C5B5</a>	C9 03                    	CMP   #$03                              	If CTRL C then set flag, clear
<a name="LC5B7">$C5B7</a>	F0 28                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5E1">$C5E1</a>                             	line and exit.
<a name="LC5B9">$C5B9</a>	C9 18                    	CMP   #$18                              	If CTRL X then print "Q" and
<a name="LC5BB">$C5BB</a>	F0 0B                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5C8">$C5C8</a>                             	restart the line.
<a name="LC5BD">$C5BD</a>	C9 20                    	CMP   #$20                              	Ignore any other control
<a name="LC5BF">$C5BF</a>	90 D3                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC594">$C594</a>                             	characters.
<a name="LC5C1">$C5C1</a>	95 35                    	STA   $35,X                             	Save char in buffer.
<a name="LC5C3">$C5C3</a>	E8                       	INX
<a name="LC5C4">$C5C4</a>	E0 4F                    	CPX   #$4F                              	If input buffer is full then
<a name="LC5C6">$C5C6</a>	90 07                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5CF">$C5CF</a>                             	print "Q" and start again
<a name="LC5C8">$C5C8</a>	A9 5C                    	LDA   #$5C                              	with a new line.
<a name="LC5CA">$C5CA</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>
<a name="LC5CD">$C5CD</a>	D0 C0                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC58F">$C58F</a>
<a name="LC5CF">$C5CF</a>	E0 4C                    	CPX   #$4C
<a name="LC5D1">$C5D1</a>	90 C1                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC594">$C594</a>
<a name="LC5D3">$C5D3</a>	8A                       	TXA                                     	If the line is close to max
<a name="LC5D4">$C5D4</a>	48                       	PHA                                     	number of chars then give a
<a name="LC5D5">$C5D5</a>	98                       	TYA                                     	warning PING.
<a name="LC5D6">$C5D6</a>	48                       	PHA
<a name="LC5D7">$C5D7</a>	20 9F FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA9F">$FA9F</a>                             	Warning PING.
<a name="LC5DA">$C5DA</a>	68                       	PLA
<a name="LC5DB">$C5DB</a>	A8                       	TAY
<a name="LC5DC">$C5DC</a>	68                       	PLA
<a name="LC5DD">$C5DD</a>	AA                       	TAX
<a name="LC5DE">$C5DE</a>	4C 94 C5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC594">$C594</a>                             	Go back for next character.
<a name="LC5E1">$C5E1</a>	E6 17                    	INC   $17                               	CTRL C pressed, set flag and
<a name="LC5E3">$C5E3</a>	A2 00                    	LDX   #$00                              	finish off input buffer.
<a name="LC5E5">$C5E5</a>	4C EA CB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBEA">$CBEA</a>

READKEY
<a name="LC5E8">$C5E8</a>	20 3B 02                 	JSR   $023B                             	READ KEY FROM KEYBOARD
<a name="LC5EB">$C5EB</a>	10 FB                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5E8">$C5E8</a>                             	Wait until valid key is
<a name="LC5ED">$C5ED</a>	C9 0F                    	CMP   #$0F                              	pressed (bit 7 set).
<a name="LC5EF">$C5EF</a>	D0 08                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC5F9">$C5F9</a>                             	If key is CTRL O then invert
<a name="LC5F1">$C5F1</a>	48                       	PHA                                     	flag.
<a name="LC5F2">$C5F2</a>	A5 2E                    	LDA   $2E
<a name="LC5F4">$C5F4</a>	49 FF                    	EOR   #$FF
<a name="LC5F6">$C5F6</a>	85 2E                    	STA   $2E
<a name="LC5F8">$C5F8</a>	68                       	PLA                                     	Return with char in A.
<a name="LC5F9">$C5F9</a>	60                       	RTS

TOKENISELINE
<a name="LC5FA">$C5FA</a>	A6 E9                    	LDX   $E9                               	TOKENISE LINE
<a name="LC5FC">$C5FC</a>	A0 04                    	LDY   #$04                              	Set initial line counters and
<a name="LC5FE">$C5FE</a>	84 2A                    	STY   $2A                               	flag.
<a name="LC600">$C600</a>	B5 00                    	LDA   $00,X                             	Get character.
<a name="LC602">$C602</a>	C9 20                    	CMP   #$20                              	If space char then put it in
<a name="LC604">$C604</a>	F0 41                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC647">$C647</a>                             	line.
<a name="LC606">$C606</a>	85 25                    	STA   $25                               	Save character.
<a name="LC608">$C608</a>	C9 22                    	CMP   #$22                              	If character is " then handle
<a name="LC60A">$C60A</a>	F0 5F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC66B">$C66B</a>                             	string in quotes.
<a name="LC60C">$C60C</a>	24 2A                    	BIT   $2A                               	Don't tokenise if in middle of
<a name="LC60E">$C60E</a>	70 37                    	BVS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC647">$C647</a>                             	a 'DATA' statement.
<a name="LC610">$C610</a>	C9 3F                    	CMP   #$3F                              	If char is '?' then substitute
<a name="LC612">$C612</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC618">$C618</a>                             	the 'PRINT' token.
<a name="LC614">$C614</a>	A9 BA                    	LDA   #$BA
<a name="LC616">$C616</a>	D0 2F                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC647">$C647</a>
<a name="LC618">$C618</a>	C9 30                    	CMP   #$30                              	If char is 0-9 or ; or : then
<a name="LC61A">$C61A</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC620">$C620</a>                             	put it in line and go on to
<a name="LC61C">$C61C</a>	C9 3C                    	CMP   #$3C                              	next char.
<a name="LC61E">$C61E</a>	90 27                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC647">$C647</a>
<a name="LC620">$C620</a>	84 E0                    	STY   $E0                               	Save pointer.
<a name="LC622">$C622</a>	A0 00                    	LDY   #$00
<a name="LC624">$C624</a>	84 26                    	STY   $26                               	Zero Y and reset token number.
<a name="LC626">$C626</a>	A9 E9                    	LDA   #$E9                              	Set tokenising pointer to
<a name="LC628">$C628</a>	85 18                    	STA   $18                               	point to byte before start of
<a name="LC62A">$C62A</a>	A9 C0                    	LDA   #$C0                              	keyword list.
<a name="LC62C">$C62C</a>	85 19                    	STA   $19
<a name="LC62E">$C62E</a>	86 E9                    	STX   $E9                               	Save pointer.
<a name="LC630">$C630</a>	CA                       	DEX
<a name="LC631">$C631</a>	E8                       	INX                                     	Advance input pointer.
<a name="LC632">$C632</a>	E6 18                    	INC   $18                               	Advance keyword list pointer.
<a name="LC634">$C634</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC638">$C638</a>
<a name="LC636">$C636</a>	E6 19                    	INC   $19
<a name="LC638">$C638</a>	B5 00                    	LDA   $00,X
<a name="LC63A">$C63A</a>	38                       	SEC
<a name="LC63B">$C63B</a>	F1 18                    	SBC   ($18),Y                           	Test for char match and do
<a name="LC63D">$C63D</a>	F0 F2                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC631">$C631</a>                             	next one if chars matched.
<a name="LC63F">$C63F</a>	C9 80                    	CMP   #$80                              	Test for end of keyword.
<a name="LC641">$C641</a>	D0 2F                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC672">$C672</a>                             	Branch if not end.
<a name="LC643">$C643</a>	05 26                    	ORA   $26                               	Create token.
<a name="LC645">$C645</a>	A4 E0                    	LDY   $E0                               	Restore pointer.
<a name="LC647">$C647</a>	E8                       	INX                                     	Move up pointers and put out
<a name="LC648">$C648</a>	C8                       	INY                                     	char.
<a name="LC649">$C649</a>	99 30 00                 	STA   $0030,Y
<a name="LC64C">$C64C</a>	B9 30 00                 	LDA   $0030,Y                           	If char is zero, i.e. end of
<a name="LC64F">$C64F</a>	F0 39                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC68A">$C68A</a>                             	line then exit.
<a name="LC651">$C651</a>	38                       	SEC
<a name="LC652">$C652</a>	E9 3A                    	SBC   #$3A                              	If ":" then clear 'DATA' flag.
<a name="LC654">$C654</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC65A">$C65A</a>
<a name="LC656">$C656</a>	C9 57                    	CMP   #$57                              	If 'DATA' token then set flag.
<a name="LC658">$C658</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC65C">$C65C</a>
<a name="LC65A">$C65A</a>	85 2A                    	STA   $2A
<a name="LC65C">$C65C</a>	38                       	SEC
<a name="LC65D">$C65D</a>	E9 63                    	SBC   #$63                              	If not 'REM' then loop to get
<a name="LC65F">$C65F</a>	D0 9F                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC600">$C600</a>                             	next char.
<a name="LC661">$C661</a>	85 25                    	STA   $25                               	Transfer chars until same char
<a name="LC663">$C663</a>	B5 00                    	LDA   $00,X                             	is found again i.e. another "
<a name="LC665">$C665</a>	F0 E0                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC647">$C647</a>                             	in a string. Or until end of
<a name="LC667">$C667</a>	C5 25                    	CMP   $25                               	line.
<a name="LC669">$C669</a>	F0 DC                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC647">$C647</a>
<a name="LC66B">$C66B</a>	C8                       	INY
<a name="LC66C">$C66C</a>	99 30 00                 	STA   $0030,Y
<a name="LC66F">$C66F</a>	E8                       	INX
<a name="LC670">$C670</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC663">$C663</a>
<a name="LC672">$C672</a>	A6 E9                    	LDX   $E9                               	Token match has failed,
<a name="LC674">$C674</a>	E6 26                    	INC   $26                               	restore X, increment token no.
<a name="LC676">$C676</a>	B1 18                    	LDA   ($18),Y
<a name="LC678">$C678</a>	08                       	PHP                                     	Save char of current char.
<a name="LC679">$C679</a>	E6 18                    	INC   $18
<a name="LC67B">$C67B</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC67F">$C67F</a>                             	Move to next one.
<a name="LC67D">$C67D</a>	E6 19                    	INC   $19
<a name="LC67F">$C67F</a>	28                       	PLP
<a name="LC680">$C680</a>	10 F4                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC676">$C676</a>                             	If not end, loop to another.
<a name="LC682">$C682</a>	B1 18                    	LDA   ($18),Y                           	If more tokens left, try
<a name="LC684">$C684</a>	D0 B2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC638">$C638</a>                             	another match.
<a name="LC686">$C686</a>	B5 00                    	LDA   $00,X                             	No tokens left so just use
<a name="LC688">$C688</a>	10 BB                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC645">$C645</a>                             	char from line.
<a name="LC68A">$C68A</a>	99 32 00                 	STA   $0032,Y
<a name="LC68D">$C68D</a>	A9 34                    	LDA   #$34                              	Point $E9/$EA at start of line
<a name="LC68F">$C68F</a>	85 E9                    	STA   $E9                               	and exit.
<a name="LC691">$C691</a>	60                       	RTS

EDIT
<a name="LC692">$C692</a>	20 E2 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE2">$CAE2</a>                             	EDIT  Get integer from text.
<a name="LC695">$C695</a>	20 B3 C6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6B3">$C6B3</a>                             	Look for line number in text.
<a name="LC698">$C698</a>	90 16                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6B0">$C6B0</a>                             	Branch if failed.
<a name="LC69A">$C69A</a>	6E F2 02                 	ROR   $02F2                             	Set Edit flag.
<a name="LC69D">$C69D</a>	20 6C C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC76C">$C76C</a>                             	Print line.
<a name="LC6A0">$C6A0</a>	4E F2 02                 	LSR   $02F2                             	Clear Edit flag.
<a name="LC6A3">$C6A3</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	New line.
<a name="LC6A6">$C6A6</a>	A9 0B                    	LDA   #$0B                              	Send cursor up one line.
<a name="LC6A8">$C6A8</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>
<a name="LC6AB">$C6AB</a>	68                       	PLA
<a name="LC6AC">$C6AC</a>	68                       	PLA
<a name="LC6AD">$C6AD</a>	4C B7 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4B7">$C4B7</a>                             	Immediate mode.
<a name="LC6B0">$C6B0</a>	4C 23 CA                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA23">$CA23</a>                             	Print "UNDEF'D STATEMENT .."

FINDLINE
<a name="LC6B3">$C6B3</a>	A9 00                    	LDA   #$00                              	LOOK FOR LINE NUMBER
<a name="LC6B5">$C6B5</a>	85 1D                    	STA   $1D                               	Reset line count.
<a name="LC6B7">$C6B7</a>	85 1E                    	STA   $1E
<a name="LC6B9">$C6B9</a>	A5 9A                    	LDA   $9A                               	Get begin Basic.
<a name="LC6BB">$C6BB</a>	A6 9B                    	LDX   $9B
<a name="LC6BD">$C6BD</a>	A0 01                    	LDY   #$01
<a name="LC6BF">$C6BF</a>	85 CE                    	STA   $CE                               	Set up pointer into line.
<a name="LC6C1">$C6C1</a>	86 CF                    	STX   $CF
<a name="LC6C3">$C6C3</a>	B1 CE                    	LDA   ($CE),Y                           	Exit if end of program (C=0)
<a name="LC6C5">$C6C5</a>	F0 25                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6EC">$C6EC</a>
<a name="LC6C7">$C6C7</a>	C8                       	INY                                     	Move pointer to line number
<a name="LC6C8">$C6C8</a>	C8                       	INY                                     	(MSB).
<a name="LC6C9">$C6C9</a>	E6 1D                    	INC   $1D                               	Increment line count.
<a name="LC6CB">$C6CB</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6CF">$C6CF</a>
<a name="LC6CD">$C6CD</a>	E6 1E                    	INC   $1E
<a name="LC6CF">$C6CF</a>	A5 34                    	LDA   $34                               	Compare MSB of line number
<a name="LC6D1">$C6D1</a>	D1 CE                    	CMP   ($CE),Y                           	with one wanted.
<a name="LC6D3">$C6D3</a>	90 18                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6ED">$C6ED</a>                             	Branch if beyond program line no.
<a name="LC6D5">$C6D5</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6DA">$C6DA</a>                             	Match in MSB made otherwise
<a name="LC6D7">$C6D7</a>	88                       	DEY                                     	try next line.
<a name="LC6D8">$C6D8</a>	D0 09                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6E3">$C6E3</a>
<a name="LC6DA">$C6DA</a>	A5 33                    	LDA   $33                               	Compare LSB of line number.
<a name="LC6DC">$C6DC</a>	88                       	DEY
<a name="LC6DD">$C6DD</a>	D1 CE                    	CMP   ($CE),Y
<a name="LC6DF">$C6DF</a>	90 0C                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6ED">$C6ED</a>                             	Line number too big.
<a name="LC6E1">$C6E1</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6ED">$C6ED</a>                             	Line number match made.
<a name="LC6E3">$C6E3</a>	88                       	DEY                                     	Get line link bytes into A
<a name="LC6E4">$C6E4</a>	B1 CE                    	LDA   ($CE),Y                           	and X. $CE/$CF left pointing
<a name="LC6E6">$C6E6</a>	AA                       	TAX                                     	to start of line.
<a name="LC6E7">$C6E7</a>	88                       	DEY
<a name="LC6E8">$C6E8</a>	B1 CE                    	LDA   ($CE),Y
<a name="LC6EA">$C6EA</a>	B0 D1                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6BD">$C6BD</a>
<a name="LC6EC">$C6EC</a>	18                       	CLC                                     	Line not found exit.
<a name="LC6ED">$C6ED</a>	60                       	RTS

NEW
<a name="LC6EE">$C6EE</a>	D0 FD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6ED">$C6ED</a>                             	NEW
<a name="LC6F0">$C6F0</a>	A9 00                    	LDA   #$00                              	Set trace to off.
<a name="LC6F2">$C6F2</a>	4E F4 02                 	LSR   $02F4
<a name="LC6F5">$C6F5</a>	A8                       	TAY                                     	Set End of Basic pointer to 2
<a name="LC6F6">$C6F6</a>	91 9A                    	STA   ($9A),Y                           	beyond Start Basic and clear
<a name="LC6F8">$C6F8</a>	C8                       	INY                                     	the bytes in-between - empty
<a name="LC6F9">$C6F9</a>	91 9A                    	STA   ($9A),Y                           	program.
<a name="LC6FB">$C6FB</a>	A5 9A                    	LDA   $9A
<a name="LC6FD">$C6FD</a>	18                       	CLC
<a name="LC6FE">$C6FE</a>	69 02                    	ADC   #$02
<a name="LC700">$C700</a>	85 9C                    	STA   $9C
<a name="LC702">$C702</a>	A5 9B                    	LDA   $9B
<a name="LC704">$C704</a>	69 00                    	ADC   #$00
<a name="LC706">$C706</a>	85 9D                    	STA   $9D
<a name="LC708">$C708</a>	20 3A C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC73A">$C73A</a>                             	Reset program pointer.
<a name="LC70B">$C70B</a>	A9 00                    	LDA   #$00

CLEAR
<a name="LC70D">$C70D</a>	D0 2A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC739">$C739</a>
<a name="LC70F">$C70F</a>	A5 A6                    	LDA   $A6                               	CLEAR
<a name="LC711">$C711</a>	A4 A7                    	LDY   $A7                               	Set last string allocated to
<a name="LC713">$C713</a>	85 A2                    	STA   $A2                               	the current value in Himem.
<a name="LC715">$C715</a>	84 A3                    	STY   $A3
<a name="LC717">$C717</a>	A5 9C                    	LDA   $9C                               	Set End Variables pointer and
<a name="LC719">$C719</a>	A4 9D                    	LDY   $9D                               	End Arrays pointer to value
<a name="LC71B">$C71B</a>	85 9E                    	STA   $9E                               	held in End Basic Pointer.
<a name="LC71D">$C71D</a>	84 9F                    	STY   $9F                               	This deletes all variables and
<a name="LC71F">$C71F</a>	85 A0                    	STA   $A0                               	arrays.
<a name="LC721">$C721</a>	84 A1                    	STY   $A1
<a name="LC723">$C723</a>	20 52 C9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC952">$C952</a>                             	Reset 'DATA' pointer.
<a name="LC726">$C726</a>	A2 88                    	LDX   #$88
<a name="LC728">$C728</a>	86 85                    	STX   $85
<a name="LC72A">$C72A</a>	68                       	PLA                                     	Place calling routine on top
<a name="LC72B">$C72B</a>	A8                       	TAY                                     	of the stack.
<a name="LC72C">$C72C</a>	68                       	PLA
<a name="LC72D">$C72D</a>	A2 FE                    	LDX   #$FE
<a name="LC72F">$C72F</a>	9A                       	TXS
<a name="LC730">$C730</a>	48                       	PHA
<a name="LC731">$C731</a>	98                       	TYA
<a name="LC732">$C732</a>	48                       	PHA
<a name="LC733">$C733</a>	A9 00                    	LDA   #$00                              	Reset high byte of End of
<a name="LC735">$C735</a>	85 AD                    	STA   $AD                               	Executed Program pointer.
<a name="LC737">$C737</a>	85 2B                    	STA   $2B
<a name="LC739">$C739</a>	60                       	RTS
<a name="LC73A">$C73A</a>	18                       	CLC                                     	This routine sets the current
<a name="LC73B">$C73B</a>	A5 9A                    	LDA   $9A                               	program position pointer to
<a name="LC73D">$C73D</a>	69 FF                    	ADC   #$FF                              	the byte before the Start of
<a name="LC73F">$C73F</a>	85 E9                    	STA   $E9                               	Basic.
<a name="LC741">$C741</a>	A5 9B                    	LDA   $9B
<a name="LC743">$C743</a>	69 FF                    	ADC   #$FF
<a name="LC745">$C745</a>	85 EA                    	STA   $EA
<a name="LC747">$C747</a>	60                       	RTS

LIST
<a name="LC748">$C748</a>	08                       	PHP                                     	LIST
<a name="LC749">$C749</a>	20 E2 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE2">$CAE2</a>                             	Get line number and look for
<a name="LC74C">$C74C</a>	20 B3 C6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6B3">$C6B3</a>                             	it in program.
<a name="LC74F">$C74F</a>	28                       	PLP
<a name="LC750">$C750</a>	F0 14                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC766">$C766</a>                             	If no number, list whole program
<a name="LC752">$C752</a>	20 E8 00                 	JSR   $00E8                             	If only one line number then
<a name="LC755">$C755</a>	F0 15                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC76C">$C76C</a>                             	just list it.
<a name="LC757">$C757</a>	C9 CD                    	CMP   #$CD                              	If no "-" then exit.
<a name="LC759">$C759</a>	D0 92                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6ED">$C6ED</a>
<a name="LC75B">$C75B</a>	20 E2 00                 	JSR   $00E2                             	Get next non space char.
<a name="LC75E">$C75E</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC766">$C766</a>
<a name="LC760">$C760</a>	20 E2 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE2">$CAE2</a>                             	Get line number.
<a name="LC763">$C763</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC76C">$C76C</a>                             	If end, list between the two
<a name="LC765">$C765</a>	60                       	RTS                                     	numbers else exit.
<a name="LC766">$C766</a>	A9 FF                    	LDA   #$FF                              	Set upper line limit to #FFFF
<a name="LC768">$C768</a>	85 33                    	STA   $33
<a name="LC76A">$C76A</a>	85 34                    	STA   $34
<a name="LC76C">$C76C</a>	A0 01                    	LDY   #$01
<a name="LC76E">$C76E</a>	B1 CE                    	LDA   ($CE),Y                           	Exit if end of program.
<a name="LC770">$C770</a>	F0 4D                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7BF">$C7BF</a>
<a name="LC772">$C772</a>	20 62 C9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC962">$C962</a>                             	Test for CTRL C.
<a name="LC775">$C775</a>	C9 20                    	CMP   #$20                              	If not space then skip next
<a name="LC777">$C777</a>	D0 0E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC787">$C787</a>                             	section.
<a name="LC779">$C779</a>	4E DF 02                 	LSR   $02DF                             	Clear key pressed flag.
<a name="LC77C">$C77C</a>	AD DF 02                 	LDA   $02DF                             	Wait until key is pressed.
<a name="LC77F">$C77F</a>	10 FB                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC77C">$C77C</a>
<a name="LC781">$C781</a>	20 62 C9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC962">$C962</a>                             	Test for CTRL C.
<a name="LC784">$C784</a>	4E DF 02                 	LSR   $02DF                             	C1ear key pressed flag.
<a name="LC787">$C787</a>	C8                       	INY
<a name="LC788">$C788</a>	B1 CE                    	LDA   ($CE),Y                           	Get line number into X (LSB)
<a name="LC78A">$C78A</a>	AA                       	TAX                                     	and A (MSB).
<a name="LC78B">$C78B</a>	C8                       	INY
<a name="LC78C">$C78C</a>	B1 CE                    	LDA   ($CE),Y
<a name="LC78E">$C78E</a>	C5 34                    	CMP   $34                               	If line number is at limit
<a name="LC790">$C790</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC796">$C796</a>                             	then skip test.
<a name="LC792">$C792</a>	E4 33                    	CPX   $33
<a name="LC794">$C794</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC798">$C798</a>
<a name="LC796">$C796</a>	B0 27                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7BF">$C7BF</a>                             	Exit if over line no. limit.
<a name="LC798">$C798</a>	84 B8                    	STY   $B8                               	save A and Y.
<a name="LC79A">$C79A</a>	48                       	PHA
<a name="LC79B">$C79B</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	Newline.
<a name="LC79E">$C79E</a>	68                       	PLA
<a name="LC79F">$C79F</a>	20 C5 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0C5">$E0C5</a>                             	Print line number.
<a name="LC7A2">$C7A2</a>	A9 20                    	LDA   #$20                              	Get space.
<a name="LC7A4">$C7A4</a>	A4 B8                    	LDY   $B8
<a name="LC7A6">$C7A6</a>	29 7F                    	AND   #$7F
<a name="LC7A8">$C7A8</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>                             	Print character.
<a name="LC7AB">$C7AB</a>	C8                       	INY
<a name="LC7AC">$C7AC</a>	F0 11                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7BF">$C7BF</a>                             	Exit if line too long.
<a name="LC7AE">$C7AE</a>	B1 CE                    	LDA   ($CE),Y
<a name="LC7B0">$C7B0</a>	D0 1E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7D0">$C7D0</a>                             	If not end of line print char
<a name="LC7B2">$C7B2</a>	A8                       	TAY                                     	or token.
<a name="LC7B3">$C7B3</a>	B1 CE                    	LDA   ($CE),Y
<a name="LC7B5">$C7B5</a>	AA                       	TAX
<a name="LC7B6">$C7B6</a>	C8                       	INY
<a name="LC7B7">$C7B7</a>	B1 CE                    	LDA   ($CE),Y
<a name="LC7B9">$C7B9</a>	86 CE                    	STX   $CE                               	Point to next line.
<a name="LC7BB">$C7BB</a>	85 CF                    	STA   $CF
<a name="LC7BD">$C7BD</a>	D0 AD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC76C">$C76C</a>                             	Go round and list next line.
<a name="LC7BF">$C7BF</a>	2C F2 02                 	BIT   $02F2                             	If "list return" flag is set
<a name="LC7C2">$C7C2</a>	10 01                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7C5">$C7C5</a>                             	then exit.
<a name="LC7C4">$C7C4</a>	60                       	RTS
<a name="LC7C5">$C7C5</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	Newline.
<a name="LC7C8">$C7C8</a>	20 2F C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC82F">$C82F</a>                             	Reset output to screen.
<a name="LC7CB">$C7CB</a>	68                       	PLA                                     	Remove address of calling
<a name="LC7CC">$C7CC</a>	68                       	PLA                                     	routine and restart Basic.
<a name="LC7CD">$C7CD</a>	4C A8 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4A8">$C4A8</a>
<a name="LC7D0">$C7D0</a>	10 D6                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7A8">$C7A8</a>                             	Print char if not a token.
<a name="LC7D2">$C7D2</a>	38                       	SEC
<a name="LC7D3">$C7D3</a>	E9 7F                    	SBC   #$7F                              	Get token count into X.
<a name="LC7D5">$C7D5</a>	AA                       	TAX
<a name="LC7D6">$C7D6</a>	84 B8                    	STY   $B8                               	Save Y.
<a name="LC7D8">$C7D8</a>	A0 00                    	LDY   #$00                              	Clear Y.
<a name="LC7DA">$C7DA</a>	A9 E9                    	LDA   #$E9                              	Set pointer to point to start
<a name="LC7DC">$C7DC</a>	85 18                    	STA   $18                               	1 byte before keyword list.
<a name="LC7DE">$C7DE</a>	A9 C0                    	LDA   #$C0
<a name="LC7E0">$C7E0</a>	85 19                    	STA   $19                               	Increment the pointer at $18/
<a name="LC7E2">$C7E2</a>	CA                       	DEX                                     	$19 until correct keyword is
<a name="LC7E3">$C7E3</a>	F0 0D                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7F2">$C7F2</a>                             	found.
<a name="LC7E5">$C7E5</a>	E6 18                    	INC   $18
<a name="LC7E7">$C7E7</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7EB">$C7EB</a>
<a name="LC7E9">$C7E9</a>	E6 19                    	INC   $19
<a name="LC7EB">$C7EB</a>	B1 18                    	LDA   ($18),Y
<a name="LC7ED">$C7ED</a>	10 F6                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7E5">$C7E5</a>
<a name="LC7EF">$C7EF</a>	4C E2 C7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7E2">$C7E2</a>
<a name="LC7F2">$C7F2</a>	C8                       	INY                                     	Get next char.
<a name="LC7F3">$C7F3</a>	B1 18                    	LDA   ($18),Y
<a name="LC7F5">$C7F5</a>	30 AD                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7A4">$C7A4</a>                             	Another token.
<a name="LC7F7">$C7F7</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>                             	Print char.
<a name="LC7FA">$C7FA</a>	4C F2 C7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC7F2">$C7F2</a>                             	Go round again.

LLIST
<a name="LC7FD">$C7FD</a>	20 16 C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC816">$C816</a>                             	LLIST
<a name="LC800">$C800</a>	4E F2 02                 	LSR   $02F2                             	Set output to printer, clear
<a name="LC803">$C803</a>	20 E8 00                 	JSR   $00E8                             	"list return" flag and perform
<a name="LC806">$C806</a>	4C 48 C7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC748">$C748</a>                             	list.

LPRINT
<a name="LC809">$C809</a>	20 16 C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC816">$C816</a>                             	LPRINT
<a name="LC80C">$C80C</a>	20 E8 00                 	JSR   $00E8                             	Set output to printer, perform
<a name="LC80F">$C80F</a>	20 AB CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBAB">$CBAB</a>                             	PRINT and set output back to
<a name="LC812">$C812</a>	20 2F C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC82F">$C82F</a>                             	screen.
<a name="LC815">$C815</a>	60                       	RTS

SETPRINTER
<a name="LC816">$C816</a>	2C F1 02                 	BIT   $02F1                             	SET OUTPUT TO PRINTER
<a name="LC819">$C819</a>	30 39                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC854">$C854</a>                             	Exit if printer is on.
<a name="LC81B">$C81B</a>	A5 30                    	LDA   $30                               	Save Basic Screen cursor
<a name="LC81D">$C81D</a>	8D 59 02                 	STA   $0259                             	position.
<a name="LC820">$C820</a>	AD 58 02                 	LDA   $0258                             	Transfer Printer cursor
<a name="LC823">$C823</a>	85 30                    	STA   $30                               	position.
<a name="LC825">$C825</a>	38                       	SEC
<a name="LC826">$C826</a>	6E F1 02                 	ROR   $02F1                             	Set printer to on.
<a name="LC829">$C829</a>	AD 56 02                 	LDA   $0256                             	Get printer line width and set
<a name="LC82C">$C82C</a>	4C 44 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC844">$C844</a>                             	up linewidth.

SETSCREEN
<a name="LC82F">$C82F</a>	2C F1 02                 	BIT   $02F1                             	SET OUTPUT TO SCREEN
<a name="LC832">$C832</a>	10 20                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC854">$C854</a>
<a name="LC834">$C834</a>	A5 30                    	LDA   $30                               	Save Basic printer cursor
<a name="LC836">$C836</a>	8D 58 02                 	STA   $0258                             	position.
<a name="LC839">$C839</a>	AD 59 02                 	LDA   $0259                             	Transfer Basic screen
<a name="LC83C">$C83C</a>	85 30                    	STA   $30                               	position.
<a name="LC83E">$C83E</a>	4E F1 02                 	LSR   $02F1                             	Clear printer flag.
<a name="LC841">$C841</a>	AD 57 02                 	LDA   $0257                             	Transfer screen width to $31
<a name="LC844">$C844</a>	85 31                    	STA   $31                               	and set content of $32 to the
<a name="LC846">$C846</a>	38                       	SEC                                     	multiple of 8 that is less
<a name="LC847">$C847</a>	E9 08                    	SBC   #$08                              	than or equal to content of
<a name="LC849">$C849</a>	B0 FB                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC846">$C846</a>                             	$31.
<a name="LC84B">$C84B</a>	49 FF                    	EOR   #$FF
<a name="LC84D">$C84D</a>	E9 06                    	SBC   #$06
<a name="LC84F">$C84F</a>	18                       	CLC
<a name="LC850">$C850</a>	65 31                    	ADC   $31
<a name="LC852">$C852</a>	85 32                    	STA   $32
<a name="LC854">$C854</a>	60                       	RTS

FOR
<a name="LC855">$C855</a>	A9 80                    	LDA   #$80                              	FOR
<a name="LC857">$C857</a>	85 2B                    	STA   $2B                               	Set 'no integer variables' flag.
<a name="LC859">$C859</a>	20 1C CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB1C">$CB1C</a>                             	Call 'LET' to assign loop var.
<a name="LC85C">$C85C</a>	20 C6 C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3C6">$C3C6</a>                             	Test &amp; branch if that loop
<a name="LC85F">$C85F</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC866">$C866</a>                             	doesn't already exist.
<a name="LC861">$C861</a>	8A                       	TXA                                     	Write over the old loop which
<a name="LC862">$C862</a>	69 0F                    	ADC   #$0F                              	has the same variable name -
<a name="LC864">$C864</a>	AA                       	TAX                                     	old loop is lost.
<a name="LC865">$C865</a>	9A                       	TXS
<a name="LC866">$C866</a>	68                       	PLA
<a name="LC867">$C867</a>	68                       	PLA
<a name="LC868">$C868</a>	A9 09                    	LDA   #$09                              	Check for 18 free bytes of
<a name="LC86A">$C86A</a>	20 37 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC437">$C437</a>                             	space on the stack.
<a name="LC86D">$C86D</a>	20 4E CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA4E">$CA4E</a>                             	Find end of statement.
<a name="LC870">$C870</a>	18                       	CLC
<a name="LC871">$C871</a>	98                       	TYA                                     	Save end of statement
<a name="LC872">$C872</a>	65 E9                    	ADC   $E9                               	address on the stack, low
<a name="LC874">$C874</a>	48                       	PHA                                     	byte first.
<a name="LC875">$C875</a>	A5 EA                    	LDA   $EA
<a name="LC877">$C877</a>	69 00                    	ADC   #$00
<a name="LC879">$C879</a>	48                       	PHA
<a name="LC87A">$C87A</a>	A5 A9                    	LDA   $A9                               	Save current line number on
<a name="LC87C">$C87C</a>	48                       	PHA                                     	stack.
<a name="LC87D">$C87D</a>	A5 A8                    	LDA   $A8
<a name="LC87F">$C87F</a>	48                       	PHA
<a name="LC880">$C880</a>	A9 C3                    	LDA   #$C3                              	Search for a 'TO' token, give
<a name="LC882">$C882</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>                             	error if not found.
<a name="LC885">$C885</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	Check numeric type.
<a name="LC888">$C888</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Evaluate expression.
<a name="LC88B">$C88B</a>	A5 D5                    	LDA   $D5
<a name="LC88D">$C88D</a>	09 7F                    	ORA   #$7F
<a name="LC88F">$C88F</a>	25 D1                    	AND   $D1
<a name="LC891">$C891</a>	85 D1                    	STA   $D1
<a name="LC893">$C893</a>	A9 9E                    	LDA   #$9E                              	Round off the value in the
<a name="LC895">$C895</a>	A0 C8                    	LDY   #$C8                              	main F1oating Point
<a name="LC897">$C897</a>	85 91                    	STA   $91                               	Accumulator and then push it
<a name="LC899">$C899</a>	84 92                    	STY   $92                               	on to the stack.
<a name="LC89B">$C89B</a>	4C C0 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFC0">$CFC0</a>
<a name="LC89E">$C89E</a>	A9 81                    	LDA   #$81                              	Unpack the floating point
<a name="LC8A0">$C8A0</a>	A0 DC                    	LDY   #$DC                              	number at $DC81 which is
<a name="LC8A2">$C8A2</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	default STEP size (1).
<a name="LC8A5">$C8A5</a>	20 E8 00                 	JSR   $00E8                             	Get next text character.
<a name="LC8A8">$C8A8</a>	C9 CB                    	CMP   #$CB                              	Test and branch if next char
<a name="LC8AA">$C8AA</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8B2">$C8B2</a>                             	is not a 'STEP' token.
<a name="LC8AC">$C8AC</a>	20 E2 00                 	JSR   $00E2                             	Get next text character.
<a name="LC8AF">$C8AF</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Evaluate expression.
<a name="LC8B2">$C8B2</a>	20 13 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF13">$DF13</a>                             	Get sign of STEP into A.
<a name="LC8B5">$C8B5</a>	20 B1 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFB1">$CFB1</a>                             	Put FPA on stack etc.
<a name="LC8B8">$C8B8</a>	A5 B9                    	LDA   $B9                               	Put variable address and FOR
<a name="LC8BA">$C8BA</a>	48                       	PHA                                     	token on the stack. Structure
<a name="LC8BB">$C8BB</a>	A5 B8                    	LDA   $B8                               	on stack for this loop is now
<a name="LC8BD">$C8BD</a>	48                       	PHA                                     	complete.
<a name="LC8BE">$C8BE</a>	A9 8D                    	LDA   #$8D
<a name="LC8C0">$C8C0</a>	48                       	PHA

DONEXTLINE
<a name="LC8C1">$C8C1</a>	20 62 C9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC962">$C962</a>                             	EXECUTE NEXT LINE
<a name="LC8C4">$C8C4</a>	A5 E9                    	LDA   $E9                               	Test for CTRL C
<a name="LC8C6">$C8C6</a>	A4 EA                    	LDY   $EA
<a name="LC8C8">$C8C8</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8D0">$C8D0</a>                             	Immediate mode.
<a name="LC8CA">$C8CA</a>	85 AC                    	STA   $AC                               	Save current position in
<a name="LC8CC">$C8CC</a>	84 AD                    	STY   $AD                               	program.
<a name="LC8CE">$C8CE</a>	A0 00                    	LDY   #$00                              	Branch if next char in program
<a name="LC8D0">$C8D0</a>	B1 E9                    	LDA   ($E9),Y                           	is not a null (end of line).
<a name="LC8D2">$C8D2</a>	D0 5B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC92F">$C92F</a>
<a name="LC8D4">$C8D4</a>	4E 52 02                 	LSR   $0252                             	Clear pending E1se flag.
<a name="LC8D7">$C8D7</a>	A0 02                    	LDY   #$02                              	Test if the address of next
<a name="LC8D9">$C8D9</a>	B1 E9                    	LDA   ($E9),Y                           	line is not a null. If it is,
<a name="LC8DB">$C8DB</a>	18                       	CLC                                     	then end program.
<a name="LC8DC">$C8DC</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8E1">$C8E1</a>
<a name="LC8DE">$C8DE</a>	4C 8A C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC98A">$C98A</a>
<a name="LC8E1">$C8E1</a>	C8                       	INY
<a name="LC8E2">$C8E2</a>	B1 E9                    	LDA   ($E9),Y                           	Load the next line number to
<a name="LC8E4">$C8E4</a>	85 A8                    	STA   $A8                               	be executed. This is now the
<a name="LC8E6">$C8E6</a>	C8                       	INY                                     	current line number.
<a name="LC8E7">$C8E7</a>	B1 E9                    	LDA   ($E9),Y
<a name="LC8E9">$C8E9</a>	85 A9                    	STA   $A9
<a name="LC8EB">$C8EB</a>	98                       	TYA
<a name="LC8EC">$C8EC</a>	65 E9                    	ADC   $E9                               	Update program position pointer.
<a name="LC8EE">$C8EE</a>	85 E9                    	STA   $E9
<a name="LC8F0">$C8F0</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8F4">$C8F4</a>
<a name="LC8F2">$C8F2</a>	E6 EA                    	INC   $EA
<a name="LC8F4">$C8F4</a>	2C F4 02                 	BIT   $02F4
<a name="LC8F7">$C8F7</a>	10 13                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC90C">$C90C</a>                             	TRACE is off.
<a name="LC8F9">$C8F9</a>	48                       	PHA
<a name="LC8FA">$C8FA</a>	A9 5B                    	LDA   #$5B
<a name="LC8FC">$C8FC</a>	20 FB CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCFB">$CCFB</a>                             	Print '[' to screen.
<a name="LC8FF">$C8FF</a>	A5 A9                    	LDA   $A9
<a name="LC901">$C901</a>	A6 A8                    	LDX   $A8                               	Print the current line number
<a name="LC903">$C903</a>	20 C5 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0C5">$E0C5</a>                             	on the screen.
<a name="LC906">$C906</a>	A9 5D                    	LDA   #$5D
<a name="LC908">$C908</a>	20 FB CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCFB">$CCFB</a>                             	Print ']' to screen.
<a name="LC90B">$C90B</a>	68                       	PLA
<a name="LC90C">$C90C</a>	20 E2 00                 	JSR   $00E2                             	Step through spaces in program.
<a name="LC90F">$C90F</a>	20 15 C9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC915">$C915</a>                             	Execute statement.
<a name="LC912">$C912</a>	4C C1 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8C1">$C8C1</a>

DOSTATEMENT
<a name="LC915">$C915</a>	F0 49                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC960">$C960</a>                             	EXECUTE STATEMENT. Exit if end
<a name="LC917">$C917</a>	E9 80                    	SBC   #$80                              	of line. Branch if not a token
<a name="LC919">$C919</a>	90 11                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC92C">$C92C</a>                             	- try an assignment.
<a name="LC91B">$C91B</a>	C9 42                    	CMP   #$42                              	If it is not a statement token
<a name="LC91D">$C91D</a>	B0 30                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC94F">$C94F</a>                             	then "SYNTAX ERROR"
<a name="LC91F">$C91F</a>	0A                       	ASL                                     	Get start address of token
<a name="LC920">$C920</a>	A8                       	TAY                                     	routine and put it on stack.
<a name="LC921">$C921</a>	B9 07 C0                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC007">$C007</a>,Y
<a name="LC924">$C924</a>	48                       	PHA
<a name="LC925">$C925</a>	B9 06 C0                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC006">$C006</a>,Y
<a name="LC928">$C928</a>	48                       	PHA
<a name="LC929">$C929</a>	4C E2 00                 	JMP   $00E2                             	Clear spaces &amp; enter routine.
<a name="LC92C">$C92C</a>	4C 1C CB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB1C">$CB1C</a>                             	Jump to 'LET' routine.
<a name="LC92F">$C92F</a>	C9 3A                    	CMP   #$3A                              	If ":" then do next statement.
<a name="LC931">$C931</a>	F0 C1                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8F4">$C8F4</a>
<a name="LC933">$C933</a>	C9 C8                    	CMP   #$C8                              	If not 'ELSE' token then check
<a name="LC935">$C935</a>	D0 0E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC945">$C945</a>                             	"
<a name="LC937">$C937</a>	2C 52 02                 	BIT   $0252                             	If no 'ELSE' pending then give
<a name="LC93A">$C93A</a>	10 13                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC94F">$C94F</a>                             	"SYNTAX ERROR".
<a name="LC93C">$C93C</a>	20 B1 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAB1">$CAB1</a>                             	Set text pointer to end of
<a name="LC93F">$C93F</a>	4E 52 02                 	LSR   $0252                             	statement &amp; clear ELSE pending
<a name="LC942">$C942</a>	4C C1 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8C1">$C8C1</a>                             	flag. Jump to next line.
<a name="LC945">$C945</a>	C9 27                    	CMP   #$27                              	Error if character is not a
<a name="LC947">$C947</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC94F">$C94F</a>                             	""'.
<a name="LC949">$C949</a>	20 99 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA99">$CA99</a>                             	Skip rest of line.
<a name="LC94C">$C94C</a>	4C C1 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8C1">$C8C1</a>                             	Go back to next line.
<a name="LC94F">$C94F</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR"

RESTORE
<a name="LC952">$C952</a>	38                       	SEC                                     	RESTORE
<a name="LC953">$C953</a>	A5 9A                    	LDA   $9A                               	This routine sets the 'DATA'
<a name="LC955">$C955</a>	E9 01                    	SBC   #$01                              	pointer to the address 1 byte
<a name="LC957">$C957</a>	A4 9B                    	LDY   $9B                               	below the Start of Basic.
<a name="LC959">$C959</a>	B0 01                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC95C">$C95C</a>
<a name="LC95B">$C95B</a>	88                       	DEY
<a name="LC95C">$C95C</a>	85 B0                    	STA   $B0
<a name="LC95E">$C95E</a>	84 B1                    	STY   $B1
<a name="LC960">$C960</a>	60                       	RTS
<a name="LC961">$C961</a>	60                       	RTS
<a name="LC962">$C962</a>	AD DF 02                 	LDA   $02DF                             	Load next char from keyboard
<a name="LC965">$C965</a>	10 F9                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC960">$C960</a>                             	and test for CTRL C.
<a name="LC967">$C967</a>	29 7F                    	AND   #$7F
<a name="LC969">$C969</a>	A2 08                    	LDX   #$08
<a name="LC96B">$C96B</a>	C9 03                    	CMP   #$03
<a name="LC96D">$C96D</a>	D0 F2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC961">$C961</a>                             	Exit if not CTRL C.
<a name="LC96F">$C96F</a>	C9 03                    	CMP   #$03                              	Set C to act like 'STOP'.
<a name="LC971">$C971</a>	B0 01                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC974">$C974</a>                             	STOP
<a name="LC973">$C973</a>	18                       	CLC                                     	END
<a name="LC974">$C974</a>	D0 43                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9B9">$C9B9</a>
<a name="LC976">$C976</a>	A5 E9                    	LDA   $E9
<a name="LC978">$C978</a>	A4 EA                    	LDY   $EA
<a name="LC97A">$C97A</a>	F0 0C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC988">$C988</a>                             	In immediate mode.
<a name="LC97C">$C97C</a>	85 AC                    	STA   $AC                               	Save current position in the
<a name="LC97E">$C97E</a>	84 AD                    	STY   $AD                               	program.
<a name="LC980">$C980</a>	A5 A8                    	LDA   $A8                               	Save the current line number.
<a name="LC982">$C982</a>	A4 A9                    	LDY   $A9
<a name="LC984">$C984</a>	85 AA                    	STA   $AA
<a name="LC986">$C986</a>	84 AB                    	STY   $AB
<a name="LC988">$C988</a>	68                       	PLA                                     	Remove address of calling
<a name="LC989">$C989</a>	68                       	PLA                                     	routine.
<a name="LC98A">$C98A</a>	A9 BD                    	LDA   #$BD                              	Set up parameters for jumping
<a name="LC98C">$C98C</a>	A0 C3                    	LDY   #$C3                              	back into command mode.
<a name="LC98E">$C98E</a>	A2 00                    	LDX   #$00
<a name="LC990">$C990</a>	8E F1 02                 	STX   $02F1                             	Clear printer flag.
<a name="LC993">$C993</a>	8E DF 02                 	STX   $02DF                             	Clear input char from keyboard
<a name="LC996">$C996</a>	86 2E                    	STX   $2E                               	Clear CTRL O flag.
<a name="LC998">$C998</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC99D">$C99D</a>                             	C=l if "BREAK AT ..." is to be
<a name="LC99A">$C99A</a>	4C 9D C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC49D">$C49D</a>                             	printed before going back to
<a name="LC99D">$C99D</a>	4C A8 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4A8">$C4A8</a>                             	command mode.

CONT
<a name="LC9A0">$C9A0</a>	D0 17                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9B9">$C9B9</a>                             	CONT
<a name="LC9A2">$C9A2</a>	A2 D7                    	LDX   #$D7
<a name="LC9A4">$C9A4</a>	A4 AD                    	LDY   $AD                               	Load the saved current program
<a name="LC9A6">$C9A6</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9AB">$C9AB</a>                             	position. Print "CAN'T CONT.."
<a name="LC9A8">$C9A8</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	error if in immediate mode.
<a name="LC9AB">$C9AB</a>	A5 AC                    	LDA   $AC                               	Put saved program position
<a name="LC9AD">$C9AD</a>	85 E9                    	STA   $E9                               	pointer into current position
<a name="LC9AF">$C9AF</a>	84 EA                    	STY   $EA                               	pointer. Do the same for the
<a name="LC9B1">$C9B1</a>	A5 AA                    	LDA   $AA                               	line numbers.
<a name="LC9B3">$C9B3</a>	A4 AB                    	LDY   $AB
<a name="LC9B5">$C9B5</a>	85 A8                    	STA   $A8
<a name="LC9B7">$C9B7</a>	84 A9                    	STY   $A9
<a name="LC9B9">$C9B9</a>	60                       	RTS                                     	Continue with program.
<a name="LC9BA">$C9BA</a>	4C 36 D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD336">$D336</a>                             	Print "ILLEGAL QUANTITY ERROR"

RUN
<a name="LC9BD">$C9BD</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9C2">$C9C2</a>                             	RUN  If not end of statement
<a name="LC9BF">$C9BF</a>	4C 08 C7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC708">$C708</a>                             	then execute from start.
<a name="LC9C2">$C9C2</a>	20 0F C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC70F">$C70F</a>                             	Perform 'CLEAR' and then
<a name="LC9C5">$C9C5</a>	4C DC C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9DC">$C9DC</a>                             	go to line number.

GOSUB
<a name="LC9C8">$C9C8</a>	A9 03                    	LDA   #$03                              	GOSUB
<a name="LC9CA">$C9CA</a>	20 37 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC437">$C437</a>                             	Test free space left on stack.
<a name="LC9CD">$C9CD</a>	A5 EA                    	LDA   $EA                               	Put current position pointer
<a name="LC9CF">$C9CF</a>	48                       	PHA                                     	on the stack.
<a name="LC9D0">$C9D0</a>	A5 E9                    	LDA   $E9
<a name="LC9D2">$C9D2</a>	48                       	PHA
<a name="LC9D3">$C9D3</a>	A5 A9                    	LDA   $A9                               	Put current line number on the
<a name="LC9D5">$C9D5</a>	48                       	PHA                                     	stack.
<a name="LC9D6">$C9D6</a>	A5 A8                    	LDA   $A8
<a name="LC9D8">$C9D8</a>	48                       	PHA
<a name="LC9D9">$C9D9</a>	A9 9B                    	LDA   #$9B                              	Put GOSUB token on stack.
<a name="LC9DB">$C9DB</a>	48                       	PHA
<a name="LC9DC">$C9DC</a>	20 E8 00                 	JSR   $00E8                             	Step through spaces in program.
<a name="LC9DF">$C9DF</a>	20 E5 C9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9E5">$C9E5</a>                             	Perform 'GOTO'.
<a name="LC9E2">$C9E2</a>	4C C1 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8C1">$C8C1</a>                             	Execute next statement/line.

GOTO
<a name="LC9E5">$C9E5</a>	20 53 E8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE853">$E853</a>                             	GOTO  Get +ve integer in $33/
<a name="LC9E8">$C9E8</a>	20 51 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA51">$CA51</a>                             	$34 &amp; find offset of line end.
<a name="LC9EB">$C9EB</a>	A5 A9                    	LDA   $A9                               	If going to a previous line in
<a name="LC9ED">$C9ED</a>	C5 34                    	CMP   $34                               	program then search from start
<a name="LC9EF">$C9EF</a>	B0 0B                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9FC">$C9FC</a>                             	of program.
<a name="LC9F1">$C9F1</a>	98                       	TYA
<a name="LC9F2">$C9F2</a>	38                       	SEC
<a name="LC9F3">$C9F3</a>	65 E9                    	ADC   $E9                               	Set A (LSB) and X to point to
<a name="LC9F5">$C9F5</a>	A6 EA                    	LDX   $EA                               	next line.
<a name="LC9F7">$C9F7</a>	90 07                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA00">$CA00</a>
<a name="LC9F9">$C9F9</a>	E8                       	INX
<a name="LC9FA">$C9FA</a>	B0 04                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA00">$CA00</a>
<a name="LC9FC">$C9FC</a>	A5 9A                    	LDA   $9A                               	Set A (LSB) and X to start of
<a name="LC9FE">$C9FE</a>	A6 9B                    	LDX   $9B                               	Basic program.
<a name="LCA00">$CA00</a>	20 BD C6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6BD">$C6BD</a>                             	Search for a line.
<a name="LCA03">$CA03</a>	90 1E                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA23">$CA23</a>                             	Print error if not found.
<a name="LCA05">$CA05</a>	A5 CE                    	LDA   $CE                               	Set program position to 1
<a name="LCA07">$CA07</a>	E9 01                    	SBC   #$01                              	byte before start of that
<a name="LCA09">$CA09</a>	85 E9                    	STA   $E9                               	line.
<a name="LCA0B">$CA0B</a>	A5 CF                    	LDA   $CF
<a name="LCA0D">$CA0D</a>	E9 00                    	SBC   #$00
<a name="LCA0F">$CA0F</a>	85 EA                    	STA   $EA
<a name="LCA11">$CA11</a>	60                       	RTS                                     	Exit.

RETURN
<a name="LCA12">$CA12</a>	D0 FD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA11">$CA11</a>                             	POP &amp; RETURN
<a name="LCA14">$CA14</a>	A9 FF                    	LDA   #$FF
<a name="LCA16">$CA16</a>	85 B9                    	STA   $B9                               	Set stack to position where
<a name="LCA18">$CA18</a>	20 C6 C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3C6">$C3C6</a>                             	the GOSUB token is expected.
<a name="LCA1B">$CA1B</a>	9A                       	TXS
<a name="LCA1C">$CA1C</a>	C9 9B                    	CMP   #$9B
<a name="LCA1E">$CA1E</a>	F0 0B                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA2B">$CA2B</a>                             	Branch if GOSUB token found.
<a name="LCA20">$CA20</a>	A2 16                    	LDX   #$16                              	Print "RETURN WITHOUT GOSUB.."
<a name="LCA22">$CA22</a>	2C A2 5A                 	BIT   $5AA2                             	Hides a print "UNDEF'D STAT.."
<a name="LCA25">$CA25</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	Go to print error message.
<a name="LCA28">$CA28</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR"
<a name="LCA2B">$CA2B</a>	68                       	PLA
<a name="LCA2C">$CA2C</a>	68                       	PLA
<a name="LCA2D">$CA2D</a>	C0 0C                    	CPY   #$0C
<a name="LCA2F">$CA2F</a>	F0 19                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA4A">$CA4A</a>                             	Token is that of 'POP'.
<a name="LCA31">$CA31</a>	85 A8                    	STA   $A8                               	Returning from GOSUB so
<a name="LCA33">$CA33</a>	68                       	PLA                                     	restore old line number and
<a name="LCA34">$CA34</a>	85 A9                    	STA   $A9                               	program position counter.
<a name="LCA36">$CA36</a>	68                       	PLA
<a name="LCA37">$CA37</a>	85 E9                    	STA   $E9
<a name="LCA39">$CA39</a>	68                       	PLA
<a name="LCA3A">$CA3A</a>	85 EA                    	STA   $EA
<a name="LCA3C">$CA3C</a>	20 4E CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA4E">$CA4E</a>                             	DATA  Find end of line.
<a name="LCA3F">$CA3F</a>	98                       	TYA
<a name="LCA40">$CA40</a>	18                       	CLC                                     	Adjust program position to
<a name="LCA41">$CA41</a>	65 E9                    	ADC   $E9                               	end of the line.
<a name="LCA43">$CA43</a>	85 E9                    	STA   $E9
<a name="LCA45">$CA45</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA49">$CA49</a>
<a name="LCA47">$CA47</a>	E6 EA                    	INC   $EA
<a name="LCA49">$CA49</a>	60                       	RTS
<a name="LCA4A">$CA4A</a>	68                       	PLA                                     	Correct stack pointer for POP
<a name="LCA4B">$CA4B</a>	68                       	PLA                                     	command.
<a name="LCA4C">$CA4C</a>	68                       	PLA
<a name="LCA4D">$CA4D</a>	60                       	RTS

FINDENDOFSTATEMENT
<a name="LCA4E">$CA4E</a>	A2 3A                    	LDX   #$3A                              	FIND END OF STATEMENT
<a name="LCA50">$CA50</a>	2C A2 00                 	BIT   $00A2                             	FIND END OF LINE
<a name="LCA53">$CA53</a>	86 24                    	STX   $24
<a name="LCA55">$CA55</a>	A0 00                    	LDY   #$00
<a name="LCA57">$CA57</a>	84 25                    	STY   $25                               	Swap match characters - colon
<a name="LCA59">$CA59</a>	A5 25                    	LDA   $25                               	for end of statement, null for
<a name="LCA5B">$CA5B</a>	A6 24                    	LDX   $24                               	end of line.
<a name="LCA5D">$CA5D</a>	85 24                    	STA   $24
<a name="LCA5F">$CA5F</a>	86 25                    	STX   $25
<a name="LCA61">$CA61</a>	B1 E9                    	LDA   ($E9),Y
<a name="LCA63">$CA63</a>	F0 E4                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA49">$CA49</a>                             	Exit if end of line.
<a name="LCA65">$CA65</a>	C5 25                    	CMP   $25
<a name="LCA67">$CA67</a>	F0 E0                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA49">$CA49</a>                             	Exit if match made.
<a name="LCA69">$CA69</a>	C8                       	INY
<a name="LCA6A">$CA6A</a>	C9 22                    	CMP   #$22                              	If " then swap match chars.
<a name="LCA6C">$CA6C</a>	D0 F3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA61">$CA61</a>                             	Loop again
<a name="LCA6E">$CA6E</a>	F0 E9                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA59">$CA59</a>

IF
<a name="LCA70">$CA70</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	IF  Evaluate expression.
<a name="LCA73">$CA73</a>	20 E8 00                 	JSR   $00E8                             	Clear spaces in text.
<a name="LCA76">$CA76</a>	C9 97                    	CMP   #$97
<a name="LCA78">$CA78</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA7F">$CA7F</a>                             	Token is that of 'GOTO'.
<a name="LCA7A">$CA7A</a>	A9 C9                    	LDA   #$C9                              	Search for 'THEN' token.
<a name="LCA7C">$CA7C</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>
<a name="LCA7F">$CA7F</a>	A5 D0                    	LDA   $D0
<a name="LCA81">$CA81</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA88">$CA88</a>                             	Condition is true.
<a name="LCA83">$CA83</a>	20 9E CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA9E">$CA9E</a>                             	Condition is false.
<a name="LCA86">$CA86</a>	F0 B7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA3F">$CA3F</a>
<a name="LCA88">$CA88</a>	20 E8 00                 	JSR   $00E8                             	Get next text character.
<a name="LCA8B">$CA8B</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA90">$CA90</a>
<a name="LCA8D">$CA8D</a>	4C E5 C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC9E5">$C9E5</a>                             	Jump to 'GOTO'
<a name="LCA90">$CA90</a>	08                       	PHP
<a name="LCA91">$CA91</a>	38                       	SEC
<a name="LCA92">$CA92</a>	6E 52 02                 	ROR   $0252                             	Set Else pending flag.
<a name="LCA95">$CA95</a>	28                       	PLP
<a name="LCA96">$CA96</a>	4C 15 C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC915">$C915</a>                             	Execute statement.

REM
<a name="LCA99">$CA99</a>	20 51 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA51">$CA51</a>                             	REM  Find end of line.
<a name="LCA9C">$CA9C</a>	F0 A1                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA3F">$CA3F</a>                             	Branch always.
<a name="LCA9E">$CA9E</a>	A0 00                    	LDY   #$00
<a name="LCAA0">$CAA0</a>	B1 E9                    	LDA   ($E9),Y                           	If at end of line no 'THEN's
<a name="LCAA2">$CAA2</a>	F0 0C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAB0">$CAB0</a>                             	or 'ELSE's to deal with.
<a name="LCAA4">$CAA4</a>	C8                       	INY
<a name="LCAA5">$CAA5</a>	C9 C9                    	CMP   #$C9                              	Test for 'THEN' token.
<a name="LCAA7">$CAA7</a>	F0 F0                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA99">$CA99</a>                             	'THEN' token found.
<a name="LCAA9">$CAA9</a>	C9 C8                    	CMP   #$C8                              	Test for 'ELSE' token.
<a name="LCAAB">$CAAB</a>	D0 F3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAA0">$CAA0</a>                             	'ELSE' token not found.
<a name="LCAAD">$CAAD</a>	4C 3F CA                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA3F">$CA3F</a>                             	Set program position to line end.
<a name="LCAB0">$CAB0</a>	60                       	RTS                                     	Exit.
<a name="LCAB1">$CAB1</a>	A0 FF                    	LDY   #$FF                              	Set program position pointer
<a name="LCAB3">$CAB3</a>	C8                       	INY                                     	to end of line.
<a name="LCAB4">$CAB4</a>	B1 E9                    	LDA   ($E9),Y
<a name="LCAB6">$CAB6</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCABC">$CABC</a>                             	Step through program until a
<a name="LCAB8">$CAB8</a>	C9 3A                    	CMP   #$3A                              	null or colon is found. Then
<a name="LCABA">$CABA</a>	D0 F7                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAB3">$CAB3</a>                             	jump to update program
<a name="LCABC">$CABC</a>	4C 3F CA                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA3F">$CA3F</a>                             	position pointer.
<a name="LCABF">$CABF</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".

ON
<a name="LCAC2">$CAC2</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	ON  Get single byte expression
<a name="LCAC5">$CAC5</a>	48                       	PHA                                     	which returns in X and $D4.
<a name="LCAC6">$CAC6</a>	C9 9B                    	CMP   #$9B
<a name="LCAC8">$CAC8</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCACE">$CACE</a>                             	Found a 'GOSUB' token.
<a name="LCACA">$CACA</a>	C9 97                    	CMP   #$97                              	Error if character is not a
<a name="LCACC">$CACC</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCABF">$CABF</a>                             	'GOTO' token.
<a name="LCACE">$CACE</a>	C6 D4                    	DEC   $D4                               	Step through arguments until
<a name="LCAD0">$CAD0</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAD6">$CAD6</a>                             	correct line number is found.
<a name="LCAD2">$CAD2</a>	68                       	PLA
<a name="LCAD3">$CAD3</a>	4C 17 C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC917">$C917</a>                             	Execute statement.
<a name="LCAD6">$CAD6</a>	20 E2 00                 	JSR   $00E2                             	Step through spaces in text.
<a name="LCAD9">$CAD9</a>	20 E2 CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE2">$CAE2</a>                             	Get 2 byte integer from text.
<a name="LCADC">$CADC</a>	C9 2C                    	CMP   #$2C
<a name="LCADE">$CADE</a>	F0 EE                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCACE">$CACE</a>                             	Character is a comma.
<a name="LCAE0">$CAE0</a>	68                       	PLA                                     	Exit if char was not a comma.
<a name="LCAE1">$CAE1</a>	60                       	RTS

TXT2INT
<a name="LCAE2">$CAE2</a>	A2 00                    	LDX   #$00                              	GET 2 BYTE INTEGER FROM TEXT
<a name="LCAE4">$CAE4</a>	86 33                    	STX   $33                               	Zero result.
<a name="LCAE6">$CAE6</a>	86 34                    	STX   $34
<a name="LCAE8">$CAE8</a>	B0 F7                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE1">$CAE1</a>                             	Exit if no more digits.
<a name="LCAEA">$CAEA</a>	E9 2F                    	SBC   #$2F                              	Put value of digit into $24.
<a name="LCAEC">$CAEC</a>	85 24                    	STA   $24
<a name="LCAEE">$CAEE</a>	A5 34                    	LDA   $34                               	Transfer MSB to temporary
<a name="LCAF0">$CAF0</a>	85 91                    	STA   $91                               	work byte.
<a name="LCAF2">$CAF2</a>	C9 19                    	CMP   #$19                              	Syntax error if MSB is over
<a name="LCAF4">$CAF4</a>	B0 D4                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCACA">$CACA</a>                             	25 - result will be too big.
<a name="LCAF6">$CAF6</a>	A5 33                    	LDA   $33                               	Multiply original number by
<a name="LCAF8">$CAF8</a>	0A                       	ASL                                     	10, firstly adding itself to
<a name="LCAF9">$CAF9</a>	26 91                    	ROL   $91                               	4 times itself to give 5 times
<a name="LCAFB">$CAFB</a>	0A                       	ASL                                     	itself. Then double result.
<a name="LCAFC">$CAFC</a>	26 91                    	ROL   $91
<a name="LCAFE">$CAFE</a>	65 33                    	ADC   $33
<a name="LCB00">$CB00</a>	85 33                    	STA   $33
<a name="LCB02">$CB02</a>	A5 91                    	LDA   $91
<a name="LCB04">$CB04</a>	65 34                    	ADC   $34
<a name="LCB06">$CB06</a>	85 34                    	STA   $34
<a name="LCB08">$CB08</a>	06 33                    	ASL   $33
<a name="LCB0A">$CB0A</a>	26 34                    	ROL   $34
<a name="LCB0C">$CB0C</a>	A5 33                    	LDA   $33
<a name="LCB0E">$CB0E</a>	65 24                    	ADC   $24                               	Add in next digit.
<a name="LCB10">$CB10</a>	85 33                    	STA   $33
<a name="LCB12">$CB12</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB16">$CB16</a>
<a name="LCB14">$CB14</a>	E6 34                    	INC   $34                               	Overflow from LSB into MSB.
<a name="LCB16">$CB16</a>	20 E2 00                 	JSR   $00E2                             	Get next non space character.
<a name="LCB19">$CB19</a>	4C E8 CA                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCAE8">$CAE8</a>                             	Jump to do next number.

LET
<a name="LCB1C">$CB1C</a>	20 88 D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD188">$D188</a>                             	LET  Get variable.
<a name="LCB1F">$CB1F</a>	85 B8                    	STA   $B8                               	Save location.
<a name="LCB21">$CB21</a>	84 B9                    	STY   $B9
<a name="LCB23">$CB23</a>	A9 D4                    	LDA   #$D4                              	Give error if "=" is not next
<a name="LCB25">$CB25</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>                             	character.
<a name="LCB28">$CB28</a>	A5 29                    	LDA   $29                               	Save integer variable flag.
<a name="LCB2A">$CB2A</a>	48                       	PHA
<a name="LCB2B">$CB2B</a>	A5 28                    	LDA   $28                               	Save string variable flag.
<a name="LCB2D">$CB2D</a>	48                       	PHA
<a name="LCB2E">$CB2E</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate expression.
<a name="LCB31">$CB31</a>	68                       	PLA
<a name="LCB32">$CB32</a>	2A                       	ROL                                     	Check type matches.
<a name="LCB33">$CB33</a>	20 09 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF09">$CF09</a>
<a name="LCB36">$CB36</a>	D0 18                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB50">$CB50</a>                             	Do string assignment.
<a name="LCB38">$CB38</a>	68                       	PLA
<a name="LCB39">$CB39</a>	10 12                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB4D">$CB4D</a>                             	If real do floating point number.
<a name="LCB3B">$CB3B</a>	20 F4 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF4">$DEF4</a>                             	Round off main FPA and convert
<a name="LCB3E">$CB3E</a>	20 A9 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2A9">$D2A9</a>                             	to 2 byte signed integer.
<a name="LCB41">$CB41</a>	A0 00                    	LDY   #$00
<a name="LCB43">$CB43</a>	A5 D3                    	LDA   $D3                               	Store value into integer
<a name="LCB45">$CB45</a>	91 B8                    	STA   ($B8),Y                           	variable.
<a name="LCB47">$CB47</a>	C8                       	INY
<a name="LCB48">$CB48</a>	A5 D4                    	LDA   $D4
<a name="LCB4A">$CB4A</a>	91 B8                    	STA   ($B8),Y
<a name="LCB4C">$CB4C</a>	60                       	RTS
<a name="LCB4D">$CB4D</a>	4C A9 DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEA9">$DEA9</a>                             	Pack main FPA.
<a name="LCB50">$CB50</a>	68                       	PLA                                     	String assignment.
<a name="LCB51">$CB51</a>	A0 02                    	LDY   #$02                              	If pointer to strings is
<a name="LCB53">$CB53</a>	B1 D3                    	LDA   ($D3),Y                           	beyond start of string block
<a name="LCB55">$CB55</a>	C5 A3                    	CMP   $A3                               	then branch to use present
<a name="LCB57">$CB57</a>	90 17                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB70">$CB70</a>                             	block of data about string.
<a name="LCB59">$CB59</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB62">$CB62</a>
<a name="LCB5B">$CB5B</a>	88                       	DEY
<a name="LCB5C">$CB5C</a>	B1 D3                    	LDA   ($D3),Y
<a name="LCB5E">$CB5E</a>	C5 A2                    	CMP   $A2
<a name="LCB60">$CB60</a>	90 0E                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB70">$CB70</a>
<a name="LCB62">$CB62</a>	A4 D4                    	LDY   $D4
<a name="LCB64">$CB64</a>	C4 9D                    	CPY   $9D                               	If string data block is
<a name="LCB66">$CB66</a>	90 08                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB70">$CB70</a>                             	beyond end of Basic then it is
<a name="LCB68">$CB68</a>	D0 0D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB77">$CB77</a>                             	in variable block. Copy it
<a name="LCB6A">$CB6A</a>	A5 D3                    	LDA   $D3                               	down and set up new string
<a name="LCB6C">$CB6C</a>	C5 9C                    	CMP   $9C                               	block.
<a name="LCB6E">$CB6E</a>	B0 07                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB77">$CB77</a>
<a name="LCB70">$CB70</a>	A5 D3                    	LDA   $D3
<a name="LCB72">$CB72</a>	A4 D4                    	LDY   $D4
<a name="LCB74">$CB74</a>	4C 8D CB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB8D">$CB8D</a>
<a name="LCB77">$CB77</a>	A0 00                    	LDY   #$00
<a name="LCB79">$CB79</a>	B1 D3                    	LDA   ($D3),Y                           	Get string length and set up
<a name="LCB7B">$CB7B</a>	20 A3 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5A3">$D5A3</a>                             	new string &amp; data block.
<a name="LCB7E">$CB7E</a>	A5 BF                    	LDA   $BF                               	Copy pointers to present
<a name="LCB80">$CB80</a>	A4 C0                    	LDY   $C0                               	string into $DE/$DF.
<a name="LCB82">$CB82</a>	85 DE                    	STA   $DE
<a name="LCB84">$CB84</a>	84 DF                    	STY   $DF
<a name="LCB86">$CB86</a>	20 A4 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7A4">$D7A4</a>                             	Transfer string into position.
<a name="LCB89">$CB89</a>	A9 D0                    	LDA   #$D0                              	Use data block at $00,$01,$02.
<a name="LCB8B">$CB8B</a>	A0 00                    	LDY   #$00
<a name="LCB8D">$CB8D</a>	85 BF                    	STA   $BF
<a name="LCB8F">$CB8F</a>	84 C0                    	STY   $C0
<a name="LCB91">$CB91</a>	20 05 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD805">$D805</a>                             	Release from string stack if
<a name="LCB94">$CB94</a>	A0 00                    	LDY   #$00                              	temporary.
<a name="LCB96">$CB96</a>	B1 BF                    	LDA   ($BF),Y                           	Copy data block into variable
<a name="LCB98">$CB98</a>	91 B8                    	STA   ($B8),Y                           	area so that it is now a
<a name="LCB9A">$CB9A</a>	C8                       	INY                                     	string pointer.
<a name="LCB9B">$CB9B</a>	B1 BF                    	LDA   ($BF),Y
<a name="LCB9D">$CB9D</a>	91 B8                    	STA   ($B8),Y
<a name="LCB9F">$CB9F</a>	C8                       	INY
<a name="LCBA0">$CBA0</a>	B1 BF                    	LDA   ($BF),Y
<a name="LCBA2">$CBA2</a>	91 B8                    	STA   ($B8),Y
<a name="LCBA4">$CBA4</a>	60                       	RTS                                     	Exit.
<a name="LCBA5">$CBA5</a>	20 B3 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB3">$CCB3</a>                             	Set up string data in main FPA
<a name="LCBA8">$CBA8</a>	20 E8 00                 	JSR   $00E8                             	and print string out.

PRINT
<a name="LCBAB">$CBAB</a>	F0 43                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	PRINT Newline if no data.
<a name="LCBAD">$CBAD</a>	F0 5C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC0B">$CC0B</a>                             	Exit if no more data.
<a name="LCBAF">$CBAF</a>	C9 C2                    	CMP   #$C2
<a name="LCBB1">$CBB1</a>	F0 7B                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC2E">$CC2E</a>                             	'TAB(' token found.
<a name="LCBB3">$CBB3</a>	C9 C5                    	CMP   #$C5
<a name="LCBB5">$CBB5</a>	18                       	CLC
<a name="LCBB6">$CBB6</a>	F0 76                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC2E">$CC2E</a>                             	'SPC(' token found.
<a name="LCBB8">$CBB8</a>	C9 2C                    	CMP   #$2C
<a name="LCBBA">$CBBA</a>	F0 50                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC0C">$CC0C</a>                             	Comma found.
<a name="LCBBC">$CBBC</a>	C9 3B                    	CMP   #$3B
<a name="LCBBE">$CBBE</a>	F0 6B                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC2B">$CC2B</a>                             	Semi-colon found.
<a name="LCBC0">$CBC0</a>	C9 C6                    	CMP   #$C6
<a name="LCBC2">$CBC2</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBC7">$CBC7</a>                             	Character is not an '@'
<a name="LCBC4">$CBC4</a>	4C 59 CC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC59">$CC59</a>                             	Set cursor for '@' command.
<a name="LCBC7">$CBC7</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate expression.
<a name="LCBCA">$CBCA</a>	24 28                    	BIT   $28
<a name="LCBCC">$CBCC</a>	30 D7                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBA5">$CBA5</a>                             	String flag is set.
<a name="LCBCE">$CBCE</a>	20 D5 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0D5">$E0D5</a>                             	Convert number to string.
<a name="LCBD1">$CBD1</a>	20 B5 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5B5">$D5B5</a>                             	Get string after first ".
<a name="LCBD4">$CBD4</a>	A0 00                    	LDY   #$00
<a name="LCBD6">$CBD6</a>	B1 D3                    	LDA   ($D3),Y
<a name="LCBD8">$CBD8</a>	18                       	CLC
<a name="LCBD9">$CBD9</a>	65 30                    	ADC   $30
<a name="LCBDB">$CBDB</a>	C5 31                    	CMP   $31                               	Branch if there will not be
<a name="LCBDD">$CBDD</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBE2">$CBE2</a>                             	overflow on to next line.
<a name="LCBDF">$CBDF</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	Newline.
<a name="LCBE2">$CBE2</a>	20 B3 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB3">$CCB3</a>                             	Print the string.
<a name="LCBE5">$CBE5</a>	20 D4 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD4">$CCD4</a>                             	Print a space.
<a name="LCBE8">$CBE8</a>	D0 BE                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBA8">$CBA8</a>                             	Branch back for more.
<a name="LCBEA">$CBEA</a>	A0 00                    	LDY   #$00                              	Finish off input buffer by
<a name="LCBEC">$CBEC</a>	94 35                    	STY   $35,X                             	writing zero to last position.
<a name="LCBEE">$CBEE</a>	A2 34                    	LDX   #$34

NEWLINE
<a name="LCBF0">$CBF0</a>	A5 30                    	LDA   $30                               	NEWLINE
<a name="LCBF2">$CBF2</a>	48                       	PHA                                     	Save cursor position.
<a name="LCBF3">$CBF3</a>	A9 0D                    	LDA   #$0D                              	Print carnage
<a name="LCBF5">$CBF5</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>
<a name="LCBF8">$CBF8</a>	68                       	PLA                                     	Restore cursor position.
<a name="LCBF9">$CBF9</a>	2C F1 02                 	BIT   $02F1
<a name="LCBFC">$CBFC</a>	30 04                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC02">$CC02</a>                             	Printer is on.
<a name="LCBFE">$CBFE</a>	C5 31                    	CMP   $31                               	Test and branch if cursor is
<a name="LCC00">$CC00</a>	F0 09                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC0B">$CC0B</a>                             	at maximum line width.
<a name="LCC02">$CC02</a>	A9 00                    	LDA   #$00                              	Zero the cursor.
<a name="LCC04">$CC04</a>	85 30                    	STA   $30
<a name="LCC06">$CC06</a>	A9 0A                    	LDA   #$0A                              	Print a line feed char.
<a name="LCC08">$CC08</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>
<a name="LCC0B">$CC0B</a>	60                       	RTS
<a name="LCC0C">$CC0C</a>	A5 30                    	LDA   $30
<a name="LCC0E">$CC0E</a>	2C F1 02                 	BIT   $02F1
<a name="LCC11">$CC11</a>	30 04                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC17">$CC17</a>                             	Printer is enabled.
<a name="LCC13">$CC13</a>	38                       	SEC
<a name="LCC14">$CC14</a>	ED 53 02                 	SBC   $0253                             	Subtract content of $253 off
<a name="LCC17">$CC17</a>	38                       	SEC                                     	cursor position and then find
<a name="LCC18">$CC18</a>	E9 08                    	SBC   #$08                              	difference between that and
<a name="LCC1A">$CC1A</a>	B0 FC                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC18">$CC18</a>                             	the next multiple of 8.
<a name="LCC1C">$CC1C</a>	49 FF                    	EOR   #$FF
<a name="LCC1E">$CC1E</a>	69 01                    	ADC   #$01
<a name="LCC20">$CC20</a>	AA                       	TAX
<a name="LCC21">$CC21</a>	18                       	CLC
<a name="LCC22">$CC22</a>	65 30                    	ADC   $30                               	If next multiple of 8 in
<a name="LCC24">$CC24</a>	C5 31                    	CMP   $31                               	cursor position is not off
<a name="LCC26">$CC26</a>	90 1F                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC47">$CC47</a>                             	the screen then branch.
<a name="LCC28">$CC28</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	Newline.
<a name="LCC2B">$CC2B</a>	4C 4B CC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC4B">$CC4B</a>                             	Go back for more.
<a name="LCC2E">$CC2E</a>	08                       	PHP                                     	Deal with 'TAB(' and 'SPC('.
<a name="LCC2F">$CC2F</a>	20 C5 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C5">$D8C5</a>                             	Get single byte expression.
<a name="LCC32">$CC32</a>	C9 29                    	CMP   #$29
<a name="LCC34">$CC34</a>	D0 20                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC56">$CC56</a>                             	')' not found.
<a name="LCC36">$CC36</a>	28                       	PLP
<a name="LCC37">$CC37</a>	90 0E                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC47">$CC47</a>                             	'SPC(' token.
<a name="LCC39">$CC39</a>	8A                       	TXA                                     	'TAB(' token.
<a name="LCC3A">$CC3A</a>	C5 31                    	CMP   $31
<a name="LCC3C">$CC3C</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC41">$CC41</a>                             	If TAB will go off screen then
<a name="LCC3E">$CC3E</a>	4C 36 D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD336">$D336</a>                             	print "ILLEGAL QUANTITY ERROR"
<a name="LCC41">$CC41</a>	38                       	SEC
<a name="LCC42">$CC42</a>	E5 30                    	SBC   $30                               	Branch if TAB column is before
<a name="LCC44">$CC44</a>	90 05                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC4B">$CC4B</a>                             	current cursor column.
<a name="LCC46">$CC46</a>	AA                       	TAX
<a name="LCC47">$CC47</a>	E8                       	INX                                     	Print spaces to get cursor in
<a name="LCC48">$CC48</a>	CA                       	DEX                                     	correct column for next chars
<a name="LCC49">$CC49</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC51">$CC51</a>                             	to be printed.
<a name="LCC4B">$CC4B</a>	20 E2 00                 	JSR   $00E2                             	Clear spaces in text.
<a name="LCC4E">$CC4E</a>	4C AD CB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBAD">$CBAD</a>                             	Jump back to print more.
<a name="LCC51">$CC51</a>	20 D4 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD4">$CCD4</a>                             	Print space.
<a name="LCC54">$CC54</a>	D0 F2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC48">$CC48</a>                             	Jump back for more.
<a name="LCC56">$CC56</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR"

SETCURSOR
<a name="LCC59">$CC59</a>	2C F1 02                 	BIT   $02F1                             	SET CURSOR FOR '@'
<a name="LCC5C">$CC5C</a>	30 F8                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC56">$CC56</a>                             	Printer is on.
<a name="LCC5E">$CC5E</a>	AE 1F 02                 	LDX   $021F
<a name="LCC61">$CC61</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC66">$CC66</a>                             	In text mode.
<a name="LCC63">$CC63</a>	4C F7 EA                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEAF7">$EAF7</a>                             	Print "DISP TYPE MISMATCH E.."
<a name="LCC66">$CC66</a>	20 C5 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C5">$D8C5</a>                             	Get single byte expression.
<a name="LCC69">$CC69</a>	E0 28                    	CPX   #$28                              	Print "ILLEGAL QUANTITY ERROR"
<a name="LCC6B">$CC6B</a>	B0 40                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCAD">$CCAD</a>                             	if going off screen.
<a name="LCC6D">$CC6D</a>	86 0C                    	STX   $0C
<a name="LCC6F">$CC6F</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test for comma.
<a name="LCC72">$CC72</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	Get single byte expression.
<a name="LCC75">$CC75</a>	E8                       	INX
<a name="LCC76">$CC76</a>	E0 1C                    	CPX   #$1C                              	Give error if cursor will be
<a name="LCC78">$CC78</a>	B0 33                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCAD">$CCAD</a>                             	off bottom of screen.
<a name="LCC7A">$CC7A</a>	AD 6A 02                 	LDA   $026A
<a name="LCC7D">$CC7D</a>	48                       	PHA                                     	Temporarily disable cursor.
<a name="LCC7E">$CC7E</a>	29 FE                    	AND   #$FE
<a name="LCC80">$CC80</a>	8D 6A 02                 	STA   $026A
<a name="LCC83">$CC83</a>	A9 00                    	LDA   #$00                              	Turn cursor off.
<a name="LCC85">$CC85</a>	20 01 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF801">$F801</a>
<a name="LCC88">$CC88</a>	A5 0C                    	LDA   $0C                               	Put new cursor column and rows
<a name="LCC8A">$CC8A</a>	8D 69 02                 	STA   $0269                             	into the locations used by the
<a name="LCC8D">$CC8D</a>	8A                       	TXA                                     	operating system.
<a name="LCC8E">$CC8E</a>	8D 68 02                 	STA   $0268
<a name="LCC91">$CC91</a>	20 0C DA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA0C">$DA0C</a>                             	Calculate screen row address.
<a name="LCC94">$CC94</a>	A5 1F                    	LDA   $1F                               	Put start of current row
<a name="LCC96">$CC96</a>	A4 20                    	LDY   $20                               	address into correct pointer.
<a name="LCC98">$CC98</a>	85 12                    	STA   $12
<a name="LCC9A">$CC9A</a>	84 13                    	STY   $13
<a name="LCC9C">$CC9C</a>	68                       	PLA                                     	Restore cursor flag.
<a name="LCC9D">$CC9D</a>	8D 6A 02                 	STA   $026A
<a name="LCCA0">$CCA0</a>	A9 01                    	LDA   #$01                              	Turn cursor back on.
<a name="LCCA2">$CCA2</a>	20 01 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF801">$F801</a>
<a name="LCCA5">$CCA5</a>	A9 3B                    	LDA   #$3B
<a name="LCCA7">$CCA7</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>                             	Test for a ";" in text.
<a name="LCCAA">$CCAA</a>	4C AD CB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBAD">$CBAD</a>                             	Jump back for more.
<a name="LCCAD">$CCAD</a>	4C C2 D8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	Print "ILLEGAL QUANTITY...".

PRINTSTRING
<a name="LCCB0">$CCB0</a>	20 B5 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5B5">$D5B5</a>                             	PRINT OUT STRING AFTER "
<a name="LCCB3">$CCB3</a>	20 D0 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D0">$D7D0</a>                             	Get string after " and set up
<a name="LCCB6">$CCB6</a>	AA                       	TAX                                     	string in main FPA.
<a name="LCCB7">$CCB7</a>	A0 00                    	LDY   #$00
<a name="LCCB9">$CCB9</a>	E8                       	INX                                     	Print out the number of chars
<a name="LCCBA">$CCBA</a>	CA                       	DEX                                     	held in X using the pointer at
<a name="LCCBB">$CCBB</a>	F0 10                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCCD">$CCCD</a>                             	$91/$92 to load in string from
<a name="LCCBD">$CCBD</a>	B1 91                    	LDA   ($91),Y                           	memory.
<a name="LCCBF">$CCBF</a>	20 D9 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD9">$CCD9</a>
<a name="LCCC2">$CCC2</a>	C8                       	INY
<a name="LCCC3">$CCC3</a>	C9 0D                    	CMP   #$0D
<a name="LCCC5">$CCC5</a>	D0 F3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCBA">$CCBA</a>
<a name="LCCC7">$CCC7</a>	20 0B CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCC0B">$CC0B</a>
<a name="LCCCA">$CCCA</a>	4C BA CC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCBA">$CCBA</a>
<a name="LCCCD">$CCCD</a>	60                       	RTS

CLRSCR
<a name="LCCCE">$CCCE</a>	A9 0C                    	LDA   #$0C                              	CLS  Load A with CTRL L.
<a name="LCCD0">$CCD0</a>	2C A9 11                 	BIT   $11A9                             	BIT instructions are used to
<a name="LCCD3">$CCD3</a>	2C A9 20                 	BIT   $20A9                             	hide the loading of A with
<a name="LCCD6">$CCD6</a>	2C A9 3F                 	BIT   $3FA9                             	different values
<a name="LCCD9">$CCD9</a>	24 2E                    	BIT   $2E                               	If CTRL O flag is set then set
<a name="LCCDB">$CCDB</a>	30 33                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD10">$CD10</a>                             	flags and exit.
<a name="LCCDD">$CCDD</a>	48                       	PHA                                     	Save char to be printed.
<a name="LCCDE">$CCDE</a>	C9 20                    	CMP   #$20                              	If control character do not
<a name="LCCE0">$CCE0</a>	90 0B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCED">$CCED</a>                             	check cursor position.
<a name="LCCE2">$CCE2</a>	A5 30                    	LDA   $30                               	Compare cursor position with
<a name="LCCE4">$CCE4</a>	C5 31                    	CMP   $31                               	line width.
<a name="LCCE6">$CCE6</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCEB">$CCEB</a>
<a name="LCCE8">$CCE8</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>                             	If past end, print Newline.
<a name="LCCEB">$CCEB</a>	E6 30                    	INC   $30                               	Advance cursor column.
<a name="LCCED">$CCED</a>	68                       	PLA
<a name="LCCEE">$CCEE</a>	2C F1 02                 	BIT   $02F1
<a name="LCCF1">$CCF1</a>	10 08                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCFB">$CCFB</a>                             	Printer is off.
<a name="LCCF3">$CCF3</a>	48                       	PHA
<a name="LCCF4">$CCF4</a>	20 3E 02                 	JSR   $023E                             	Send byte to printer.
<a name="LCCF7">$CCF7</a>	68                       	PLA
<a name="LCCF8">$CCF8</a>	29 FF                    	AND   #$FF                              	Set flags and exit.
<a name="LCCFA">$CCFA</a>	60                       	RTS
<a name="LCCFB">$CCFB</a>	86 27                    	STX   $27                               	Save X register.
<a name="LCCFD">$CCFD</a>	AA                       	TAX
<a name="LCCFE">$CCFE</a>	20 7C F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF77C">$F77C</a>                             	Print character to screen.
<a name="LCD01">$CD01</a>	C9 20                    	CMP   #$20
<a name="LCD03">$CD03</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD09">$CD09</a>                             	Control character.
<a name="LCD05">$CD05</a>	C9 7F                    	CMP   #$7F
<a name="LCD07">$CD07</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD0E">$CD0E</a>                             	Character is not DEL.
<a name="LCD09">$CD09</a>	AE 69 02                 	LDX   $0269
<a name="LCD0C">$CD0C</a>	86 30                    	STX   $30                               	Update Basic's cursor column.
<a name="LCD0E">$CD0E</a>	A6 27                    	LDX   $27
<a name="LCD10">$CD10</a>	29 FF                    	AND   #$FF
<a name="LCD12">$CD12</a>	60                       	RTS
<a name="LCD13">$CD13</a>	6C F5 02                 	JMP   ($02F5)                           	!  Command.

TRON
<a name="LCD16">$CD16</a>	A9 80                    	LDA   #$80                              	TRON  The BIT instruction is
<a name="LCD18">$CD18</a>	2C A9 00                 	BIT   $00A9                             	used to hide an entry point.
<a name="LCD1B">$CD1B</a>	8D F4 02                 	STA   $02F4                             	Set the TRACE flag to content
<a name="LCD1E">$CD1E</a>	60                       	RTS                                     	of accumulator.
<a name="LCD1F">$CD1F</a>	A5 2C                    	LDA   $2C                               	Part of READ command.
<a name="LCD21">$CD21</a>	F0 13                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD36">$CD36</a>                             	Branch if REDO FROM START.
<a name="LCD23">$CD23</a>	30 04                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD29">$CD29</a>
<a name="LCD25">$CD25</a>	A0 FF                    	LDY   #$FF
<a name="LCD27">$CD27</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD2D">$CD2D</a>
<a name="LCD29">$CD29</a>	A5 AE                    	LDA   $AE
<a name="LCD2B">$CD2B</a>	A4 AF                    	LDY   $AF
<a name="LCD2D">$CD2D</a>	85 A8                    	STA   $A8
<a name="LCD2F">$CD2F</a>	84 A9                    	STY   $A9
<a name="LCD31">$CD31</a>	A2 A8                    	LDX   #$A8
<a name="LCD33">$CD33</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	"TYPE MISMATCH ERROR".
<a name="LCD36">$CD36</a>	A9 85                    	LDA   #$85
<a name="LCD38">$CD38</a>	A0 CE                    	LDY   #$CE
<a name="LCD3A">$CD3A</a>	20 B0 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>                             	Print out string after ".
<a name="LCD3D">$CD3D</a>	A5 AC                    	LDA   $AC                               	Restore program position
<a name="LCD3F">$CD3F</a>	A4 AD                    	LDY   $AD                               	pointer.
<a name="LCD41">$CD41</a>	85 E9                    	STA   $E9
<a name="LCD43">$CD43</a>	84 EA                    	STY   $EA
<a name="LCD45">$CD45</a>	60                       	RTS

GET
<a name="LCD46">$CD46</a>	20 D2 D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4D2">$D4D2</a>                             	GET  Check for ILLEGAL DIRECT
<a name="LCD49">$CD49</a>	A2 36                    	LDX   #$36                              	error.
<a name="LCD4B">$CD4B</a>	A0 00                    	LDY   #$00
<a name="LCD4D">$CD4D</a>	84 36                    	STY   $36
<a name="LCD4F">$CD4F</a>	A9 40                    	LDA   #$40
<a name="LCD51">$CD51</a>	20 8F CD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD8F">$CD8F</a>                             	Get input by using READ
<a name="LCD54">$CD54</a>	60                       	RTS                                     	command.

INPUT
<a name="LCD55">$CD55</a>	46 2E                    	LSR   $2E                               	INPUT  Turn off CTRL O flag.
<a name="LCD57">$CD57</a>	C9 22                    	CMP   #$22
<a name="LCD59">$CD59</a>	D0 0B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD66">$CD66</a>                             	Double quote is not present.
<a name="LCD5B">$CD5B</a>	20 25 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD025">$D025</a>                             	Get string after " and update
<a name="LCD5E">$CD5E</a>	A9 3B                    	LDA   #$3B                              	position pointer.
<a name="LCD60">$CD60</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>                             	Check for ;
<a name="LCD63">$CD63</a>	20 B3 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB3">$CCB3</a>                             	Print out string after "
<a name="LCD66">$CD66</a>	20 D2 D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4D2">$D4D2</a>                             	Check for ILLEGAL DIRECT error
<a name="LCD69">$CD69</a>	A9 2C                    	LDA   #$2C
<a name="LCD6B">$CD6B</a>	85 34                    	STA   $34
<a name="LCD6D">$CD6D</a>	A9 00                    	LDA   #$00
<a name="LCD6F">$CD6F</a>	85 17                    	STA   $17                               	Reset CTRL C flag.
<a name="LCD71">$CD71</a>	20 80 CD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD80">$CD80</a>                             	Print ? and input line from KB
<a name="LCD74">$CD74</a>	A5 35                    	LDA   $35
<a name="LCD76">$CD76</a>	D0 16                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD8E">$CD8E</a>
<a name="LCD78">$CD78</a>	A5 17                    	LDA   $17
<a name="LCD7A">$CD7A</a>	F0 F1                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD6D">$CD6D</a>                             	CTRL C flag is still off.
<a name="LCD7C">$CD7C</a>	18                       	CLC
<a name="LCD7D">$CD7D</a>	4C 80 C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC980">$C980</a>                             	Sort out CTRL C.
<a name="LCD80">$CD80</a>	20 D7 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD7">$CCD7</a>                             	Print ?.
<a name="LCD83">$CD83</a>	20 D4 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD4">$CCD4</a>                             	Print a space.
<a name="LCD86">$CD86</a>	4C 92 C5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC592">$C592</a>                             	Input line from keyboard.

READ
<a name="LCD89">$CD89</a>	A6 B0                    	LDX   $B0                               	READ
<a name="LCD8B">$CD8B</a>	A4 B1                    	LDY   $B1
<a name="LCD8D">$CD8D</a>	A9 98                    	LDA   #$98                              	Clear REDO FROM START flag.
<a name="LCD8F">$CD8F</a>	85 2C                    	STA   $2C
<a name="LCD91">$CD91</a>	86 B2                    	STX   $B2
<a name="LCD93">$CD93</a>	84 B3                    	STY   $B3
<a name="LCD95">$CD95</a>	20 88 D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD188">$D188</a>                             	Get variable from text.
<a name="LCD98">$CD98</a>	85 B8                    	STA   $B8                               	Save address of pointer.
<a name="LCD9A">$CD9A</a>	84 B9                    	STY   $B9
<a name="LCD9C">$CD9C</a>	A5 E9                    	LDA   $E9
<a name="LCD9E">$CD9E</a>	A4 EA                    	LDY   $EA                               	Copy program position pointer.
<a name="LCDA0">$CDA0</a>	85 BA                    	STA   $BA
<a name="LCDA2">$CDA2</a>	84 BB                    	STY   $BB
<a name="LCDA4">$CDA4</a>	A6 B2                    	LDX   $B2                               	Copy DATA pointer.
<a name="LCDA6">$CDA6</a>	A4 B3                    	LDY   $B3
<a name="LCDA8">$CDA8</a>	86 E9                    	STX   $E9
<a name="LCDAA">$CDAA</a>	84 EA                    	STY   $EA
<a name="LCDAC">$CDAC</a>	20 E8 00                 	JSR   $00E8                             	Get next non space character.
<a name="LCDAF">$CDAF</a>	D0 1D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDCE">$CDCE</a>                             	Branch if not end of line.
<a name="LCDB1">$CDB1</a>	24 2C                    	BIT   $2C
<a name="LCDB3">$CDB3</a>	50 0D                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDC2">$CDC2</a>
<a name="LCDB5">$CDB5</a>	20 78 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB78">$EB78</a>                             	Read next key from keyboard.
<a name="LCDB8">$CDB8</a>	10 FB                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDB5">$CDB5</a>                             	Wait until key is valid.
<a name="LCDBA">$CDBA</a>	85 35                    	STA   $35
<a name="LCDBC">$CDBC</a>	A2 34                    	LDX   #$34
<a name="LCDBE">$CDBE</a>	A0 00                    	LDY   #$00
<a name="LCDC0">$CDC0</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDCA">$CDCA</a>
<a name="LCDC2">$CDC2</a>	30 71                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE35">$CE35</a>
<a name="LCDC4">$CDC4</a>	20 D7 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCD7">$CCD7</a>                             	Print ?
<a name="LCDC7">$CDC7</a>	20 80 CD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD80">$CD80</a>                             	Print ? and input line from KB
<a name="LCDCA">$CDCA</a>	86 E9                    	STX   $E9
<a name="LCDCC">$CDCC</a>	84 EA                    	STY   $EA                               	Set position of input.
<a name="LCDCE">$CDCE</a>	20 E2 00                 	JSR   $00E2                             	Get next char from text.
<a name="LCDD1">$CDD1</a>	24 28                    	BIT   $28
<a name="LCDD3">$CDD3</a>	10 31                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE06">$CE06</a>                             	Variable is not string type.
<a name="LCDD5">$CDD5</a>	24 2C                    	BIT   $2C
<a name="LCDD7">$CDD7</a>	50 09                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDE2">$CDE2</a>
<a name="LCDD9">$CDD9</a>	E8                       	INX
<a name="LCDDA">$CDDA</a>	86 E9                    	STX   $E9
<a name="LCDDC">$CDDC</a>	A9 00                    	LDA   #$00
<a name="LCDDE">$CDDE</a>	85 24                    	STA   $24
<a name="LCDE0">$CDE0</a>	F0 0C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDEE">$CDEE</a>
<a name="LCDE2">$CDE2</a>	85 24                    	STA   $24
<a name="LCDE4">$CDE4</a>	C9 22                    	CMP   #$22
<a name="LCDE6">$CDE6</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDEF">$CDEF</a>
<a name="LCDE8">$CDE8</a>	A9 3A                    	LDA   #$3A
<a name="LCDEA">$CDEA</a>	85 24                    	STA   $24
<a name="LCDEC">$CDEC</a>	A9 2C                    	LDA   #$2C
<a name="LCDEE">$CDEE</a>	18                       	CLC
<a name="LCDEF">$CDEF</a>	85 25                    	STA   $25
<a name="LCDF1">$CDF1</a>	A5 E9                    	LDA   $E9
<a name="LCDF3">$CDF3</a>	A4 EA                    	LDY   $EA
<a name="LCDF5">$CDF5</a>	69 00                    	ADC   #$00
<a name="LCDF7">$CDF7</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDFA">$CDFA</a>
<a name="LCDF9">$CDF9</a>	C8                       	INY
<a name="LCDFA">$CDFA</a>	20 BB D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5BB">$D5BB</a>                             	Get string after "
<a name="LCDFD">$CDFD</a>	20 0D D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD90D">$D90D</a>                             	Set program pointer to content of
<a name="LCE00">$CE00</a>	20 51 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB51">$CB51</a>                             	$E0/$E1 and assign string.
<a name="LCE03">$CE03</a>	4C 0E CE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE0E">$CE0E</a>
<a name="LCE06">$CE06</a>	20 E7 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFE7">$DFE7</a>                             	Get number.
<a name="LCE09">$CE09</a>	A5 29                    	LDA   $29                               	Load integer variable flag.
<a name="LCE0B">$CE0B</a>	20 39 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCB39">$CB39</a>                             	Assign integer.
<a name="LCE0E">$CE0E</a>	20 E8 00                 	JSR   $00E8                             	Get next char from text.
<a name="LCE11">$CE11</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE1A">$CE1A</a>                             	End of line reached.
<a name="LCE13">$CE13</a>	C9 2C                    	CMP   #$2C
<a name="LCE15">$CE15</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE1A">$CE1A</a>                             	Character is a comma.
<a name="LCE17">$CE17</a>	4C 1F CD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD1F">$CD1F</a>
<a name="LCE1A">$CE1A</a>	A5 E9                    	LDA   $E9                               	Copy program position into
<a name="LCE1C">$CE1C</a>	A4 EA                    	LDY   $EA                               	data pointer.
<a name="LCE1E">$CE1E</a>	85 B2                    	STA   $B2
<a name="LCE20">$CE20</a>	84 B3                    	STY   $B3
<a name="LCE22">$CE22</a>	A5 BA                    	LDA   $BA                               	Copy temporary pointer into
<a name="LCE24">$CE24</a>	A4 BB                    	LDY   $BB                               	program position.
<a name="LCE26">$CE26</a>	85 E9                    	STA   $E9
<a name="LCE28">$CE28</a>	84 EA                    	STY   $EA
<a name="LCE2A">$CE2A</a>	20 E8 00                 	JSR   $00E8                             	Get next character.
<a name="LCE2D">$CE2D</a>	F0 2C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE5B">$CE5B</a>                             	End of line reached.
<a name="LCE2F">$CE2F</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test for comma.
<a name="LCE32">$CE32</a>	4C 95 CD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCD95">$CD95</a>                             	Get next variable.
<a name="LCE35">$CE35</a>	20 4E CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA4E">$CA4E</a>                             	Find end of statement.
<a name="LCE38">$CE38</a>	C8                       	INY
<a name="LCE39">$CE39</a>	AA                       	TAX
<a name="LCE3A">$CE3A</a>	D0 12                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE4E">$CE4E</a>
<a name="LCE3C">$CE3C</a>	A2 2A                    	LDX   #$2A
<a name="LCE3E">$CE3E</a>	C8                       	INY
<a name="LCE3F">$CE3F</a>	B1 E9                    	LDA   ($E9),Y                           	Give "TYPE MISMATCH ERROR" if
<a name="LCE41">$CE41</a>	F0 69                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCEAC">$CEAC</a>                             	run out of program.
<a name="LCE43">$CE43</a>	C8                       	INY
<a name="LCE44">$CE44</a>	B1 E9                    	LDA   ($E9),Y                           	Copy line number to temporary
<a name="LCE46">$CE46</a>	85 AE                    	STA   $AE                               	pointer.
<a name="LCE48">$CE48</a>	C8                       	INY
<a name="LCE49">$CE49</a>	B1 E9                    	LDA   ($E9),Y
<a name="LCE4B">$CE4B</a>	C8                       	INY
<a name="LCE4C">$CE4C</a>	85 AF                    	STA   $AF
<a name="LCE4E">$CE4E</a>	B1 E9                    	LDA   ($E9),Y
<a name="LCE50">$CE50</a>	AA                       	TAX
<a name="LCE51">$CE51</a>	20 3F CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA3F">$CA3F</a>                             	Add X to content of $E9/$EA.
<a name="LCE54">$CE54</a>	E0 91                    	CPX   #$91
<a name="LCE56">$CE56</a>	D0 DD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE35">$CE35</a>
<a name="LCE58">$CE58</a>	4C CE CD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCDCE">$CDCE</a>                             	Jump back to do more.
<a name="LCE5B">$CE5B</a>	A5 B2                    	LDA   $B2
<a name="LCE5D">$CE5D</a>	A4 B3                    	LDY   $B3
<a name="LCE5F">$CE5F</a>	A6 2C                    	LDX   $2C
<a name="LCE61">$CE61</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE66">$CE66</a>                             	REDO FROM START flag is set.
<a name="LCE63">$CE63</a>	4C 5C C9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC95C">$C95C</a>                             	Exit and update DATA pointer.
<a name="LCE66">$CE66</a>	A0 00                    	LDY   #$00
<a name="LCE68">$CE68</a>	B1 B2                    	LDA   ($B2),Y
<a name="LCE6A">$CE6A</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE73">$CE73</a>                             	No extra data.
<a name="LCE6C">$CE6C</a>	A9 74                    	LDA   #$74
<a name="LCE6E">$CE6E</a>	A0 CE                    	LDY   #$CE
<a name="LCE70">$CE70</a>	4C B0 CC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>                             	Print "EXTRA IGNORED".
<a name="LCE73">$CE73</a>	60                       	RTS
<a name="LCE74">$CE74</a>	3F 45 58 54 52 41 20 49  	BYT   $3F,$45,$58,$54,$52,$41,$20,$49   	?EXTRA I
<a name="LCE7C">$CE7C</a>	47 4E 4F 52 45 44 0D 0A  	BYT   $47,$4E,$4F,$52,$45,$44,$0D,$0A   	GNORED
<a name="LCE84">$CE84</a>	00 3F 52 45 44 4F 20 46  	BYT   $00,$3F,$52,$45,$44,$4F,$20,$46   	?REDO F
<a name="LCE8C">$CE8C</a>	52 4F 4D 20 53 54 41 52  	BYT   $52,$4F,$4D,$20,$53,$54,$41,$52   	ROM STAR
<a name="LCE94">$CE94</a>	54 0D 0A 00              	BYT   $54,$0D,$0A,$00                   	T

NEXT
<a name="LCE98">$CE98</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE9E">$CE9E</a>                             	NEXT  more input after token.
<a name="LCE9A">$CE9A</a>	A0 00                    	LDY   #$00
<a name="LCE9C">$CE9C</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCEA1">$CEA1</a>                             	No variable name given.
<a name="LCE9E">$CE9E</a>	20 88 D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD188">$D188</a>                             	Get variable from text.
<a name="LCEA1">$CEA1</a>	85 B8                    	STA   $B8                               	Save pointer to variable.
<a name="LCEA3">$CEA3</a>	84 B9                    	STY   $B9
<a name="LCEA5">$CEA5</a>	20 C6 C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3C6">$C3C6</a>                             	Search for that var. on stack.
<a name="LCEA8">$CEA8</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCEAE">$CEAE</a>                             	Variable found.
<a name="LCEAA">$CEAA</a>	A2 00                    	LDX   #$00                              	Print "TYPE MISMATCH ERROR".
<a name="LCEAC">$CEAC</a>	F0 66                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF14">$CF14</a>
<a name="LCEAE">$CEAE</a>	9A                       	TXS
<a name="LCEAF">$CEAF</a>	8A                       	TXA
<a name="LCEB0">$CEB0</a>	18                       	CLC
<a name="LCEB1">$CEB1</a>	69 04                    	ADC   #$04
<a name="LCEB3">$CEB3</a>	48                       	PHA
<a name="LCEB4">$CEB4</a>	69 06                    	ADC   #$06
<a name="LCEB6">$CEB6</a>	85 93                    	STA   $93
<a name="LCEB8">$CEB8</a>	68                       	PLA
<a name="LCEB9">$CEB9</a>	A0 01                    	LDY   #$01
<a name="LCEBB">$CEBB</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	Unpack floating point number.
<a name="LCEBE">$CEBE</a>	BA                       	TSX
<a name="LCEBF">$CEBF</a>	BD 09 01                 	LDA   $0109,X                           	Take sign byte off stack and
<a name="LCEC2">$CEC2</a>	85 D5                    	STA   $D5                               	put it in FPA sign byte.
<a name="LCEC4">$CEC4</a>	A5 B8                    	LDA   $B8
<a name="LCEC6">$CEC6</a>	A4 B9                    	LDY   $B9
<a name="LCEC8">$CEC8</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	Add in STEP value.
<a name="LCECB">$CECB</a>	20 A9 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEA9">$DEA9</a>                             	Pack main FPA and put it in
<a name="LCECE">$CECE</a>	A0 01                    	LDY   #$01                              	memory.
<a name="LCED0">$CED0</a>	20 4E DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF4E">$DF4E</a>                             	Compare main FPA with number
<a name="LCED3">$CED3</a>	BA                       	TSX                                     	pointed to by Y (MSB) and A.
<a name="LCED4">$CED4</a>	38                       	SEC
<a name="LCED5">$CED5</a>	FD 09 01                 	SBC   $0109,X
<a name="LCED8">$CED8</a>	F0 17                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCEF1">$CEF1</a>                             	Exit current FOR-NEXT loop.
<a name="LCEDA">$CEDA</a>	BD 0F 01                 	LDA   $010F,X                           	Take line number and program
<a name="LCEDD">$CEDD</a>	85 A8                    	STA   $A8                               	position off stack so that
<a name="LCEDF">$CEDF</a>	BD 10 01                 	LDA   $0110,X                           	program can go back to just
<a name="LCEE2">$CEE2</a>	85 A9                    	STA   $A9                               	after the FOR statement.
<a name="LCEE4">$CEE4</a>	BD 12 01                 	LDA   $0112,X
<a name="LCEE7">$CEE7</a>	85 E9                    	STA   $E9
<a name="LCEE9">$CEE9</a>	BD 11 01                 	LDA   $0111,X
<a name="LCEEC">$CEEC</a>	85 EA                    	STA   $EA
<a name="LCEEE">$CEEE</a>	4C C1 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8C1">$C8C1</a>                             	Go to next statement.
<a name="LCEF1">$CEF1</a>	8A                       	TXA                                     	Adjust stack pointer to having
<a name="LCEF2">$CEF2</a>	69 11                    	ADC   #$11                              	one less loop.
<a name="LCEF4">$CEF4</a>	AA                       	TAX
<a name="LCEF5">$CEF5</a>	9A                       	TXS
<a name="LCEF6">$CEF6</a>	20 E8 00                 	JSR   $00E8                             	Get next char from program.
<a name="LCEF9">$CEF9</a>	C9 2C                    	CMP   #$2C                              	Execute next statement if
<a name="LCEFB">$CEFB</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCEEE">$CEEE</a>                             	character is not a comma.
<a name="LCEFD">$CEFD</a>	20 E2 00                 	JSR   $00E2                             	Get next char.
<a name="LCF00">$CF00</a>	20 9E CE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCE9E">$CE9E</a>                             	Go round loop again.

GETEXPR
<a name="LCF03">$CF03</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	GET NUMERIC EXPRESSION
<a name="LCF06">$CF06</a>	18                       	CLC                                     	Evaluate expression.
<a name="LCF07">$CF07</a>	24 38                    	BIT   $38                               	Hides a SEC instruction.
<a name="LCF09">$CF09</a>	24 28                    	BIT   $28
<a name="LCF0B">$CF0B</a>	30 03                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF10">$CF10</a>                             	Expression is string type.
<a name="LCF0D">$CF0D</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF12">$CF12</a>
<a name="LCF0F">$CF0F</a>	60                       	RTS
<a name="LCF10">$CF10</a>	B0 FD                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF0F">$CF0F</a>                             	String type allowed if C=l.
<a name="LCF12">$CF12</a>	A2 A8                    	LDX   #$A8
<a name="LCF14">$CF14</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	Print "TYPE MISMATCH ERROR".

EVALEXPR
<a name="LCF17">$CF17</a>	A6 E9                    	LDX   $E9                               	EVALUATE EXPRESSION
<a name="LCF19">$CF19</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF1D">$CF1D</a>
<a name="LCF1B">$CF1B</a>	C6 EA                    	DEC   $EA                               	Decrement text pointer.
<a name="LCF1D">$CF1D</a>	C6 E9                    	DEC   $E9
<a name="LCF1F">$CF1F</a>	A2 00                    	LDX   #$00
<a name="LCF21">$CF21</a>	24 48                    	BIT   $48                               	Hides a PHA instruction.
<a name="LCF23">$CF23</a>	8A                       	TXA
<a name="LCF24">$CF24</a>	48                       	PHA
<a name="LCF25">$CF25</a>	A9 01                    	LDA   #$01                              	Check for 2 free bytes on
<a name="LCF27">$CF27</a>	20 37 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC437">$C437</a>                             	stack.
<a name="LCF2A">$CF2A</a>	20 00 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD000">$D000</a>                             	Get item.
<a name="LCF2D">$CF2D</a>	A9 00                    	LDA   #$00                              	Clear relational operator bit
<a name="LCF2F">$CF2F</a>	85 BC                    	STA   $BC                               	mark.
<a name="LCF31">$CF31</a>	20 E8 00                 	JSR   $00E8                             	Get next character.
<a name="LCF34">$CF34</a>	38                       	SEC
<a name="LCF35">$CF35</a>	E9 D3                    	SBC   #$D3                              	Token is in list before that
<a name="LCF37">$CF37</a>	90 17                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF50">$CF50</a>                             	of &gt;, &lt; or =.
<a name="LCF39">$CF39</a>	C9 03                    	CMP   #$03                              	Token is in list after that
<a name="LCF3B">$CF3B</a>	B0 13                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF50">$CF50</a>                             	of &gt;, &lt; or =.
<a name="LCF3D">$CF3D</a>	C9 01                    	CMP   #$01                              	Form comparator bit mask.
<a name="LCF3F">$CF3F</a>	2A                       	ROL                                     	001 for &gt;
<a name="LCF40">$CF40</a>	49 01                    	EOR   #$01                              	010 for =
<a name="LCF42">$CF42</a>	45 BC                    	EOR   $BC                               	100 for &lt;
<a name="LCF44">$CF44</a>	C5 BC                    	CMP   $BC                               	Error if one of these tokens
<a name="LCF46">$CF46</a>	90 61                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFA9">$CFA9</a>                             	has appeared twice in a row.
<a name="LCF48">$CF48</a>	85 BC                    	STA   $BC
<a name="LCF4A">$CF4A</a>	20 E2 00                 	JSR   $00E2                             	Get next character.
<a name="LCF4D">$CF4D</a>	4C 34 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF34">$CF34</a>                             	Test next char for &lt;, &gt; or =.
<a name="LCF50">$CF50</a>	A6 BC                    	LDX   $BC
<a name="LCF52">$CF52</a>	D0 2C                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF80">$CF80</a>                             	Relational Operator.
<a name="LCF54">$CF54</a>	B0 7F                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFD5">$CFD5</a>                             	If not binary operator, finish
<a name="LCF56">$CF56</a>	69 07                    	ADC   #$07                              	expression.
<a name="LCF58">$CF58</a>	90 7B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFD5">$CFD5</a>
<a name="LCF5A">$CF5A</a>	65 28                    	ADC   $28                               	Add string flag plus carry.
<a name="LCF5C">$CF5C</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF61">$CF61</a>                             	Jump to concatenate strings if
<a name="LCF5E">$CF5E</a>	4C 67 D7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD767">$D767</a>                             	operator was a "+".
<a name="LCF61">$CF61</a>	69 FF                    	ADC   #$FF                              	Multiply operator by 3 and put
<a name="LCF63">$CF63</a>	85 91                    	STA   $91                               	value into Y.
<a name="LCF65">$CF65</a>	0A                       	ASL
<a name="LCF66">$CF66</a>	65 91                    	ADC   $91
<a name="LCF68">$CF68</a>	A8                       	TAY
<a name="LCF69">$CF69</a>	68                       	PLA                                     	If old operator priority was
<a name="LCF6A">$CF6A</a>	D9 CC C0                 	CMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC0CC">$C0CC</a>,Y                           	greater or equal, then exit
<a name="LCF6D">$CF6D</a>	B0 6B                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFDA">$CFDA</a>                             	this level.
<a name="LCF6F">$CF6F</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	Check numeric type.
<a name="LCF72">$CF72</a>	48                       	PHA                                     	Save operator priority.
<a name="LCF73">$CF73</a>	20 99 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF99">$CF99</a>                             	Perform higher priority operation
<a name="LCF76">$CF76</a>	68                       	PLA                                     	Restore old operator priority.
<a name="LCF77">$CF77</a>	A4 BA                    	LDY   $BA                               	Branch if not end of
<a name="LCF79">$CF79</a>	10 17                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF92">$CF92</a>                             	expression.
<a name="LCF7B">$CF7B</a>	AA                       	TAX                                     	Exit if no operator pending on
<a name="LCF7C">$CF7C</a>	F0 5A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFD8">$CFD8</a>                             	stack.
<a name="LCF7E">$CF7E</a>	D0 63                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFE3">$CFE3</a>                             	Pull work FPA and exit.
<a name="LCF80">$CF80</a>	46 28                    	LSR   $28                               	Set C if string type.
<a name="LCF82">$CF82</a>	8A                       	TXA                                     	Get mask, bottom bit set if
<a name="LCF83">$CF83</a>	2A                       	ROL                                     	string.
<a name="LCF84">$CF84</a>	A6 E9                    	LDX   $E9                               	Decrement text pointer.
<a name="LCF86">$CF86</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF8A">$CF8A</a>
<a name="LCF88">$CF88</a>	C6 EA                    	DEC   $EA
<a name="LCF8A">$CF8A</a>	C6 E9                    	DEC   $E9
<a name="LCF8C">$CF8C</a>	A0 1B                    	LDY   #$1B                              	Operator code.
<a name="LCF8E">$CF8E</a>	85 BC                    	STA   $BC                               	Save relation mask.
<a name="LCF90">$CF90</a>	D0 D7                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF69">$CF69</a>                             	Branch for another operator.
<a name="LCF92">$CF92</a>	D9 CC C0                 	CMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC0CC">$C0CC</a>,Y                           	If next operator is of lower
<a name="LCF95">$CF95</a>	B0 4C                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFE3">$CFE3</a>                             	priority then exit.
<a name="LCF97">$CF97</a>	90 D9                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF72">$CF72</a>                             	Get next operator.
<a name="LCF99">$CF99</a>	B9 CE C0                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC0CE">$C0CE</a>,Y                           	Push operator action address
<a name="LCF9C">$CF9C</a>	48                       	PHA                                     	on to the stack.
<a name="LCF9D">$CF9D</a>	B9 CD C0                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC0CD">$C0CD</a>,Y
<a name="LCFA0">$CFA0</a>	48                       	PHA
<a name="LCFA1">$CFA1</a>	20 AC CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFAC">$CFAC</a>                             	Set up and perform operation.
<a name="LCFA4">$CFA4</a>	A5 BC                    	LDA   $BC
<a name="LCFA6">$CFA6</a>	4C 22 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF22">$CF22</a>                             	Get operator code &amp; loop again
<a name="LCFA9">$CFA9</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	PRINT "SYNTAX ERROR".

DOOPER
<a name="LCFAC">$CFAC</a>	A5 D5                    	LDA   $D5                               	SET UP AND PERFORM OPERATION
<a name="LCFAE">$CFAE</a>	BE CC C0                 	LDX   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC0CC">$C0CC</a>,Y                           	Get sign of FPA and put
<a name="LCFB1">$CFB1</a>	A8                       	TAY                                     	operator priority into Y.
<a name="LCFB2">$CFB2</a>	68                       	PLA
<a name="LCFB3">$CFB3</a>	85 91                    	STA   $91                               	Set up action address.
<a name="LCFB5">$CFB5</a>	68                       	PLA
<a name="LCFB6">$CFB6</a>	85 92                    	STA   $92
<a name="LCFB8">$CFB8</a>	E6 91                    	INC   $91                               	Increment address.
<a name="LCFBA">$CFBA</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFBE">$CFBE</a>
<a name="LCFBC">$CFBC</a>	E6 92                    	INC   $92
<a name="LCFBE">$CFBE</a>	98                       	TYA
<a name="LCFBF">$CFBF</a>	48                       	PHA                                     	Push sign of main FPA.
<a name="LCFC0">$CFC0</a>	20 F4 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF4">$DEF4</a>                             	Round off main FPA
<a name="LCFC3">$CFC3</a>	A5 D4                    	LDA   $D4
<a name="LCFC5">$CFC5</a>	48                       	PHA                                     	Push main FPA on to stack
<a name="LCFC6">$CFC6</a>	A5 D3                    	LDA   $D3
<a name="LCFC8">$CFC8</a>	48                       	PHA
<a name="LCFC9">$CFC9</a>	A5 D2                    	LDA   $D2
<a name="LCFCB">$CFCB</a>	48                       	PHA
<a name="LCFCC">$CFCC</a>	A5 D1                    	LDA   $D1
<a name="LCFCE">$CFCE</a>	48                       	PHA
<a name="LCFCF">$CFCF</a>	A5 D0                    	LDA   $D0
<a name="LCFD1">$CFD1</a>	48                       	PHA
<a name="LCFD2">$CFD2</a>	6C 91 00                 	JMP   ($0091)                           	Perform operation.
<a name="LCFD5">$CFD5</a>	A0 FF                    	LDY   #$FF                              	End of expression indicator.
<a name="LCFD7">$CFD7</a>	68                       	PLA                                     	If no operators pending then
<a name="LCFD8">$CFD8</a>	F0 23                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFFD">$CFFD</a>                             	exit.
<a name="LCFDA">$CFDA</a>	C9 64                    	CMP   #$64                              	If not relational operator
<a name="LCFDC">$CFDC</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCFE1">$CFE1</a>                             	check for numeric type.
<a name="LCFDE">$CFDE</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>
<a name="LCFE1">$CFE1</a>	84 BA                    	STY   $BA                               	Save operator code.
<a name="LCFE3">$CFE3</a>	68                       	PLA                                     	Pull operator code and shift
<a name="LCFE4">$CFE4</a>	4A                       	LSR                                     	it before putting into $2D.
<a name="LCFE5">$CFE5</a>	85 2D                    	STA   $2D
<a name="LCFE7">$CFE7</a>	68                       	PLA                                     	Restore work floating point
<a name="LCFE8">$CFE8</a>	85 D8                    	STA   $D8                               	accumulator from stack.
<a name="LCFEA">$CFEA</a>	68                       	PLA
<a name="LCFEB">$CFEB</a>	85 D9                    	STA   $D9
<a name="LCFED">$CFED</a>	68                       	PLA
<a name="LCFEE">$CFEE</a>	85 DA                    	STA   $DA
<a name="LCFF0">$CFF0</a>	68                       	PLA
<a name="LCFF1">$CFF1</a>	85 DB                    	STA   $DB
<a name="LCFF3">$CFF3</a>	68                       	PLA
<a name="LCFF4">$CFF4</a>	85 DC                    	STA   $DC
<a name="LCFF6">$CFF6</a>	68                       	PLA
<a name="LCFF7">$CFF7</a>	85 DD                    	STA   $DD
<a name="LCFF9">$CFF9</a>	45 D5                    	EOR   $D5
<a name="LCFFB">$CFFB</a>	85 DE                    	STA   $DE                               	Set sign difference flag.
<a name="LCFFD">$CFFD</a>	A5 D0                    	LDA   $D0
<a name="LCFFF">$CFFF</a>	60                       	RTS                                     	Exit.

GETITEM
<a name="LD000">$D000</a>	A9 00                    	LDA   #$00                              	GET ITEM
<a name="LD002">$D002</a>	85 28                    	STA   $28                               	Clear string type flag.
<a name="LD004">$D004</a>	20 E2 00                 	JSR   $00E2                             	Get next character.
<a name="LD007">$D007</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD00C">$D00C</a>
<a name="LD009">$D009</a>	4C E7 DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFE7">$DFE7</a>                             	If digit then get number.
<a name="LD00C">$D00C</a>	20 16 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD216">$D216</a>                             	If "A-Z" then get value from
<a name="LD00F">$D00F</a>	B0 6B                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD07C">$D07C</a>                             	variable.
<a name="LD011">$D011</a>	C9 2E                    	CMP   #$2E                              	If "." or "#" then get number.
<a name="LD013">$D013</a>	F0 F4                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD009">$D009</a>
<a name="LD015">$D015</a>	C9 23                    	CMP   #$23
<a name="LD017">$D017</a>	F0 F0                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD009">$D009</a>
<a name="LD019">$D019</a>	C9 CD                    	CMP   #$CD                              	If "-" then handle unary minus
<a name="LD01B">$D01B</a>	F0 58                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD075">$D075</a>                             	number.
<a name="LD01D">$D01D</a>	C9 CC                    	CMP   #$CC                              	If "+" token then ignore it.
<a name="LD01F">$D01F</a>	F0 E3                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD004">$D004</a>
<a name="LD021">$D021</a>	C9 22                    	CMP   #$22                              	If not " then skip string bit.
<a name="LD023">$D023</a>	D0 0F                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD034">$D034</a>
<a name="LD025">$D025</a>	A5 E9                    	LDA   $E9                               	Get text pointer + 1 into A
<a name="LD027">$D027</a>	A4 EA                    	LDY   $EA                               	and Y.
<a name="LD029">$D029</a>	69 00                    	ADC   #$00
<a name="LD02B">$D02B</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD02E">$D02E</a>
<a name="LD02D">$D02D</a>	C8                       	INY
<a name="LD02E">$D02E</a>	20 B5 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5B5">$D5B5</a>                             	Get string after ".
<a name="LD031">$D031</a>	4C 0D D9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD90D">$D90D</a>                             	Update text pointer and exit.
<a name="LD034">$D034</a>	C9 CA                    	CMP   #$CA                              	If "NOT" token then use
<a name="LD036">$D036</a>	D0 13                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD04B">$D04B</a>                             	operator at $18 and go round
<a name="LD038">$D038</a>	A0 18                    	LDY   #$18                              	again.
<a name="LD03A">$D03A</a>	D0 3B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD077">$D077</a>

NOT
<a name="LD03C">$D03C</a>	20 A9 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2A9">$D2A9</a>                             	NOT  Convert main FPA to
<a name="LD03F">$D03F</a>	A5 D4                    	LDA   $D4                               	signed integer.
<a name="LD041">$D041</a>	49 FF                    	EOR   #$FF                              	Invert LSB into Y.
<a name="LD043">$D043</a>	A8                       	TAY
<a name="LD044">$D044</a>	A5 D3                    	LDA   $D3                               	Invert MSB into A.
<a name="LD046">$D046</a>	49 FF                    	EOR   #$FF
<a name="LD048">$D048</a>	4C 99 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD499">$D499</a>                             	Convert to main FPA and exit.
<a name="LD04B">$D04B</a>	C9 C4                    	CMP   #$C4                              	If "FN" token then go to FN
<a name="LD04D">$D04D</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD052">$D052</a>                             	call address.
<a name="LD04F">$D04F</a>	4C 22 D5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD522">$D522</a>
<a name="LD052">$D052</a>	C9 D6                    	CMP   #$D6                              	If function token is &gt;= than
<a name="LD054">$D054</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD059">$D059</a>                             	#D6 then deal with function.
<a name="LD056">$D056</a>	4C A0 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD0A0">$D0A0</a>

EVALBRACKET
<a name="LD059">$D059</a>	20 62 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD062">$D062</a>                             	GET EXPRESSION IN (). Check
<a name="LD05C">$D05C</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	")" and evaluate expression.
<a name="LD05F">$D05F</a>	A9 29                    	LDA   #$29                              	Check for ")"
<a name="LD061">$D061</a>	2C A9 28                 	BIT   $28A9                             	Check for "(" - hidden in BIT.
<a name="LD064">$D064</a>	2C A9 2C                 	BIT   $2CA9                             	Check for "," - hidden in BIT.
<a name="LD067">$D067</a>	A0 00                    	LDY   #$00                              	Check for char in A.
<a name="LD069">$D069</a>	D1 E9                    	CMP   ($E9),Y
<a name="LD06B">$D06B</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	"SYNTAX ERROR" if not present.
<a name="LD06D">$D06D</a>	4C E2 00                 	JMP   $00E2                             	Get next character.
<a name="LD070">$D070</a>	A2 10                    	LDX   #$10                              	Print "SYNTAX ERROR".
<a name="LD072">$D072</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>
<a name="LD075">$D075</a>	A0 15                    	LDY   #$15                              	Unary minus operator.
<a name="LD077">$D077</a>	68                       	PLA                                     	Pull return address and jump
<a name="LD078">$D078</a>	68                       	PLA                                     	to next operator.
<a name="LD079">$D079</a>	4C 73 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF73">$CF73</a>

GETVARVAL
<a name="LD07C">$D07C</a>	20 88 D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD188">$D188</a>                             	GET VALUE FROM VARIABLE. Get
<a name="LD07F">$D07F</a>	85 D3                    	STA   $D3                               	variable and set up pointer.
<a name="LD081">$D081</a>	84 D4                    	STY   $D4
<a name="LD083">$D083</a>	A6 28                    	LDX   $28                               	If a string then clear the
<a name="LD085">$D085</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD08C">$D08C</a>                             	Founding byte and exit.
<a name="LD087">$D087</a>	A2 00                    	LDX   #$00
<a name="LD089">$D089</a>	86 DF                    	STX   $DF
<a name="LD08B">$D08B</a>	60                       	RTS
<a name="LD08C">$D08C</a>	A6 29                    	LDX   $29                               	If a real number then get
<a name="LD08E">$D08E</a>	10 0D                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD09D">$D09D</a>                             	value.
<a name="LD090">$D090</a>	A0 00                    	LDY   #$00
<a name="LD092">$D092</a>	B1 D3                    	LDA   ($D3),Y                           	Get MSB of integer into X.
<a name="LD094">$D094</a>	AA                       	TAX
<a name="LD095">$D095</a>	C8                       	INY
<a name="LD096">$D096</a>	B1 D3                    	LDA   ($D3),Y                           	Get LSB of integer into Y.
<a name="LD098">$D098</a>	A8                       	TAY
<a name="LD099">$D099</a>	8A                       	TXA                                     	Put MSB in A.
<a name="LD09A">$D09A</a>	4C 99 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD499">$D499</a>                             	Convert A/Y to FPA &amp; exit.
<a name="LD09D">$D09D</a>	4C 7B DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	Unpack number into FPA.
<a name="LD0A0">$D0A0</a>	0A                       	ASL                                     	Double token and save it on
<a name="LD0A1">$D0A1</a>	48                       	PHA                                     	stack.
<a name="LD0A2">$D0A2</a>	AA                       	TAX
<a name="LD0A3">$D0A3</a>	20 E2 00                 	JSR   $00E2                             	Get character.
<a name="LD0A6">$D0A6</a>	E0 DB                    	CPX   #$DB                              	If token is CHR$ or less then
<a name="LD0A8">$D0A8</a>	90 24                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD0CE">$D0CE</a>                             	handle single argument.
<a name="LD0AA">$D0AA</a>	E0 E7                    	CPX   #$E7                              	If token is POINT or less then
<a name="LD0AC">$D0AC</a>	90 23                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD0D1">$D0D1</a>                             	no argument is needed.
<a name="LD0AE">$D0AE</a>	20 62 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD062">$D062</a>                             	Check for "(".
<a name="LD0B1">$D0B1</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate expression.
<a name="LD0B4">$D0B4</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Check for ",".
<a name="LD0B7">$D0B7</a>	20 08 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF08">$CF08</a>                             	Check for string type.
<a name="LD0BA">$D0BA</a>	68                       	PLA
<a name="LD0BB">$D0BB</a>	AA                       	TAX                                     	Save table offset in X.
<a name="LD0BC">$D0BC</a>	A5 D4                    	LDA   $D4
<a name="LD0BE">$D0BE</a>	48                       	PHA                                     	Push pointer to string block
<a name="LD0BF">$D0BF</a>	A5 D3                    	LDA   $D3                               	on stack.
<a name="LD0C1">$D0C1</a>	48                       	PHA
<a name="LD0C2">$D0C2</a>	8A                       	TXA                                     	Push table offset on stack.
<a name="LD0C3">$D0C3</a>	48                       	PHA
<a name="LD0C4">$D0C4</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	Get 1 byte expression into X.
<a name="LD0C7">$D0C7</a>	68                       	PLA
<a name="LD0C8">$D0C8</a>	A8                       	TAY                                     	Push expression byte.
<a name="LD0C9">$D0C9</a>	8A                       	TXA
<a name="LD0CA">$D0CA</a>	48                       	PHA
<a name="LD0CB">$D0CB</a>	4C D3 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD0D3">$D0D3</a>                             	Set up and execute function.
<a name="LD0CE">$D0CE</a>	20 59 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD059">$D059</a>                             	Get expression in brackets.
<a name="LD0D1">$D0D1</a>	68                       	PLA                                     	Get table offset into Y.
<a name="LD0D2">$D0D2</a>	A8                       	TAY
<a name="LD0D3">$D0D3</a>	B9 DE BF                 	LDA   $BFDE,Y                           	Set up action address.
<a name="LD0D6">$D0D6</a>	85 C4                    	STA   $C4
<a name="LD0D8">$D0D8</a>	B9 DF BF                 	LDA   $BFDF,Y
<a name="LD0DB">$D0DB</a>	85 C5                    	STA   $C5
<a name="LD0DD">$D0DD</a>	20 C3 00                 	JSR   $00C3                             	Execute function. Check for
<a name="LD0E0">$D0E0</a>	4C 06 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	numeric types and exit.
<a name="LD0E3">$D0E3</a>	A0 FF                    	LDY   #$FF                              	Routine for OR and routine
<a name="LD0E5">$D0E5</a>	2C A0 00                 	BIT   $00A0                             	for AND (hidden by BIT).
<a name="LD0E8">$D0E8</a>	84 26                    	STY   $26                               	Initialise $26.
<a name="LD0EA">$D0EA</a>	20 A9 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2A9">$D2A9</a>                             	Convert FPA to signed integer.
<a name="LD0ED">$D0ED</a>	A5 D3                    	LDA   $D3                               	Transfer integer to $24/$25
<a name="LD0EF">$D0EF</a>	45 26                    	EOR   $26                               	inverting as well if using the
<a name="LD0F1">$D0F1</a>	85 24                    	STA   $24                               	OR operator.
<a name="LD0F3">$D0F3</a>	A5 D4                    	LDA   $D4
<a name="LD0F5">$D0F5</a>	45 26                    	EOR   $26
<a name="LD0F7">$D0F7</a>	85 25                    	STA   $25
<a name="LD0F9">$D0F9</a>	20 D5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDED5">$DED5</a>                             	Copy work FPA into main FPA.
<a name="LD0FC">$D0FC</a>	20 A9 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2A9">$D2A9</a>                             	Convert to signed integer.
<a name="LD0FF">$D0FF</a>	A5 D4                    	LDA   $D4                               	Get result into A and Y and
<a name="LD101">$D101</a>	45 26                    	EOR   $26                               	AND it with the other integer.
<a name="LD103">$D103</a>	25 25                    	AND   $25                               	If OR is being used then
<a name="LD105">$D105</a>	45 26                    	EOR   $26                               	invert A/Y before and after
<a name="LD107">$D107</a>	A8                       	TAY                                     	the ANDing.
<a name="LD108">$D108</a>	A5 D3                    	LDA   $D3
<a name="LD10A">$D10A</a>	45 26                    	EOR   $26
<a name="LD10C">$D10C</a>	25 24                    	AND   $24
<a name="LD10E">$D10E</a>	45 26                    	EOR   $26
<a name="LD110">$D110</a>	4C 99 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD499">$D499</a>                             	Convert result to FPA &amp; exit.

COMPARE
<a name="LD113">$D113</a>	20 09 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF09">$CF09</a>                             	RELATIONAL OPERATORS &gt;, =, &lt;
<a name="LD116">$D116</a>	B0 13                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD12B">$D12B</a>                             	Check type &amp; branch if string.
<a name="LD118">$D118</a>	A5 DD                    	LDA   $DD                               	Put work FPA in packed format.
<a name="LD11A">$D11A</a>	09 7F                    	ORA   #$7F
<a name="LD11C">$D11C</a>	25 D9                    	AND   $D9
<a name="LD11E">$D11E</a>	85 D9                    	STA   $D9
<a name="LD120">$D120</a>	A9 D8                    	LDA   #$D8                              	Set Y (MSB) and A to point to
<a name="LD122">$D122</a>	A0 00                    	LDY   #$00                              	work FPA.
<a name="LD124">$D124</a>	20 4C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF4C">$DF4C</a>                             	Compare main and work FPAs.
<a name="LD127">$D127</a>	AA                       	TAX                                     	Save result in X and skip
<a name="LD128">$D128</a>	4C 5E D1                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD15E">$D15E</a>                             	over string section.
<a name="LD12B">$D12B</a>	A9 00                    	LDA   #$00                              	Clear string flag.
<a name="LD12D">$D12D</a>	85 28                    	STA   $28
<a name="LD12F">$D12F</a>	C6 BC                    	DEC   $BC                               	Adjust relational flags.
<a name="LD131">$D131</a>	20 D0 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D0">$D7D0</a>                             	Set up string.
<a name="LD134">$D134</a>	85 D0                    	STA   $D0                               	Store block in main FPA.
<a name="LD136">$D136</a>	86 D1                    	STX   $D1
<a name="LD138">$D138</a>	84 D2                    	STY   $D2
<a name="LD13A">$D13A</a>	A5 DB                    	LDA   $DB                               	Get pointer to first string in
<a name="LD13C">$D13C</a>	A4 DC                    	LDY   $DC                               	work FPA.
<a name="LD13E">$D13E</a>	20 D4 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D4">$D7D4</a>                             	Set up string.
<a name="LD141">$D141</a>	86 DB                    	STX   $DB                               	Store block in work FPA and X.
<a name="LD143">$D143</a>	84 DC                    	STY   $DC
<a name="LD145">$D145</a>	AA                       	TAX
<a name="LD146">$D146</a>	38                       	SEC
<a name="LD147">$D147</a>	E5 D0                    	SBC   $D0                               	Set up length of shorter
<a name="LD149">$D149</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD153">$D153</a>                             	string in X.
<a name="LD14B">$D14B</a>	A9 01                    	LDA   #$01                              	A=0 if strings are same length
<a name="LD14D">$D14D</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD153">$D153</a>                             	A=l if string pointed to by
<a name="LD14F">$D14F</a>	A6 D0                    	LDX   $D0                               	main FPA is longer otherwise
<a name="LD151">$D151</a>	A9 FF                    	LDA   #$FF                              	A=#FF.
<a name="LD153">$D153</a>	85 D5                    	STA   $D5                               	Save length difference flag.
<a name="LD155">$D155</a>	A0 FF                    	LDY   #$FF                              	Set Y and loop counter.
<a name="LD157">$D157</a>	E8                       	INX
<a name="LD158">$D158</a>	C8                       	INY
<a name="LD159">$D159</a>	CA                       	DEX
<a name="LD15A">$D15A</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD163">$D163</a>                             	Search through the strings
<a name="LD15C">$D15C</a>	A6 D5                    	LDX   $D5                               	comparing each of the
<a name="LD15E">$D15E</a>	30 0F                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD16F">$D16F</a>                             	characters until one string
<a name="LD160">$D160</a>	18                       	CLC                                     	has ended.
<a name="LD161">$D161</a>	90 0C                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD16F">$D16F</a>
<a name="LD163">$D163</a>	B1 DB                    	LDA   ($DB),Y
<a name="LD165">$D165</a>	D1 D1                    	CMP   ($D1),Y
<a name="LD167">$D167</a>	F0 EF                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD158">$D158</a>                             	Characters match.
<a name="LD169">$D169</a>	A2 FF                    	LDX   #$FF
<a name="LD16B">$D16B</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD16F">$D16F</a>                             	Set X to flag difference.
<a name="LD16D">$D16D</a>	A2 01                    	LDX   #$01
<a name="LD16F">$D16F</a>	E8                       	INX                                     	Form comparison result bit.
<a name="LD170">$D170</a>	8A                       	TXA
<a name="LD171">$D171</a>	2A                       	ROL
<a name="LD172">$D172</a>	25 2D                    	AND   $2D                               	Mask with relational operator
<a name="LD174">$D174</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD178">$D178</a>                             	mask and branch if false.
<a name="LD176">$D176</a>	A9 FF                    	LDA   #$FF                              	Set FPA according to content
<a name="LD178">$D178</a>	4C 24 DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF24">$DF24</a>                             	of A and exit.
<a name="LD17B">$D17B</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Check for ","

DIM
<a name="LD17E">$D17E</a>	AA                       	TAX                                     	DIM
<a name="LD17F">$D17F</a>	20 8D D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD18D">$D18D</a>                             	Handle array dimensioning.
<a name="LD182">$D182</a>	20 E8 00                 	JSR   $00E8                             	Get next character.
<a name="LD185">$D185</a>	D0 F4                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD17B">$D17B</a>                             	Loop until end of statement.
<a name="LD187">$D187</a>	60                       	RTS

GETVARFROMTEXT
<a name="LD188">$D188</a>	A2 00                    	LDX   #$00                              	GET VARIABLE FROM TEXT
<a name="LD18A">$D18A</a>	20 E8 00                 	JSR   $00E8
<a name="LD18D">$D18D</a>	86 27                    	STX   $27
<a name="LD18F">$D18F</a>	85 B4                    	STA   $B4                               	Put first char in $64.
<a name="LD191">$D191</a>	20 E8 00                 	JSR   $00E8
<a name="LD194">$D194</a>	20 16 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD216">$D216</a>                             	Give error if not a letter.
<a name="LD197">$D197</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD19C">$D19C</a>
<a name="LD199">$D199</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".
<a name="LD19C">$D19C</a>	A2 00                    	LDX   #$00
<a name="LD19E">$D19E</a>	86 28                    	STX   $28                               	Clear type flags.
<a name="LD1A0">$D1A0</a>	86 29                    	STX   $29
<a name="LD1A2">$D1A2</a>	20 E2 00                 	JSR   $00E2                             	Next character.
<a name="LD1A5">$D1A5</a>	90 05                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1AC">$D1AC</a>
<a name="LD1A7">$D1A7</a>	20 16 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD216">$D216</a>                             	Check that it is a letter.
<a name="LD1AA">$D1AA</a>	90 0B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1B7">$D1B7</a>                             	Character not in range A-Z.
<a name="LD1AC">$D1AC</a>	AA                       	TAX                                     	Save second char.
<a name="LD1AD">$D1AD</a>	20 E2 00                 	JSR   $00E2                             	Loop until not 0-9 or A-Z.
<a name="LD1B0">$D1B0</a>	90 FB                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1AD">$D1AD</a>
<a name="LD1B2">$D1B2</a>	20 16 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD216">$D216</a>
<a name="LD1B5">$D1B5</a>	B0 F6                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1AD">$D1AD</a>
<a name="LD1B7">$D1B7</a>	C9 24                    	CMP   #$24                              	Test for string indicator.
<a name="LD1B9">$D1B9</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1C1">$D1C1</a>                             	Character is not a $.
<a name="LD1BB">$D1BB</a>	A9 FF                    	LDA   #$FF
<a name="LD1BD">$D1BD</a>	85 28                    	STA   $28                               	Set string type.
<a name="LD1BF">$D1BF</a>	D0 10                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1D1">$D1D1</a>
<a name="LD1C1">$D1C1</a>	C9 25                    	CMP   #$25                              	Test for integer indicator.
<a name="LD1C3">$D1C3</a>	D0 13                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1D8">$D1D8</a>                             	Character is not a %.
<a name="LD1C5">$D1C5</a>	A5 2B                    	LDA   $2B
<a name="LD1C7">$D1C7</a>	30 D0                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD199">$D199</a>
<a name="LD1C9">$D1C9</a>	A9 80                    	LDA   #$80
<a name="LD1CB">$D1CB</a>	85 29                    	STA   $29                               	Set integer flag.
<a name="LD1CD">$D1CD</a>	05 B4                    	ORA   $B4
<a name="LD1CF">$D1CF</a>	85 B4                    	STA   $B4
<a name="LD1D1">$D1D1</a>	8A                       	TXA                                     	Set top bits of name according
<a name="LD1D2">$D1D2</a>	09 80                    	ORA   #$80                              	to type of variable.
<a name="LD1D4">$D1D4</a>	AA                       	TAX
<a name="LD1D5">$D1D5</a>	20 E2 00                 	JSR   $00E2                             	Next character.
<a name="LD1D8">$D1D8</a>	86 B5                    	STX   $B5
<a name="LD1DA">$D1DA</a>	38                       	SEC
<a name="LD1DB">$D1DB</a>	05 2B                    	ORA   $2B
<a name="LD1DD">$D1DD</a>	E9 28                    	SBC   #$28                              	Handle an array if following
<a name="LD1DF">$D1DF</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1E4">$D1E4</a>                             	char is "(" with number.
<a name="LD1E1">$D1E1</a>	4C BB D2                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2BB">$D2BB</a>
<a name="LD1E4">$D1E4</a>	24 2B                    	BIT   $2B                               	If STORE / RECALL flag bit is
<a name="LD1E6">$D1E6</a>	70 F9                    	BVS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1E1">$D1E1</a>                             	set then handle an array.
<a name="LD1E8">$D1E8</a>	A9 00                    	LDA   #$00
<a name="LD1EA">$D1EA</a>	85 2B                    	STA   $2B                               	Clear variable flag.
<a name="LD1EC">$D1EC</a>	A5 9C                    	LDA   $9C                               	X and A set to end Basic.
<a name="LD1EE">$D1EE</a>	A6 9D                    	LDX   $9D
<a name="LD1F0">$D1F0</a>	A0 00                    	LDY   #$00
<a name="LD1F2">$D1F2</a>	86 CF                    	STX   $CF
<a name="LD1F4">$D1F4</a>	85 CE                    	STA   $CE                               	If end variables reached then
<a name="LD1F6">$D1F6</a>	E4 9F                    	CPX   $9F                               	create new one if necessary.
<a name="LD1F8">$D1F8</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1FE">$D1FE</a>
<a name="LD1FA">$D1FA</a>	C5 9E                    	CMP   $9E
<a name="LD1FC">$D1FC</a>	F0 24                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD222">$D222</a>
<a name="LD1FE">$D1FE</a>	A5 B4                    	LDA   $B4
<a name="LD200">$D200</a>	D1 CE                    	CMP   ($CE),Y
<a name="LD202">$D202</a>	D0 08                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD20C">$D20C</a>
<a name="LD204">$D204</a>	A5 B5                    	LDA   $B5
<a name="LD206">$D206</a>	C8                       	INY                                     	If variable is found then set
<a name="LD207">$D207</a>	D1 CE                    	CMP   ($CE),Y                           	pointer and exit.
<a name="LD209">$D209</a>	F0 6C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD277">$D277</a>
<a name="LD20B">$D20B</a>	88                       	DEY
<a name="LD20C">$D20C</a>	18                       	CLC
<a name="LD20D">$D20D</a>	A5 CE                    	LDA   $CE
<a name="LD20F">$D20F</a>	69 07                    	ADC   #$07                              	Otherwise add 7 to pointer and
<a name="LD211">$D211</a>	90 E1                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1F4">$D1F4</a>                             	go round to search again.
<a name="LD213">$D213</a>	E8                       	INX
<a name="LD214">$D214</a>	D0 DC                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD1F2">$D1F2</a>
<a name="LD216">$D216</a>	C9 41                    	CMP   #$41                              	Set C if char in A is in the
<a name="LD218">$D218</a>	90 07                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD221">$D221</a>                             	ASCII range A - Z.
<a name="LD21A">$D21A</a>	E9 5B                    	SBC   #$5B
<a name="LD21C">$D21C</a>	38                       	SEC
<a name="LD21D">$D21D</a>	E9 A5                    	SBC   #$A5
<a name="LD21F">$D21F</a>	B0 00                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD221">$D221</a>
<a name="LD221">$D221</a>	60                       	RTS
<a name="LD222">$D222</a>	68                       	PLA                                     	Routine jumps here if variable
<a name="LD223">$D223</a>	48                       	PHA                                     	is not found. A and Y are set
<a name="LD224">$D224</a>	C9 7E                    	CMP   #$7E                              	to point to $E207 if a value
<a name="LD226">$D226</a>	D0 0D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD235">$D235</a>                             	is needed (which will be 0).
<a name="LD228">$D228</a>	BA                       	TSX                                     	If a new variable is to be
<a name="LD229">$D229</a>	BD 02 01                 	LDA   $0102,X                           	created then execute routine
<a name="LD22C">$D22C</a>	C9 D0                    	CMP   #$D0                              	below.
<a name="LD22E">$D22E</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD235">$D235</a>
<a name="LD230">$D230</a>	A9 07                    	LDA   #$07
<a name="LD232">$D232</a>	A0 E2                    	LDY   #$E2
<a name="LD234">$D234</a>	60                       	RTS
<a name="LD235">$D235</a>	A5 9E                    	LDA   $9E                               	Routine to open up space for a
<a name="LD237">$D237</a>	A4 9F                    	LDY   $9F                               	variable.
<a name="LD239">$D239</a>	85 CE                    	STA   $CE                               	Copy end of variables pointer.
<a name="LD23B">$D23B</a>	84 CF                    	STY   $CF
<a name="LD23D">$D23D</a>	A5 A0                    	LDA   $A0
<a name="LD23F">$D23F</a>	A4 A1                    	LDY   $A1
<a name="LD241">$D241</a>	85 C9                    	STA   $C9                               	Copy end of Arrays pointer.
<a name="LD243">$D243</a>	84 CA                    	STY   $CA
<a name="LD245">$D245</a>	18                       	CLC                                     	Add 7 to copy of end of Arrays
<a name="LD246">$D246</a>	69 07                    	ADC   #$07                              	pointer so that a new variable
<a name="LD248">$D248</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD24B">$D24B</a>                             	can be inserted in variable
<a name="LD24A">$D24A</a>	C8                       	INY                                     	block.
<a name="LD24B">$D24B</a>	85 C7                    	STA   $C7
<a name="LD24D">$D24D</a>	84 C8                    	STY   $C8
<a name="LD24F">$D24F</a>	20 F4 C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3F4">$C3F4</a>                             	Shift up arrays.
<a name="LD252">$D252</a>	A5 C7                    	LDA   $C7
<a name="LD254">$D254</a>	A4 C8                    	LDY   $C8
<a name="LD256">$D256</a>	C8                       	INY
<a name="LD257">$D257</a>	85 9E                    	STA   $9E                               	Update end of Variables
<a name="LD259">$D259</a>	84 9F                    	STY   $9F                               	pointer.
<a name="LD25B">$D25B</a>	A0 00                    	LDY   #$00
<a name="LD25D">$D25D</a>	A5 B4                    	LDA   $B4                               	Copy across name of new
<a name="LD25F">$D25F</a>	91 CE                    	STA   ($CE),Y                           	variable.
<a name="LD261">$D261</a>	C8                       	INY
<a name="LD262">$D262</a>	A5 B5                    	LDA   $B5
<a name="LD264">$D264</a>	91 CE                    	STA   ($CE),Y
<a name="LD266">$D266</a>	A9 00                    	LDA   #$00                              	Set value of variable to zero.
<a name="LD268">$D268</a>	C8                       	INY
<a name="LD269">$D269</a>	91 CE                    	STA   ($CE),Y
<a name="LD26B">$D26B</a>	C8                       	INY
<a name="LD26C">$D26C</a>	91 CE                    	STA   ($CE),Y
<a name="LD26E">$D26E</a>	C8                       	INY
<a name="LD26F">$D26F</a>	91 CE                    	STA   ($CE),Y
<a name="LD271">$D271</a>	C8                       	INY
<a name="LD272">$D272</a>	91 CE                    	STA   ($CE),Y
<a name="LD274">$D274</a>	C8                       	INY
<a name="LD275">$D275</a>	91 CE                    	STA   ($CE),Y
<a name="LD277">$D277</a>	A5 CE                    	LDA   $CE
<a name="LD279">$D279</a>	18                       	CLC
<a name="LD27A">$D27A</a>	69 02                    	ADC   #$02                              	Set $66 and $B7 to point to
<a name="LD27C">$D27C</a>	A4 CF                    	LDY   $CF                               	value of variable (2 beyond
<a name="LD27E">$D27E</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD281">$D281</a>                             	its name).
<a name="LD280">$D280</a>	C8                       	INY
<a name="LD281">$D281</a>	85 B6                    	STA   $B6
<a name="LD283">$D283</a>	84 B7                    	STY   $B7
<a name="LD285">$D285</a>	60                       	RTS
<a name="LD286">$D286</a>	A5 26                    	LDA   $26                               	Set $C7 and $C8 to point to
<a name="LD288">$D288</a>	0A                       	ASL                                     	start of array cells.
<a name="LD289">$D289</a>	69 05                    	ADC   #$05
<a name="LD28B">$D28B</a>	65 CE                    	ADC   $CE
<a name="LD28D">$D28D</a>	A4 CF                    	LDY   $CF
<a name="LD28F">$D28F</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD292">$D292</a>
<a name="LD291">$D291</a>	C8                       	INY
<a name="LD292">$D292</a>	85 C7                    	STA   $C7
<a name="LD294">$D294</a>	84 C8                    	STY   $C8
<a name="LD296">$D296</a>	60                       	RTS
<a name="LD297">$D297</a>	90 80 00 00 00           	BYT   $90,$80,$00,$00,$00               	Floating point value of -32768
<a name="LD29C">$D29C</a>	20 E2 00                 	JSR   $00E2                             	Next character.
<a name="LD29F">$D29F</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Get numeric expression.
<a name="LD2A2">$D2A2</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	Check that it is numeric.
<a name="LD2A5">$D2A5</a>	A5 D5                    	LDA   $D5
<a name="LD2A7">$D2A7</a>	30 0D                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2B6">$D2B6</a>                             	Error if negative subscript.
<a name="LD2A9">$D2A9</a>	A5 D0                    	LDA   $D0                               	MAIN FPA INTO SIGNED INTEGER
<a name="LD2AB">$D2AB</a>	C9 90                    	CMP   #$90                              	Number is less than 32768 in
<a name="LD2AD">$D2AD</a>	90 09                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2B8">$D2B8</a>                             	magnitude.
<a name="LD2AF">$D2AF</a>	A9 97                    	LDA   #$97                              	Compare number with -32768
<a name="LD2B1">$D2B1</a>	A0 D2                    	LDY   #$D2                              	held at $0297.
<a name="LD2B3">$D2B3</a>	20 4C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF4C">$DF4C</a>
<a name="LD2B6">$D2B6</a>	D0 7E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD336">$D336</a>                             	Error if not equal.
<a name="LD2B8">$D2B8</a>	4C 8C DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF8C">$DF8C</a>                             	Convert to integer and exit.
<a name="LD2BB">$D2BB</a>	A5 2B                    	LDA   $2B                               	HANDLE ARRAY.  If STORE/RECALL
<a name="LD2BD">$D2BD</a>	D0 47                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD306">$D306</a>                             	then skip handling subscripts.
<a name="LD2BF">$D2BF</a>	A5 27                    	LDA   $27
<a name="LD2C1">$D2C1</a>	05 29                    	ORA   $29                               	Save flag bytes.
<a name="LD2C3">$D2C3</a>	48                       	PHA
<a name="LD2C4">$D2C4</a>	A5 28                    	LDA   $28
<a name="LD2C6">$D2C6</a>	48                       	PHA
<a name="LD2C7">$D2C7</a>	A0 00                    	LDY   #$00                              	Set initial count of
<a name="LD2C9">$D2C9</a>	98                       	TYA                                     	subscripts and save it on
<a name="LD2CA">$D2CA</a>	48                       	PHA                                     	stack.
<a name="LD2CB">$D2CB</a>	A5 B5                    	LDA   $B5                               	Save address of last variable
<a name="LD2CD">$D2CD</a>	48                       	PHA                                     	accessed.
<a name="LD2CE">$D2CE</a>	A5 B4                    	LDA   $B4
<a name="LD2D0">$D2D0</a>	48                       	PHA
<a name="LD2D1">$D2D1</a>	20 9C D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD29C">$D29C</a>                             	Get subscript.
<a name="LD2D4">$D2D4</a>	68                       	PLA
<a name="LD2D5">$D2D5</a>	85 B4                    	STA   $B4                               	Restore address of last
<a name="LD2D7">$D2D7</a>	68                       	PLA                                     	variable accessed.
<a name="LD2D8">$D2D8</a>	85 B5                    	STA   $B5
<a name="LD2DA">$D2DA</a>	68                       	PLA                                     	Restore subscript counter.
<a name="LD2DB">$D2DB</a>	A8                       	TAY
<a name="LD2DC">$D2DC</a>	BA                       	TSX
<a name="LD2DD">$D2DD</a>	BD 02 01                 	LDA   $0102,X                           	Copy flags on to top of the
<a name="LD2E0">$D2E0</a>	48                       	PHA                                     	stack.
<a name="LD2E1">$D2E1</a>	BD 01 01                 	LDA   $0101,X
<a name="LD2E4">$D2E4</a>	48                       	PHA
<a name="LD2E5">$D2E5</a>	A5 D3                    	LDA   $D3                               	Put on the size of new
<a name="LD2E7">$D2E7</a>	9D 02 01                 	STA   $0102,X                           	dimension underneath them.
<a name="LD2EA">$D2EA</a>	A5 D4                    	LDA   $D4
<a name="LD2EC">$D2EC</a>	9D 01 01                 	STA   $0101,X
<a name="LD2EF">$D2EF</a>	C8                       	INY                                     	Increment subscript number.
<a name="LD2F0">$D2F0</a>	20 E8 00                 	JSR   $00E8                             	Get next character.
<a name="LD2F3">$D2F3</a>	C9 2C                    	CMP   #$2C                              	Branch if it is a comma.
<a name="LD2F5">$D2F5</a>	F0 D2                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2C9">$D2C9</a>
<a name="LD2F7">$D2F7</a>	84 26                    	STY   $26                               	Save subscript number.
<a name="LD2F9">$D2F9</a>	20 5F D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD05F">$D05F</a>                             	Test for a ")".
<a name="LD2FC">$D2FC</a>	68                       	PLA
<a name="LD2FD">$D2FD</a>	85 28                    	STA   $28                               	Restore variable type flags.
<a name="LD2FF">$D2FF</a>	68                       	PLA
<a name="LD300">$D300</a>	85 29                    	STA   $29
<a name="LD302">$D302</a>	29 7F                    	AND   #$7F                              	Set Dimension flag, 0=not dim.
<a name="LD304">$D304</a>	85 27                    	STA   $27
<a name="LD306">$D306</a>	A6 9E                    	LDX   $9E
<a name="LD308">$D308</a>	A5 9F                    	LDA   $9F                               	Set pointer to next array.
<a name="LD30A">$D30A</a>	86 CE                    	STX   $CE
<a name="LD30C">$D30C</a>	85 CF                    	STA   $CF
<a name="LD30E">$D30E</a>	C5 A1                    	CMP   $A1
<a name="LD310">$D310</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD316">$D316</a>                             	Address of next array is same
<a name="LD312">$D312</a>	E4 A0                    	CPX   $A0                               	as that of end arrays.
<a name="LD314">$D314</a>	F0 3F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD355">$D355</a>
<a name="LD316">$D316</a>	A0 00                    	LDY   #$00
<a name="LD318">$D318</a>	B1 CE                    	LDA   ($CE),Y
<a name="LD31A">$D31A</a>	C8                       	INY
<a name="LD31B">$D31B</a>	C5 B4                    	CMP   $B4                               	Branch to $0336 if the next
<a name="LD31D">$D31D</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD325">$D325</a>                             	array pointed to has same name
<a name="LD31F">$D31F</a>	A5 B5                    	LDA   $B5                               	as the array being put into
<a name="LD321">$D321</a>	D1 CE                    	CMP   ($CE),Y                           	memory.
<a name="LD323">$D323</a>	F0 16                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD33B">$D33B</a>
<a name="LD325">$D325</a>	C8                       	INY
<a name="LD326">$D326</a>	B1 CE                    	LDA   ($CE),Y                           	Add offset to pointer.
<a name="LD328">$D328</a>	18                       	CLC
<a name="LD329">$D329</a>	65 CE                    	ADC   $CE
<a name="LD32B">$D32B</a>	AA                       	TAX
<a name="LD32C">$D32C</a>	C8                       	INY
<a name="LD32D">$D32D</a>	B1 CE                    	LDA   ($CE),Y
<a name="LD32F">$D32F</a>	65 CF                    	ADC   $CF
<a name="LD331">$D331</a>	90 D7                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD30A">$D30A</a>                             	Next array if all is okay.
<a name="LD333">$D333</a>	A2 6B                    	LDX   #$6B                              	Set X - "BAD SUBSCRIPT ERROR"
<a name="LD335">$D335</a>	2C A2 35                 	BIT   $35A2                             	Set X - "ILLEGAL QTY ERROR"
<a name="LD338">$D338</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	Print error message.
<a name="LD33B">$D33B</a>	A2 78                    	LDX   #$78                              	Set X - "REDIM'D ARRAY ERROR"
<a name="LD33D">$D33D</a>	A5 27                    	LDA   $27
<a name="LD33F">$D33F</a>	D0 F7                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD338">$D338</a>                             	Print error.
<a name="LD341">$D341</a>	A5 2B                    	LDA   $2B                               	If STORE / RECALL flag was set
<a name="LD343">$D343</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD347">$D347</a>                             	then exit with C=l.
<a name="LD345">$D345</a>	38                       	SEC
<a name="LD346">$D346</a>	60                       	RTS
<a name="LD347">$D347</a>	20 86 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD286">$D286</a>                             	Set up start of Array cells.
<a name="LD34A">$D34A</a>	A5 26                    	LDA   $26                               	Get number of subscripts.
<a name="LD34C">$D34C</a>	A0 04                    	LDY   #$04
<a name="LD34E">$D34E</a>	D1 CE                    	CMP   ($CE),Y                           	If not same number as
<a name="LD350">$D350</a>	D0 E1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD333">$D333</a>                             	dimensioned then give error.
<a name="LD352">$D352</a>	4C EB D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD3EB">$D3EB</a>
<a name="LD355">$D355</a>	A5 2B                    	LDA   $2B                               	End up here if array not found
<a name="LD357">$D357</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD361">$D361</a>                             	STORE/RECALL flag is not set.
<a name="LD359">$D359</a>	20 3D E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE93D">$E93D</a>                             	Reset cassette status and give
<a name="LD35C">$D35C</a>	A2 2A                    	LDX   #$2A                              	"OUT OF DATA" error.
<a name="LD35E">$D35E</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>

DIMARRAY
<a name="LD361">$D361</a>	20 86 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD286">$D286</a>                             	DIMENSION AN ARRAY. Set up
<a name="LD364">$D364</a>	20 44 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC444">$C444</a>                             	start of array cells and check
<a name="LD367">$D367</a>	A9 00                    	LDA   #$00                              	for enough memory for header.
<a name="LD369">$D369</a>	A8                       	TAY                                     	Set MSB of correct array size.
<a name="LD36A">$D36A</a>	85 E1                    	STA   $E1
<a name="LD36C">$D36C</a>	A2 05                    	LDX   #$05                              	Try an element size of 5.
<a name="LD36E">$D36E</a>	A5 B4                    	LDA   $B4
<a name="LD370">$D370</a>	91 CE                    	STA   ($CE),Y                           	Transfer first letter of name.
<a name="LD372">$D372</a>	10 01                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD375">$D375</a>                             	Decrement size to 4 if integer
<a name="LD374">$D374</a>	CA                       	DEX                                     	array.
<a name="LD375">$D375</a>	C8                       	INY
<a name="LD376">$D376</a>	A5 B5                    	LDA   $B5
<a name="LD378">$D378</a>	91 CE                    	STA   ($CE),Y                           	Transfer second letter of name
<a name="LD37A">$D37A</a>	10 02                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD37E">$D37E</a>                             	and decrement element size to
<a name="LD37C">$D37C</a>	CA                       	DEX                                     	3 for strings and 2 for
<a name="LD37D">$D37D</a>	CA                       	DEX                                     	integers.
<a name="LD37E">$D37E</a>	86 E0                    	STX   $E0
<a name="LD380">$D380</a>	A5 26                    	LDA   $26
<a name="LD382">$D382</a>	C8                       	INY
<a name="LD383">$D383</a>	C8                       	INY                                     	Transfer number of subscripts
<a name="LD384">$D384</a>	C8                       	INY                                     	into array header.
<a name="LD385">$D385</a>	91 CE                    	STA   ($CE),Y
<a name="LD387">$D387</a>	A2 0B                    	LDX   #$0B                              	Set default dimension size to
<a name="LD389">$D389</a>	A9 00                    	LDA   #$00                              	11 (0 to 10).
<a name="LD38B">$D38B</a>	24 27                    	BIT   $27                               	DIM flag is clear.
<a name="LD38D">$D38D</a>	50 08                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD397">$D397</a>
<a name="LD38F">$D38F</a>	68                       	PLA                                     	Load A and X with dimension
<a name="LD390">$D390</a>	18                       	CLC                                     	size.
<a name="LD391">$D391</a>	69 01                    	ADC   #$01
<a name="LD393">$D393</a>	AA                       	TAX
<a name="LD394">$D394</a>	68                       	PLA
<a name="LD395">$D395</a>	69 00                    	ADC   #$00
<a name="LD397">$D397</a>	C8                       	INY
<a name="LD398">$D398</a>	91 CE                    	STA   ($CE),Y                           	Put MSB of dimension into
<a name="LD39A">$D39A</a>	C8                       	INY                                     	array.
<a name="LD39B">$D39B</a>	8A                       	TXA                                     	Put LSB of dimension into
<a name="LD39C">$D39C</a>	91 CE                    	STA   ($CE),Y                           	array.
<a name="LD39E">$D39E</a>	20 4D D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD44D">$D44D</a>                             	Multiply element size by that
<a name="LD3A1">$D3A1</a>	86 E0                    	STX   $E0                               	of dimension.
<a name="LD3A3">$D3A3</a>	85 E1                    	STA   $E1                               	Save size.
<a name="LD3A5">$D3A5</a>	A4 91                    	LDY   $91                               	Restore offset into header.
<a name="LD3A7">$D3A7</a>	C6 26                    	DEC   $26                               	Decrement no of dim's left to
<a name="LD3A9">$D3A9</a>	D0 DC                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD387">$D387</a>                             	do. Branch if not all done.
<a name="LD3AB">$D3AB</a>	65 C8                    	ADC   $C8
<a name="LD3AD">$D3AD</a>	B0 5D                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD40C">$D40C</a>                             	Add array size to start
<a name="LD3AF">$D3AF</a>	85 C8                    	STA   $C8                               	address of start of array.
<a name="LD3B1">$D3B1</a>	A8                       	TAY                                     	Give "OUT OF MEMORY ERROR" if
<a name="LD3B2">$D3B2</a>	8A                       	TXA                                     	too large.
<a name="LD3B3">$D3B3</a>	65 C7                    	ADC   $C7
<a name="LD3B5">$D3B5</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD3BA">$D3BA</a>
<a name="LD3B7">$D3B7</a>	C8                       	INY
<a name="LD3B8">$D3B8</a>	F0 52                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD40C">$D40C</a>
<a name="LD3BA">$D3BA</a>	20 44 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC444">$C444</a>                             	Check sufficient memory.
<a name="LD3BD">$D3BD</a>	85 A0                    	STA   $A0                               	Save top of arrays.
<a name="LD3BF">$D3BF</a>	84 A1                    	STY   $A1
<a name="LD3C1">$D3C1</a>	A9 00                    	LDA   #$00
<a name="LD3C3">$D3C3</a>	E6 E1                    	INC   $E1                               	Set number of whole/part pages
<a name="LD3C5">$D3C5</a>	A4 E0                    	LDY   $E0                               	that must be initialised to 0.
<a name="LD3C7">$D3C7</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD3CE">$D3CE</a>                             	Whole number of pages to do.
<a name="LD3C9">$D3C9</a>	88                       	DEY
<a name="LD3CA">$D3CA</a>	91 C7                    	STA   ($C7),Y                           	Clear rest of page.
<a name="LD3CC">$D3CC</a>	D0 FB                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD3C9">$D3C9</a>
<a name="LD3CE">$D3CE</a>	C6 C8                    	DEC   $C8                               	Decrement pointers and page
<a name="LD3D0">$D3D0</a>	C6 E1                    	DEC   $E1                               	count.
<a name="LD3D2">$D3D2</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD3C9">$D3C9</a>                             	More to do.
<a name="LD3D4">$D3D4</a>	E6 C8                    	INC   $C8                               	Pointer back to start.
<a name="LD3D6">$D3D6</a>	38                       	SEC
<a name="LD3D7">$D3D7</a>	A5 A0                    	LDA   $A0                               	Get total array size, LSB.
<a name="LD3D9">$D3D9</a>	E5 CE                    	SBC   $CE
<a name="LD3DB">$D3DB</a>	A0 02                    	LDY   #$02
<a name="LD3DD">$D3DD</a>	91 CE                    	STA   ($CE),Y                           	Save LSB of size in header.
<a name="LD3DF">$D3DF</a>	A5 A1                    	LDA   $A1
<a name="LD3E1">$D3E1</a>	C8                       	INY
<a name="LD3E2">$D3E2</a>	E5 CF                    	SBC   $CF                               	Get total array size, MSB and
<a name="LD3E4">$D3E4</a>	91 CE                    	STA   ($CE),Y                           	save it in array header.
<a name="LD3E6">$D3E6</a>	A5 27                    	LDA   $27                               	If DIM flag set then exit.
<a name="LD3E8">$D3E8</a>	D0 62                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD44C">$D44C</a>
<a name="LD3EA">$D3EA</a>	C8                       	INY

GETARRAYELEMENT
<a name="LD3EB">$D3EB</a>	B1 CE                    	LDA   ($CE),Y                           	GET ARRAY ELEMENT
<a name="LD3ED">$D3ED</a>	85 26                    	STA   $26                               	Get number of dimensions into $26
<a name="LD3EF">$D3EF</a>	A9 00                    	LDA   #$00
<a name="LD3F1">$D3F1</a>	85 E0                    	STA   $E0                               	Set LSB of cell number to 0.
<a name="LD3F3">$D3F3</a>	85 E1                    	STA   $E1                               	Set MSB of cell number to 0.
<a name="LD3F5">$D3F5</a>	C8                       	INY                                     	Point at first dimension size.
<a name="LD3F6">$D3F6</a>	68                       	PLA
<a name="LD3F7">$D3F7</a>	AA                       	TAX                                     	Get LSB of required subscript.
<a name="LD3F8">$D3F8</a>	85 D3                    	STA   $D3
<a name="LD3FA">$D3FA</a>	68                       	PLA                                     	Get MSB of required subscript.
<a name="LD3FB">$D3FB</a>	85 D4                    	STA   $D4
<a name="LD3FD">$D3FD</a>	D1 CE                    	CMP   ($CE),Y                           	If bigger than dimensioned
<a name="LD3FF">$D3FF</a>	90 0E                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD40F">$D40F</a>                             	then give "BAD SUBSCRIPT
<a name="LD401">$D401</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD409">$D409</a>                             	ERROR"
<a name="LD403">$D403</a>	C8                       	INY
<a name="LD404">$D404</a>	8A                       	TXA
<a name="LD405">$D405</a>	D1 CE                    	CMP   ($CE),Y                           	Check LSB of subscript.
<a name="LD407">$D407</a>	90 07                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD410">$D410</a>                             	Continue if okay.
<a name="LD409">$D409</a>	4C 33 D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD333">$D333</a>                             	Print "BAD SUBCRIPT ERROR".
<a name="LD40C">$D40C</a>	4C 7C C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>                             	Print "OUT OF MEMORY ERROR".
<a name="LD40F">$D40F</a>	C8                       	INY                                     	Point Y at LSB of subscript.
<a name="LD410">$D410</a>	A5 E1                    	LDA   $E1                               	If cell number so far is zero
<a name="LD412">$D412</a>	05 E0                    	ORA   $E0                               	then skip the multiply.
<a name="LD414">$D414</a>	18                       	CLC
<a name="LD415">$D415</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD421">$D421</a>
<a name="LD417">$D417</a>	20 4D D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD44D">$D44D</a>                             	Multiply cell number by
<a name="LD41A">$D41A</a>	8A                       	TXA                                     	dimension size.
<a name="LD41B">$D41B</a>	65 D3                    	ADC   $D3                               	Add subscript into cell
<a name="LD41D">$D41D</a>	AA                       	TAX                                     	number.
<a name="LD41E">$D41E</a>	98                       	TYA
<a name="LD41F">$D41F</a>	A4 91                    	LDY   $91                               	Get offset into header.
<a name="LD421">$D421</a>	65 D4                    	ADC   $D4                               	Add subscript to cell number
<a name="LD423">$D423</a>	86 E0                    	STX   $E0                               	LSB and set new cell number.
<a name="LD425">$D425</a>	C6 26                    	DEC   $26                               	Decrement and loop if more
<a name="LD427">$D427</a>	D0 CA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD3F3">$D3F3</a>                             	dimensions to do.
<a name="LD429">$D429</a>	85 E1                    	STA   $E1                               	Set final cell number MSB.
<a name="LD42B">$D42B</a>	A2 05                    	LDX   #$05                              	Try element size of 5.
<a name="LD42D">$D42D</a>	A5 B4                    	LDA   $B4
<a name="LD42F">$D42F</a>	10 01                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD432">$D432</a>                             	If integer type then set size
<a name="LD431">$D431</a>	CA                       	DEX                                     	to 4.
<a name="LD432">$D432</a>	A5 B5                    	LDA   $B5
<a name="LD434">$D434</a>	10 02                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD438">$D438</a>                             	If string type then decrement
<a name="LD436">$D436</a>	CA                       	DEX                                     	size to 3 and also set integer
<a name="LD437">$D437</a>	CA                       	DEX                                     	size to 2.
<a name="LD438">$D438</a>	86 97                    	STX   $97
<a name="LD43A">$D43A</a>	A9 00                    	LDA   #$00                              	Multiply final cell number by
<a name="LD43C">$D43C</a>	20 56 D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD456">$D456</a>                             	element size.
<a name="LD43F">$D43F</a>	8A                       	TXA
<a name="LD440">$D440</a>	65 C7                    	ADC   $C7                               	Add start of cell's address to
<a name="LD442">$D442</a>	85 B6                    	STA   $B6                               	cell offset.
<a name="LD444">$D444</a>	98                       	TYA
<a name="LD445">$D445</a>	65 C8                    	ADC   $C8
<a name="LD447">$D447</a>	85 B7                    	STA   $B7                               	Set A and Y to point to the
<a name="LD449">$D449</a>	A8                       	TAY                                     	cell and then exit.
<a name="LD44A">$D44A</a>	A5 B6                    	LDA   $B6
<a name="LD44C">$D44C</a>	60                       	RTS
<a name="LD44D">$D44D</a>	84 91                    	STY   $91                               	MULTIPLY $E0/$E1 BY DIMENSION SIZE
<a name="LD44F">$D44F</a>	B1 CE                    	LDA   ($CE),Y                           	Save offset into header.
<a name="LD451">$D451</a>	85 97                    	STA   $97                               	Transfer dimension size into
<a name="LD453">$D453</a>	88                       	DEY                                     	$97 and $98.
<a name="LD454">$D454</a>	B1 CE                    	LDA   ($CE),Y
<a name="LD456">$D456</a>	85 98                    	STA   $98
<a name="LD458">$D458</a>	A9 10                    	LDA   #$10                              	Set loop counter to 16 bits.
<a name="LD45A">$D45A</a>	85 CC                    	STA   $CC
<a name="LD45C">$D45C</a>	A2 00                    	LDX   #$00                              	Set result to 0.
<a name="LD45E">$D45E</a>	A0 00                    	LDY   #$00
<a name="LD460">$D460</a>	8A                       	TXA
<a name="LD461">$D461</a>	0A                       	ASL                                     	Shift result up 1 bit.
<a name="LD462">$D462</a>	AA                       	TAX
<a name="LD463">$D463</a>	98                       	TYA
<a name="LD464">$D464</a>	2A                       	ROL
<a name="LD465">$D465</a>	A8                       	TAY
<a name="LD466">$D466</a>	B0 A4                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD40C">$D40C</a>                             	Error if overflow.
<a name="LD468">$D468</a>	06 E0                    	ASL   $E0                               	Shift current size up 1 bit.
<a name="LD46A">$D46A</a>	26 E1                    	ROL   $E1
<a name="LD46C">$D46C</a>	90 0B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD479">$D479</a>                             	If 0 shifted out, then skip
<a name="LD46E">$D46E</a>	18                       	CLC                                     	the addition.
<a name="LD46F">$D46F</a>	8A                       	TXA
<a name="LD470">$D470</a>	65 97                    	ADC   $97                               	Add dimension size to current
<a name="LD472">$D472</a>	AA                       	TAX                                     	size.
<a name="LD473">$D473</a>	98                       	TYA
<a name="LD474">$D474</a>	65 98                    	ADC   $98
<a name="LD476">$D476</a>	A8                       	TAY
<a name="LD477">$D477</a>	B0 93                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD40C">$D40C</a>                             	Error if overflow.
<a name="LD479">$D479</a>	C6 CC                    	DEC   $CC                               	Decrement loop counter.
<a name="LD47B">$D47B</a>	D0 E3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD460">$D460</a>                             	More loops to execute.
<a name="LD47D">$D47D</a>	60                       	RTS

FRE
<a name="LD47E">$D47E</a>	A5 28                    	LDA   $28                               	FRE
<a name="LD480">$D480</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD485">$D485</a>                             	If string then set up string
<a name="LD482">$D482</a>	20 D0 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D0">$D7D0</a>                             	in main FPA.
<a name="LD485">$D485</a>	20 50 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD650">$D650</a>                             	Attempt Garbage collection.
<a name="LD488">$D488</a>	38                       	SEC                                     	Calculate LSB of Top of
<a name="LD489">$D489</a>	A5 A2                    	LDA   $A2                               	Strings - Bottom of Strings.
<a name="LD48B">$D48B</a>	E5 A0                    	SBC   $A0
<a name="LD48D">$D48D</a>	A8                       	TAY                                     	Transfer LSB to Y.
<a name="LD48E">$D48E</a>	A5 A3                    	LDA   $A3                               	Calculate MSB.
<a name="LD490">$D490</a>	E5 A1                    	SBC   $A1
<a name="LD492">$D492</a>	A2 00                    	LDX   #$00
<a name="LD494">$D494</a>	86 28                    	STX   $28                               	Clear string flag.
<a name="LD496">$D496</a>	4C 40 DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF40">$DF40</a>                             	Convert to main EPA and exit.
<a name="LD499">$D499</a>	A2 00                    	LDX   #$00                              	Put signed integer from A
<a name="LD49B">$D49B</a>	86 28                    	STX   $28                               	(MSB) and Y into main EPA.
<a name="LD49D">$D49D</a>	85 D1                    	STA   $D1                               	Put A and Y into mantissa.
<a name="LD49F">$D49F</a>	84 D2                    	STY   $D2
<a name="LD4A1">$D4A1</a>	A2 90                    	LDX   #$90
<a name="LD4A3">$D4A3</a>	4C 2C DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF2C">$DF2C</a>                             	Normalise and exit.

POS
<a name="LD4A6">$D4A6</a>	20 CB D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8CB">$D8CB</a>                             	POS
<a name="LD4A9">$D4A9</a>	8A                       	TXA                                     	Get single byte expression in
<a name="LD4AA">$D4AA</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4B4">$D4B4</a>                             	A and branch if zero.
<a name="LD4AC">$D4AC</a>	AC 58 02                 	LDY   $0258                             	Get column number used for
<a name="LD4AF">$D4AF</a>	2C F1 02                 	BIT   $02F1                             	printer.
<a name="LD4B2">$D4B2</a>	10 02                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4B6">$D4B6</a>                             	Printer is off.
<a name="LD4B4">$D4B4</a>	A4 30                    	LDY   $30                               	Load screen cursor column.
<a name="LD4B6">$D4B6</a>	A9 00                    	LDA   #$00                              	Branch to convert integer to
<a name="LD4B8">$D4B8</a>	F0 DF                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD499">$D499</a>                             	floating point number.

DEF
<a name="LD4BA">$D4BA</a>	C9 D9                    	CMP   #$D9                              	DEF
<a name="LD4BC">$D4BC</a>	D0 21                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4DF">$D4DF</a>                             	Token is not that of USR.
<a name="LD4BE">$D4BE</a>	20 E2 00                 	JSR   $00E2                             	Get next character.
<a name="LD4C1">$D4C1</a>	A9 D4                    	LDA   #$D4
<a name="LD4C3">$D4C3</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>                             	Test for "=" token.
<a name="LD4C6">$D4C6</a>	20 53 E8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE853">$E853</a>                             	Get +ve integer into $33/$34.
<a name="LD4C9">$D4C9</a>	A5 33                    	LDA   $33                               	Transfer jump address to jump
<a name="LD4CB">$D4CB</a>	A4 34                    	LDY   $34                               	location.
<a name="LD4CD">$D4CD</a>	85 22                    	STA   $22
<a name="LD4CF">$D4CF</a>	84 23                    	STY   $23
<a name="LD4D1">$D4D1</a>	60                       	RTS                                     	Exit.
<a name="LD4D2">$D4D2</a>	A6 A9                    	LDX   $A9                               	CHECK FOR ILLEGAL DIRECT ERROR
<a name="LD4D4">$D4D4</a>	E8                       	INX
<a name="LD4D5">$D4D5</a>	D0 FA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4D1">$D4D1</a>                             	Not in immediate mode.
<a name="LD4D7">$D4D7</a>	A2 95                    	LDX   #$95                              	Set X - "ILLEGAL DIRECT ERROR"
<a name="LD4D9">$D4D9</a>	2C A2 E5                 	BIT   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5A2">$E5A2</a>                             	Set X - "UNDEF'D FUNCTION E.."
<a name="LD4DC">$D4DC</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	Print error message.
<a name="LD4DF">$D4DF</a>	20 0D D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD50D">$D50D</a>                             	Check FN and get name.
<a name="LD4E2">$D4E2</a>	20 D2 D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4D2">$D4D2</a>                             	Check illegal direct error.
<a name="LD4E5">$D4E5</a>	20 62 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD062">$D062</a>                             	Check for "(".
<a name="LD4E8">$D4E8</a>	A9 80                    	LDA   #$80                              	Set no integer flag.
<a name="LD4EA">$D4EA</a>	85 2B                    	STA   $2B
<a name="LD4EC">$D4EC</a>	20 88 D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD188">$D188</a>                             	Get variable.
<a name="LD4EF">$D4EF</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	Check that it is numeric.
<a name="LD4F2">$D4F2</a>	20 5F D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD05F">$D05F</a>                             	Check for ")".
<a name="LD4F5">$D4F5</a>	A9 D4                    	LDA   #$D4
<a name="LD4F7">$D4F7</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>                             	Check for "=" token.
<a name="LD4FA">$D4FA</a>	48                       	PHA
<a name="LD4FB">$D4FB</a>	A5 B7                    	LDA   $B7                               	Save variable address.
<a name="LD4FD">$D4FD</a>	48                       	PHA
<a name="LD4FE">$D4FE</a>	A5 B6                    	LDA   $B6
<a name="LD500">$D500</a>	48                       	PHA
<a name="LD501">$D501</a>	A5 EA                    	LDA   $EA
<a name="LD503">$D503</a>	48                       	PHA                                     	Save text pointer.
<a name="LD504">$D504</a>	A5 E9                    	LDA   $E9
<a name="LD506">$D506</a>	48                       	PHA
<a name="LD507">$D507</a>	20 3C CA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCA3C">$CA3C</a>                             	Skip rest of statement.
<a name="LD50A">$D50A</a>	4C 7D D5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD57D">$D57D</a>                             	Set up FN description &amp; exit.
<a name="LD50D">$D50D</a>	A9 C4                    	LDA   #$C4                              	Check for "FN" token.
<a name="LD50F">$D50F</a>	20 67 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD067">$D067</a>
<a name="LD512">$D512</a>	09 80                    	ORA   #$80                              	set top bit of first char.
<a name="LD514">$D514</a>	A2 80                    	LDX   #$80
<a name="LD516">$D516</a>	86 2B                    	STX   $2B                               	Set no integer flag.
<a name="LD518">$D518</a>	20 8F D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD18F">$D18F</a>                             	Get variable.
<a name="LD51B">$D51B</a>	85 BD                    	STA   $BD                               	Save pointer to variable.
<a name="LD51D">$D51D</a>	84 BE                    	STY   $BE
<a name="LD51F">$D51F</a>	4C 06 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	Check numeric type and exit.
<a name="LD522">$D522</a>	20 0D D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD50D">$D50D</a>                             	FN Check FN and get name.
<a name="LD525">$D525</a>	A5 BE                    	LDA   $BE                               	Save pointer to FN descriptor.
<a name="LD527">$D527</a>	48                       	PHA
<a name="LD528">$D528</a>	A5 BD                    	LDA   $BD
<a name="LD52A">$D52A</a>	48                       	PHA
<a name="LD52B">$D52B</a>	20 59 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD059">$D059</a>                             	Get expression in brackets.
<a name="LD52E">$D52E</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	Check numeric type.
<a name="LD531">$D531</a>	68                       	PLA                                     	Restore pointer to FN
<a name="LD532">$D532</a>	85 BD                    	STA   $BD                               	descriptor.
<a name="LD534">$D534</a>	68                       	PLA
<a name="LD535">$D535</a>	85 BE                    	STA   $BE
<a name="LD537">$D537</a>	A0 02                    	LDY   #$02
<a name="LD539">$D539</a>	B1 BD                    	LDA   ($BD),Y                           	Get parameter location LSB.
<a name="LD53B">$D53B</a>	85 B6                    	STA   $B6                               	Save it.
<a name="LD53D">$D53D</a>	AA                       	TAX
<a name="LD53E">$D53E</a>	C8                       	INY
<a name="LD53F">$D53F</a>	B1 BD                    	LDA   ($BD),Y                           	Get parameter location MSB.
<a name="LD541">$D541</a>	F0 97                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4DA">$D4DA</a>                             	Error if zero.
<a name="LD543">$D543</a>	85 B7                    	STA   $B7                               	Save result.
<a name="LD545">$D545</a>	C8                       	INY
<a name="LD546">$D546</a>	B1 B6                    	LDA   ($B6),Y                           	Save parameter value on stack.
<a name="LD548">$D548</a>	48                       	PHA
<a name="LD549">$D549</a>	88                       	DEY
<a name="LD54A">$D54A</a>	10 FA                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD546">$D546</a>
<a name="LD54C">$D54C</a>	A4 B7                    	LDY   $B7                               	Pack FPA into parameter.
<a name="LD54E">$D54E</a>	20 AD DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEAD">$DEAD</a>
<a name="LD551">$D551</a>	A5 EA                    	LDA   $EA
<a name="LD553">$D553</a>	48                       	PHA                                     	Save text position.
<a name="LD554">$D554</a>	A5 E9                    	LDA   $E9
<a name="LD556">$D556</a>	48                       	PHA
<a name="LD557">$D557</a>	B1 BD                    	LDA   ($BD),Y                           	Set text pointer to start of
<a name="LD559">$D559</a>	85 E9                    	STA   $E9                               	FN definition.
<a name="LD55B">$D55B</a>	C8                       	INY
<a name="LD55C">$D55C</a>	B1 BD                    	LDA   ($BD),Y
<a name="LD55E">$D55E</a>	85 EA                    	STA   $EA
<a name="LD560">$D560</a>	A5 B7                    	LDA   $B7                               	Save parameter location.
<a name="LD562">$D562</a>	48                       	PHA
<a name="LD563">$D563</a>	A5 B6                    	LDA   $B6
<a name="LD565">$D565</a>	48                       	PHA
<a name="LD566">$D566</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Get numeric expression.
<a name="LD569">$D569</a>	68                       	PLA                                     	Restore parameter location.
<a name="LD56A">$D56A</a>	85 BD                    	STA   $BD
<a name="LD56C">$D56C</a>	68                       	PLA
<a name="LD56D">$D56D</a>	85 BE                    	STA   $BE
<a name="LD56F">$D56F</a>	20 E8 00                 	JSR   $00E8                             	Next character.
<a name="LD572">$D572</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD577">$D577</a>                             	End of line.
<a name="LD574">$D574</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".
<a name="LD577">$D577</a>	68                       	PLA                                     	Restore text position.
<a name="LD578">$D578</a>	85 E9                    	STA   $E9
<a name="LD57A">$D57A</a>	68                       	PLA
<a name="LD57B">$D57B</a>	85 EA                    	STA   $EA
<a name="LD57D">$D57D</a>	A0 00                    	LDY   #$00
<a name="LD57F">$D57F</a>	68                       	PLA                                     	This section is used for two
<a name="LD580">$D580</a>	91 BD                    	STA   ($BD),Y                           	purposes. One is to restore
<a name="LD582">$D582</a>	68                       	PLA                                     	the FN descriptor block and
<a name="LD583">$D583</a>	C8                       	INY                                     	the other is to restore a
<a name="LD584">$D584</a>	91 BD                    	STA   ($BD),Y                           	variable value into the work
<a name="LD586">$D586</a>	68                       	PLA                                     	floating point accumulator.
<a name="LD587">$D587</a>	C8                       	INY
<a name="LD588">$D588</a>	91 BD                    	STA   ($BD),Y
<a name="LD58A">$D58A</a>	68                       	PLA
<a name="LD58B">$D58B</a>	C8                       	INY
<a name="LD58C">$D58C</a>	91 BD                    	STA   ($BD),Y
<a name="LD58E">$D58E</a>	68                       	PLA
<a name="LD58F">$D58F</a>	C8                       	INY
<a name="LD590">$D590</a>	91 BD                    	STA   ($BD),Y
<a name="LD592">$D592</a>	60                       	RTS

STR
<a name="LD593">$D593</a>	20 06 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF06">$CF06</a>                             	STR$  Check numeric type.
<a name="LD596">$D596</a>	A0 OO                    	LDY   #$00
<a name="LD598">$D598</a>	20 D7 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0D7">$E0D7</a>                             	Convert to string.
<a name="LD59B">$D59B</a>	68                       	PLA
<a name="LD59C">$D59C</a>	68                       	PLA                                     	Restore return address.
<a name="LD59D">$D59D</a>	A9 FF                    	LDA   #$FF
<a name="LD59F">$D59F</a>	A0 00                    	LDY   #$00                              	Set up string and then exit.
<a name="LD5A1">$D5A1</a>	F0 12                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5B5">$D5B5</a>

SETUPSTRING
<a name="LD5A3">$D5A3</a>	A6 D3                    	LDX   $D3                               	SET UP MEM STRING SLOT &amp; BLOCK
<a name="LD5A5">$D5A5</a>	A4 D4                    	LDY   $D4                               	Copy pointer to string.
<a name="LD5A7">$D5A7</a>	86 BF                    	STX   $BF
<a name="LD5A9">$D5A9</a>	84 C0                    	STY   $C0
<a name="LD5AB">$D5AB</a>	20 1E D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD61E">$D61E</a>                             	Get slot in memory or string.
<a name="LD5AE">$D5AE</a>	86 D1                    	STX   $D1                               	Store data in block, LSB and
<a name="LD5B0">$D5B0</a>	84 D2                    	STY   $D2                               	MSB of pointer to string and
<a name="LD5B2">$D5B2</a>	85 D0                    	STA   $D0                               	then its length.
<a name="LD5B4">$D5B4</a>	60                       	RTS

GETSTRING
<a name="LD5B5">$D5B5</a>	A2 22                    	LDX   #$22                              	GET STRING AFTER "
<a name="LD5B7">$D5B7</a>	86 24                    	STX   $24                               	Set $24 and $25 to ASCII value
<a name="LD5B9">$D5B9</a>	86 25                    	STX   $25                               	of double quote.
<a name="LD5BB">$D5BB</a>	85 DE                    	STA   $DE                               	Set up pointer to start of
<a name="LD5BD">$D5BD</a>	84 DF                    	STY   $DF                               	string.
<a name="LD5BF">$D5BF</a>	85 D1                    	STA   $D1                               	Set up pointer to start of
<a name="LD5C1">$D5C1</a>	84 D2                    	STY   $D2                               	string.
<a name="LD5C3">$D5C3</a>	A0 FF                    	LDY   #$FF                              	Set initial loop value.
<a name="LD5C5">$D5C5</a>	C8                       	INY
<a name="LD5C6">$D5C6</a>	B1 DE                    	LDA   ($DE),Y                           	Loop until null found.
<a name="LD5C8">$D5C8</a>	F0 0C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5D6">$D5D6</a>
<a name="LD5CA">$D5CA</a>	C5 24                    	CMP   $24                               	Or there is a match with
<a name="LD5CC">$D5CC</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5D2">$D5D2</a>                             	content of $24.
<a name="LD5CE">$D5CE</a>	C5 25                    	CMP   $25
<a name="LD5D0">$D5D0</a>	D0 F3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5C5">$D5C5</a>
<a name="LD5D2">$D5D2</a>	C9 22                    	CMP   #$22                              	Set C if terminated by a ".
<a name="LD5D4">$D5D4</a>	F0 01                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5D7">$D5D7</a>
<a name="LD5D6">$D5D6</a>	18                       	CLC
<a name="LD5D7">$D5D7</a>	84 D0                    	STY   $D0                               	Save string length.
<a name="LD5D9">$D5D9</a>	98                       	TYA
<a name="LD5DA">$D5DA</a>	65 DE                    	ADC   $DE                               	Calculate end address of
<a name="LD5DC">$D5DC</a>	85 E0                    	STA   $E0                               	string in $E0/$E1.
<a name="LD5DE">$D5DE</a>	A6 DF                    	LDX   $DF
<a name="LD5E0">$D5E0</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5E3">$D5E3</a>
<a name="LD5E2">$D5E2</a>	E8                       	INX
<a name="LD5E3">$D5E3</a>	86 E1                    	STX   $E1
<a name="LD5E5">$D5E5</a>	A5 DF                    	LDA   $DF                               	If string is not in page 0
<a name="LD5E7">$D5E7</a>	D0 0B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5F4">$D5F4</a>                             	then push block on stack.
<a name="LD5E9">$D5E9</a>	98                       	TYA
<a name="LD5EA">$D5EA</a>	20 A3 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5A3">$D5A3</a>                             	Set up new slot and block.
<a name="LD5ED">$D5ED</a>	A6 DE                    	LDX   $DE                               	Get start of string.
<a name="LD5EF">$D5EF</a>	A4 DF                    	LDY   $DF
<a name="LD5F1">$D5F1</a>	20 B2 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7B2">$D7B2</a>                             	Transfer string to new slot.
<a name="LD5F4">$D5F4</a>	A6 85                    	LDX   $85                               	Routine to push string block
<a name="LD5F6">$D5F6</a>	E0 91                    	CPX   #$91                              	on string stack.
<a name="LD5F8">$D5F8</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5FF">$D5FF</a>
<a name="LD5FA">$D5FA</a>	A2 C4                    	LDX   #$C4                              	If stack full then print
<a name="LD5FC">$D5FC</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	"FORMULA TOO COMPLEX".
<a name="LD5FF">$D5FF</a>	A5 D0                    	LDA   $D0                               	Transfer string block on to
<a name="LD601">$D601</a>	95 00                    	STA   $00,X                             	string stack (between $88 and
<a name="LD603">$D603</a>	A5 D1                    	LDA   $D1                               	$90 inclusive).
<a name="LD605">$D605</a>	95 01                    	STA   $01,X
<a name="LD607">$D607</a>	A5 D2                    	LDA   $D2
<a name="LD609">$D609</a>	95 02                    	STA   $02,X
<a name="LD60B">$D60B</a>	A0 OO                    	LDY   #$00
<a name="LD60D">$D60D</a>	86 D3                    	STX   $D3                               	Set $D3/$D4 to point to it.
<a name="LD60F">$D60F</a>	84 D4                    	STY   $D4
<a name="LD611">$D611</a>	84 DF                    	STY   $DF                               	Clear rounding byte.
<a name="LD613">$D613</a>	88                       	DEY
<a name="LD614">$D614</a>	84 28                    	STY   $28                               	Set string type flag.
<a name="LD616">$D616</a>	86 86                    	STX   $86                               	Set address of string block.
<a name="LD618">$D618</a>	E8                       	INX                                     	Set string stack pointer to
<a name="LD619">$D619</a>	E8                       	INX                                     	next available space.
<a name="LD61A">$D61A</a>	E8                       	INX
<a name="LD61B">$D61B</a>	86 85                    	STX   $85                               	Save string stack pointer.
<a name="LD61D">$D61D</a>	60                       	RTS
<a name="LD61E">$D61E</a>	46 2A                    	LSR   $2A                               	Routine to get slot for string
<a name="LD620">$D620</a>	48                       	PHA
<a name="LD621">$D621</a>	49 FF                    	EOR   #$FF
<a name="LD623">$D623</a>	38                       	SEC                                     	Set A, Y to bottom of string
<a name="LD624">$D624</a>	65 A2                    	ADC   $A2                               	area - length of string.
<a name="LD626">$D626</a>	A4 A3                    	LDY   $A3
<a name="LD628">$D628</a>	B0 01                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD62B">$D62B</a>
<a name="LD62A">$D62A</a>	88                       	DEY
<a name="LD62B">$D62B</a>	C4 A1                    	CPY   $A1
<a name="LD62D">$D62D</a>	90 11                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD640">$D640</a>                             	Attempt garbage collection if
<a name="LD62F">$D62F</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD635">$D635</a>                             	start of string would be below
<a name="LD631">$D631</a>	C5 A0                    	CMP   $A0                               	end of Arrays.
<a name="LD633">$D633</a>	90 0B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD640">$D640</a>
<a name="LD635">$D635</a>	85 A2                    	STA   $A2                               	Set new bottom of strings
<a name="LD637">$D637</a>	84 A3                    	STY   $A3                               	pointer.
<a name="LD639">$D639</a>	85 A4                    	STA   $A4                               	Set address for string to be
<a name="LD63B">$D63B</a>	84 A5                    	STY   $A5                               	inserted.
<a name="LD63D">$D63D</a>	AA                       	TAX                                     	Save LSB of address in X.
<a name="LD63E">$D63E</a>	68                       	PLA                                     	Restore string length.
<a name="LD63F">$D63F</a>	60                       	RTS
<a name="LD640">$D640</a>	A2 4D                    	LDX   #$4D                              	Prepare error message pointer.
<a name="LD642">$D642</a>	A5 2A                    	LDA   $2A                               	Print "OUT OF MEMORY ERROR" if
<a name="LD644">$D644</a>	30 B6                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5FC">$D5FC</a>                             	garbage collection already tried.
<a name="LD646">$D646</a>	20 50 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD650">$D650</a>                             	Garbage collection.
<a name="LD649">$D649</a>	A9 80                    	LDA   #$80                              	Set flag to indicate garbage
<a name="LD64B">$D64B</a>	85 2A                    	STA   $2A                               	collection has been done.
<a name="LD64D">$D64D</a>	68                       	PLA
<a name="LD64E">$D64E</a>	D0 D0                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD620">$D620</a>                             	Try again.

GARBAGECOLLECT
<a name="LD650">$D650</a>	A6 A6                    	LDX   $A6                               	GARBAGE COLLECTION
<a name="LD652">$D652</a>	A5 A7                    	LDA   $A7                               	Update last string allocated,
<a name="LD654">$D654</a>	86 A2                    	STX   $A2                               	initially set to HIMEM.
<a name="LD656">$D656</a>	85 A3                    	STA   $A3
<a name="LD658">$D658</a>	A0 00                    	LDY   #$00                              	Clear pointer.
<a name="LD65A">$D65A</a>	84 BE                    	STY   $BE
<a name="LD65C">$D65C</a>	84 BD                    	STY   $BD
<a name="LD65E">$D65E</a>	A5 A0                    	LDA   $A0                               	Copy end of Arrays pointer.
<a name="LD660">$D660</a>	A6 A1                    	LDX   $A1
<a name="LD662">$D662</a>	85 CE                    	STA   $CE
<a name="LD664">$D664</a>	86 CF                    	STX   $CF
<a name="LD666">$D666</a>	A9 88                    	LDA   #$88
<a name="LD668">$D668</a>	A2 00                    	LDX   #$00
<a name="LD66A">$D66A</a>	85 91                    	STA   $91                               	Pointer set to string stack
<a name="LD66C">$D66C</a>	86 92                    	STX   $92                               	base.
<a name="LD66E">$D66E</a>	C5 85                    	CMP   $85                               	Set $91,$92 to point to non -
<a name="LD670">$D670</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD677">$D677</a>                             	collected string at top of
<a name="LD672">$D672</a>	20 F1 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6F1">$D6F1</a>                             	stack.
<a name="LD675">$D675</a>	F0 F7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD66E">$D66E</a>                             	Branch always.
<a name="LD677">$D677</a>	A9 07                    	LDA   #$07                              	Set string variable size.
<a name="LD679">$D679</a>	85 C2                    	STA   $C2
<a name="LD67B">$D67B</a>	A5 9C                    	LDA   $9C                               	Copy End Basic and set current
<a name="LD67D">$D67D</a>	A6 9D                    	LDX   $9D                               	variable position in A,X.
<a name="LD67F">$D67F</a>	85 91                    	STA   $91
<a name="LD681">$D681</a>	86 92                    	STX   $92
<a name="LD683">$D683</a>	E4 9F                    	CPX   $9F                               	Compare end variable with
<a name="LD685">$D685</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD68B">$D68B</a>                             	current variable position.
<a name="LD687">$D687</a>	C5 9E                    	CMP   $9E
<a name="LD689">$D689</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD690">$D690</a>                             	Pointers are equal.
<a name="LD68B">$D68B</a>	20 E7 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6E7">$D6E7</a>                             	Set string pointer to next non
<a name="LD68E">$D68E</a>	F0 F3                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD683">$D683</a>                             	collected variable
<a name="LD690">$D690</a>	85 C7                    	STA   $C7                               	Set current variable position.
<a name="LD692">$D692</a>	86 C8                    	STX   $C8
<a name="LD694">$D694</a>	A9 03                    	LDA   #$03                              	Set element size for string
<a name="LD696">$D696</a>	85 C2                    	STA   $C2                               	arrays.
<a name="LD698">$D698</a>	A5 C7                    	LDA   $C7                               	Compare end of Arrays with
<a name="LD69A">$D69A</a>	A6 C8                    	LDX   $C8                               	current pointer.
<a name="LD69C">$D69C</a>	E4 A1                    	CPX   $A1
<a name="LD69E">$D69E</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6A7">$D6A7</a>
<a name="LD6A0">$D6A0</a>	C5 A0                    	CMP   $A0
<a name="LD6A2">$D6A2</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6A7">$D6A7</a>
<a name="LD6A4">$D6A4</a>	4C 30 D7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD730">$D730</a>
<a name="LD6A7">$D6A7</a>	85 91                    	STA   $91                               	Save pointer and find next
<a name="LD6A9">$D6A9</a>	86 92                    	STX   $92                               	array.
<a name="LD6AB">$D6AB</a>	A0 00                    	LDY   #$00
<a name="LD6AD">$D6AD</a>	B1 91                    	LDA   ($91),Y                           	Skip through array header
<a name="LD6AF">$D6AF</a>	AA                       	TAX                                     	saving array type on the way.
<a name="LD6B0">$D6B0</a>	C8                       	INY
<a name="LD6B1">$D6B1</a>	B1 91                    	LDA   ($91),Y
<a name="LD6B3">$D6B3</a>	08                       	PHP
<a name="LD6B4">$D6B4</a>	C8                       	INY
<a name="LD6B5">$D6B5</a>	B1 91                    	LDA   ($91),Y                           	Add LSB of offset in array
<a name="LD6B7">$D6B7</a>	65 C7                    	ADC   $C7                               	header to point to next one.
<a name="LD6B9">$D6B9</a>	85 C7                    	STA   $C7
<a name="LD6BB">$D6BB</a>	C8                       	INY
<a name="LD6BC">$D6BC</a>	B1 91                    	LDA   ($91),Y                           	Add MSB of offset in array
<a name="LD6BE">$D6BE</a>	65 C8                    	ADC   $C8                               	header to point to next one.
<a name="LD6C0">$D6C0</a>	85 C8                    	STA   $C8
<a name="LD6C2">$D6C2</a>	28                       	PLP
<a name="LD6C3">$D6C3</a>	10 D3                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD698">$D698</a>                             	Test bit 7 of each of the
<a name="LD6C5">$D6C5</a>	8A                       	TXA                                     	array name letters and branch
<a name="LD6C6">$D6C6</a>	30 D0                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD698">$D698</a>                             	back if array is not string
<a name="LD6C8">$D6C8</a>	C8                       	INY                                     	type.
<a name="LD6C9">$D6C9</a>	B1 91                    	LDA   ($91),Y
<a name="LD6CB">$D6CB</a>	A0 00                    	LDY   #$00                              	Advance the pointer beyond
<a name="LD6CD">$D6CD</a>	0A                       	ASL                                     	the array header and
<a name="LD6CE">$D6CE</a>	69 05                    	ADC   #$05                              	dimension specifiers to the
<a name="LD6D0">$D6D0</a>	65 91                    	ADC   $91                               	first string array element.
<a name="LD6D2">$D6D2</a>	85 91                    	STA   $91
<a name="LD6D4">$D6D4</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6D8">$D6D8</a>
<a name="LD6D6">$D6D6</a>	E6 92                    	INC   $92
<a name="LD6D8">$D6D8</a>	A6 92                    	LDX   $92
<a name="LD6DA">$D6DA</a>	E4 C8                    	CPX   $C8                               	Go through the elements of the
<a name="LD6DC">$D6DC</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6E2">$D6E2</a>                             	array until top one found.
<a name="LD6DE">$D6DE</a>	C5 C7                    	CMP   $C7
<a name="LD6E0">$D6E0</a>	F0 BA                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD69C">$D69C</a>
<a name="LD6E2">$D6E2</a>	20 F1 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6F1">$D6F1</a>
<a name="LD6E5">$D6E5</a>	F0 F3                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD6DA">$D6DA</a>                             	Branch always.
<a name="LD6E7">$D6E7</a>	B1 91                    	LDA   ($91),Y                           	Test if variable is a string.
<a name="LD6E9">$D6E9</a>	30 35                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>                             	If it is then test whether it
<a name="LD6EB">$D6EB</a>	C8                       	INY                                     	has been collected or not.
<a name="LD6EC">$D6EC</a>	B1 91                    	LDA   ($91),Y
<a name="LD6EE">$D6EE</a>	10 30                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>
<a name="LD6F0">$D6F0</a>	C8                       	INY
<a name="LD6F1">$D6F1</a>	B1 91                    	LDA   ($91),Y
<a name="LD6F3">$D6F3</a>	F0 2B                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>                             	String is null.
<a name="LD6F5">$D6F5</a>	C8                       	INY
<a name="LD6F6">$D6F6</a>	B1 91                    	LDA   ($91),Y
<a name="LD6F8">$D6F8</a>	AA                       	TAX
<a name="LD6F9">$D6F9</a>	C8                       	INY
<a name="LD6FA">$D6FA</a>	B1 91                    	LDA   ($91),Y                           	Branch if string address is
<a name="LD6FC">$D6FC</a>	C5 A3                    	CMP   $A3                               	above current bottom of
<a name="LD6FE">$D6FE</a>	90 06                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD706">$D706</a>                             	strings pointer. Test MSB
<a name="LD700">$D700</a>	D0 1E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>                             	first and then LSB if the MSBs
<a name="LD702">$D702</a>	E4 A2                    	CPX   $A2                               	are equal.
<a name="LD704">$D704</a>	B0 1A                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>
<a name="LD706">$D706</a>	C5 CF                    	CMP   $CF                               	Branch if string address is
<a name="LD708">$D708</a>	90 16                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>                             	below end of arrays, i.e. it
<a name="LD70A">$D70A</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD710">$D710</a>                             	is a string constant in a
<a name="LD70C">$D70C</a>	E4 CE                    	CPX   $CE                               	program.
<a name="LD70E">$D70E</a>	90 10                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD720">$D720</a>
<a name="LD710">$D710</a>	86 CE                    	STX   $CE                               	Save pointer to string ready
<a name="LD712">$D712</a>	85 CF                    	STA   $CF                               	for transfer.
<a name="LD714">$D714</a>	A5 91                    	LDA   $91                               	Save current string pointer.
<a name="LD716">$D716</a>	A6 92                    	LDX   $92
<a name="LD718">$D718</a>	85 BD                    	STA   $BD
<a name="LD71A">$D71A</a>	86 BE                    	STX   $BE
<a name="LD71C">$D71C</a>	A5 C2                    	LDA   $C2                               	Copy string block size.
<a name="LD71E">$D71E</a>	85 C4                    	STA   $C4
<a name="LD720">$D720</a>	A5 C2                    	LDA   $C2                               	Set $91,$92 to point to next
<a name="LD722">$D722</a>	18                       	CLC                                     	variable.
<a name="LD723">$D723</a>	65 91                    	ADC   $91
<a name="LD725">$D725</a>	85 91                    	STA   $91
<a name="LD727">$D727</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD72B">$D72B</a>
<a name="LD729">$D729</a>	E6 92                    	INC   $92
<a name="LD72B">$D72B</a>	A6 92                    	LDX   $92
<a name="LD72D">$D72D</a>	A0 00                    	LDY   #$00                              	Set Z and return with A,X
<a name="LD72F">$D72F</a>	60                       	RTS                                     	holding current position.

COPYSTRING
<a name="LD730">$D730</a>	A5 BE                    	LDA   $BE                               	COPY ACROSS STRING
<a name="LD732">$D732</a>	05 BD                    	ORA   $BD
<a name="LD734">$D734</a>	F0 F5                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD72B">$D72B</a>
<a name="LD736">$D736</a>	A5 C4                    	LDA   $C4
<a name="LD738">$D738</a>	29 04                    	AND   #$04
<a name="LD73A">$D73A</a>	4A                       	LSR
<a name="LD73B">$D73B</a>	A8                       	TAY
<a name="LD73C">$D73C</a>	85 C4                    	STA   $C4                               	Calculate end address of the
<a name="LD73E">$D73E</a>	B1 BD                    	LDA   ($BD),Y                           	string and set pointers for
<a name="LD740">$D740</a>	65 CE                    	ADC   $CE                               	block transfer.
<a name="LD742">$D742</a>	85 C9                    	STA   $C9
<a name="LD744">$D744</a>	A5 CF                    	LDA   $CF                               	$CE,$CF - start of data.
<a name="LD746">$D746</a>	69 00                    	ADC   #$00                              	$C9,$CA - end of data.
<a name="LD748">$D748</a>	85 CA                    	STA   $CA                               	$C7,$C8 - new end of data.
<a name="LD74A">$D74A</a>	A5 A2                    	LDA   $A2
<a name="LD74C">$D74C</a>	A6 A3                    	LDX   $A3
<a name="LD74E">$D74E</a>	85 C7                    	STA   $C7
<a name="LD750">$D750</a>	86 C8                    	STX   $C8
<a name="LD752">$D752</a>	20 FB C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3FB">$C3FB</a>                             	Block transfer to copy across
<a name="LD755">$D755</a>	A4 C4                    	LDY   $C4                               	string.
<a name="LD757">$D757</a>	C8                       	INY
<a name="LD758">$D758</a>	A5 C7                    	LDA   $C7
<a name="LD75A">$D75A</a>	91 BD                    	STA   ($BD),Y
<a name="LD75C">$D75C</a>	AA                       	TAX                                     	Transfer pointer into
<a name="LD75D">$D75D</a>	E6 C8                    	INC   $C8                               	memory.
<a name="LD75F">$D75F</a>	A5 C8                    	LDA   $C8
<a name="LD761">$D761</a>	C8                       	INY
<a name="LD762">$D762</a>	91 BD                    	STA   ($BD),Y
<a name="LD764">$D764</a>	4C 54 D6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD654">$D654</a>

STRCAT
<a name="LD767">$D767</a>	A5 D4                    	LDA   $D4                               	STRING CONCATENATI ON
<a name="LD769">$D769</a>	48                       	PHA
<a name="LD76A">$D76A</a>	A5 D3                    	LDA   $D3                               	Save pointer to string.
<a name="LD76C">$D76C</a>	48                       	PHA
<a name="LD76D">$D76D</a>	20 00 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD000">$D000</a>                             	Get item.
<a name="LD770">$D770</a>	20 08 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF08">$CF08</a>                             	Check it is string type.
<a name="LD773">$D773</a>	68                       	PLA
<a name="LD774">$D774</a>	85 DE                    	STA   $DE                               	Restore pointer to first
<a name="LD776">$D776</a>	68                       	PLA                                     	string.
<a name="LD777">$D777</a>	85 DF                    	STA   $DF
<a name="LD779">$D779</a>	A0 00                    	LDY   #$00
<a name="LD77B">$D77B</a>	B1 DE                    	LDA   ($DE),Y                           	Add string lengths.
<a name="LD77D">$D77D</a>	18                       	CLC
<a name="LD77E">$D77E</a>	71 D3                    	ADC   ($D3),Y
<a name="LD780">$D780</a>	90 05                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD787">$D787</a>
<a name="LD782">$D782</a>	A2 B5                    	LDX   #$B5                              	Give error if strings are too
<a name="LD784">$D784</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	long.
<a name="LD787">$D787</a>	20 A3 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5A3">$D5A3</a>                             	Set up slot for new string.
<a name="LD78A">$D78A</a>	20 A4 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7A4">$D7A4</a>                             	Transfer first string into
<a name="LD78D">$D78D</a>	A5 BF                    	LDA   $BF                               	slot.
<a name="LD78F">$D78F</a>	A4 C0                    	LDY   $C0
<a name="LD791">$D791</a>	20 D4 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D4">$D7D4</a>                             	Set up string, releasing if
<a name="LD794">$D794</a>	20 B6 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7B6">$D7B6</a>                             	necessary and transfer.
<a name="LD797">$D797</a>	A5 DE                    	LDA   $DE
<a name="LD799">$D799</a>	A4 DF                    	LDY   $DF
<a name="LD79B">$D79B</a>	20 D4 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D4">$D7D4</a>                             	Set up string, releasing if
<a name="LD79E">$D79E</a>	20 F4 D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5F4">$D5F4</a>                             	necessary &amp; push string block
<a name="LD7A1">$D7A1</a>	4C 31 CF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF31">$CF31</a>                             	on stack. Go back for more.
<a name="LD7A4">$D7A4</a>	A0 00                    	LDY   #$00                              	This routine transfers the
<a name="LD7A6">$D7A6</a>	B1 DE                    	LDA   ($DE),Y                           	block pointed to by $DE into
<a name="LD7A8">$D7A8</a>	48                       	PHA                                     	slot.
<a name="LD7A9">$D7A9</a>	C8                       	INY
<a name="LD7AA">$D7AA</a>	B1 DE                    	LDA   ($DE),Y
<a name="LD7AC">$D7AC</a>	AA                       	TAX                                     	X holds LSB and Y holds MSB of
<a name="LD7AD">$D7AD</a>	C8                       	INY                                     	pointer.
<a name="LD7AE">$D7AE</a>	B1 DE                    	LDA   ($DE),Y
<a name="LD7B0">$D7B0</a>	A8                       	TAY
<a name="LD7B1">$D7B1</a>	68                       	PLA                                     	Restore length.
<a name="LD7B2">$D7B2</a>	86 91                    	STX   $91                               	Set up pointer to string.
<a name="LD7B4">$D7B4</a>	84 92                    	STY   $92
<a name="LD7B6">$D7B6</a>	A8                       	TAY                                     	Y holds length and skip
<a name="LD7B7">$D7B7</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7C3">$D7C3</a>                             	transfer if null.
<a name="LD7B9">$D7B9</a>	48                       	PHA
<a name="LD7BA">$D7BA</a>	88                       	DEY
<a name="LD7BB">$D7BB</a>	B1 91                    	LDA   ($91),Y                           	Transfer the characters of the
<a name="LD7BD">$D7BD</a>	91 A4                    	STA   ($A4),Y                           	string.
<a name="LD7BF">$D7BF</a>	98                       	TYA
<a name="LD7C0">$D7C0</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7BA">$D7BA</a>
<a name="LD7C2">$D7C2</a>	68                       	PLA                                     	restore length.
<a name="LD7C3">$D7C3</a>	18                       	CLC
<a name="LD7C4">$D7C4</a>	65 A4                    	ADC   $A4
<a name="LD7C6">$D7C6</a>	85 A4                    	STA   $A4                               	Add length to content of $A4,
<a name="LD7C8">$D7C8</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7CC">$D7CC</a>                             	$A5 ready for next string.
<a name="LD7CA">$D7CA</a>	E6 A5                    	INC   $A5
<a name="LD7CC">$D7CC</a>	60                       	RTS
<a name="LD7CD">$D7CD</a>	20 08 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF08">$CF08</a>                             	Check string type.
<a name="LD7D0">$D7D0</a>	A5 D3                    	LDA   $D3
<a name="LD7D2">$D7D2</a>	A4 D4                    	LDY   $D4                               	Set pointer to string block.
<a name="LD7D4">$D7D4</a>	85 91                    	STA   $91
<a name="LD7D6">$D7D6</a>	84 92                    	STY   $92
<a name="LD7D8">$D7D8</a>	20 05 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD805">$D805</a>                             	Release string stack.
<a name="LD7DB">$D7DB</a>	08                       	PHP
<a name="LD7DC">$D7DC</a>	A0 00                    	LDY   #$00
<a name="LD7DE">$D7DE</a>	B1 91                    	LDA   ($91),Y                           	Save length.
<a name="LD7E0">$D7E0</a>	48                       	PHA
<a name="LD7E1">$D7E1</a>	C8                       	INY
<a name="LD7E2">$D7E2</a>	B1 91                    	LDA   ($91),Y                           	Get LSB of pointer into X.
<a name="LD7E4">$D7E4</a>	AA                       	TAX
<a name="LD7E5">$D7E5</a>	C8                       	INY
<a name="LD7E6">$D7E6</a>	B1 91                    	LDA   ($91),Y                           	Get MSB of pointer into Y.
<a name="LD7E8">$D7E8</a>	A8                       	TAY
<a name="LD7E9">$D7E9</a>	68                       	PLA
<a name="LD7EA">$D7EA</a>	28                       	PLP                                     	If not from string stack then
<a name="LD7EB">$D7EB</a>	D0 13                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD800">$D800</a>                             	set pointer and exit.
<a name="LD7ED">$D7ED</a>	C4 A3                    	CPY   $A3                               	If not bottom of strings then
<a name="LD7EF">$D7EF</a>	D0 0F                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD800">$D800</a>                             	set pointer and exit.
<a name="LD7F1">$D7F1</a>	E4 A2                    	CPX   $A2
<a name="LD7F3">$D7F3</a>	D0 0B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD800">$D800</a>
<a name="LD7F5">$D7F5</a>	48                       	PHA                                     	Save length.
<a name="LD7F6">$D7F6</a>	18                       	CLC
<a name="LD7F7">$D7F7</a>	65 A2                    	ADC   $A2                               	Move up bottom of strings to
<a name="LD7F9">$D7F9</a>	85 A2                    	STA   $A2                               	remove temporary string.
<a name="LD7FB">$D7FB</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7FF">$D7FF</a>
<a name="LD7FD">$D7FD</a>	E6 A3                    	INC   $A3
<a name="LD7FF">$D7FF</a>	68                       	PLA                                     	Restore length.
<a name="LD800">$D800</a>	86 91                    	STX   $91                               	Set pointer to string and
<a name="LD802">$D802</a>	84 92                    	STY   $92                               	exit.
<a name="LD804">$D804</a>	60                       	RTS
<a name="LD805">$D805</a>	C4 87                    	CPY   $87                               	Release string stack item if
<a name="LD807">$D807</a>	D0 0C                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD815">$D815</a>                             	necessary.
<a name="LD809">$D809</a>	C5 86                    	CMP   $86
<a name="LD80B">$D80B</a>	D0 08                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD815">$D815</a>
<a name="LD80D">$D80D</a>	85 85                    	STA   $85
<a name="LD80F">$D80F</a>	E9 03                    	SBC   #$03
<a name="LD811">$D811</a>	85 86                    	STA   $86
<a name="LD813">$D813</a>	A0 00                    	LDY   #$00                              	Z set if released, clear if
<a name="LD815">$D815</a>	60                       	RTS                                     	not.

CHR
<a name="LD816">$D816</a>	20 CB D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8CB">$D8CB</a>                             	CHR$  Get single byte numeric
<a name="LD819">$D819</a>	8A                       	TXA                                     	expression, save it on stack.
<a name="LD81A">$D81A</a>	48                       	PHA
<a name="LD81B">$D81B</a>	A9 01                    	LDA   #$01
<a name="LD81D">$D81D</a>	20 AB D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5AB">$D5AB</a>                             	Get slot for string &amp; save
<a name="LD820">$D820</a>	68                       	PLA                                     	pointer. Restore expression.
<a name="LD821">$D821</a>	A0 00                    	LDY   #$00
<a name="LD823">$D823</a>	91 D1                    	STA   ($D1),Y                           	Save expression in memory.
<a name="LD825">$D825</a>	68                       	PLA                                     	Remove address of calling
<a name="LD826">$D826</a>	68                       	PLA                                     	routine.
<a name="LD827">$D827</a>	4C F4 D5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5F4">$D5F4</a>                             	Push string block on stack.

LEFT
<a name="LD82A">$D82A</a>	20 8B D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD88B">$D88B</a>                             	LEFT$  Set up argument.
<a name="LD82D">$D82D</a>	D1 BF                    	CMP   ($BF),Y
<a name="LD82F">$D82F</a>	98                       	TYA                                     	Clear A. If length of string
<a name="LD830">$D830</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD836">$D836</a>                             	is less than slice size then
<a name="LD832">$D832</a>	B1 BF                    	LDA   ($BF),Y                           	set slice size to string
<a name="LD834">$D834</a>	AA                       	TAX                                     	length.
<a name="LD835">$D835</a>	98                       	TYA                                     	Save value to be added to
<a name="LD836">$D836</a>	48                       	PHA                                     	string pointer after setting
<a name="LD837">$D837</a>	8A                       	TXA                                     	up string.
<a name="LD838">$D838</a>	48                       	PHA
<a name="LD839">$D839</a>	20 AB D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5AB">$D5AB</a>                             	Get slot for string and save
<a name="LD83C">$D83C</a>	A5 BF                    	LDA   $BF                               	block.
<a name="LD83E">$D83E</a>	A4 C0                    	LDY   $C0                               	Set A, Y
<a name="LD840">$D840</a>	20 D4 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D4">$D7D4</a>                             	Set up string, releasing if
<a name="LD843">$D843</a>	68                       	PLA                                     	necessary.
<a name="LD844">$D844</a>	A8                       	TAY
<a name="LD845">$D845</a>	68                       	PLA
<a name="LD846">$D846</a>	18                       	CLC
<a name="LD847">$D847</a>	65 91                    	ADC   $91                               	Add to the string pointer the
<a name="LD849">$D849</a>	85 91                    	STA   $91                               	size of new string.
<a name="LD84B">$D84B</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD84F">$D84F</a>
<a name="LD84D">$D84D</a>	E6 92                    	INC   $92
<a name="LD84F">$D84F</a>	98                       	TYA
<a name="LD850">$D850</a>	20 B6 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7B6">$D7B6</a>                             	Transfer string ptr to $A4,$A5
<a name="LD853">$D853</a>	4C F4 D5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5F4">$D5F4</a>                             	Push $ block on $ stack.

RIGHT
<a name="LD856">$D856</a>	20 8B D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD88B">$D88B</a>                             	RIGHT$
<a name="LD859">$D859</a>	18                       	CLC                                     	Subtract the slice size from
<a name="LD85A">$D85A</a>	F1 BF                    	SBC   ($BF),Y                           	the length of the string.
<a name="LD85C">$D85C</a>	49 FF                    	EOR   #$FF
<a name="LD85E">$D85E</a>	4C 30 D8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD830">$D830</a>                             	Rest is same as LEFT$.

MID
<a name="LD861">$D861</a>	A9 FF                    	LDA   #$FF                              	MID$
<a name="LD863">$D863</a>	85 D4                    	STA   $D4
<a name="LD865">$D865</a>	20 E8 00                 	JSR   $00E8                             	Get next char.
<a name="LD868">$D868</a>	C9 29                    	CMP   #$29
<a name="LD86A">$D86A</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD872">$D872</a>                             	Found a ")".
<a name="LD86C">$D86C</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test for comma.
<a name="LD86F">$D86F</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	Get 1 byte numeric expression.
<a name="LD872">$D872</a>	20 8B D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD88B">$D88B</a>                             	Set up arguments.
<a name="LD875">$D875</a>	F0 4B                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	Error in value.
<a name="LD877">$D877</a>	CA                       	DEX
<a name="LD878">$D878</a>	8A                       	TXA
<a name="LD879">$D879</a>	48                       	PHA
<a name="LD87A">$D87A</a>	18                       	CLC
<a name="LD87B">$D87B</a>	A2 00                    	LDX   #$00                              	Chop the string as in RIGHT$
<a name="LD87D">$D87D</a>	F1 BF                    	SBC   ($BF),Y                           	and then branch to LEFT$
<a name="LD87F">$D87F</a>	B0 B6                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD837">$D837</a>                             	routine to chop the left side
<a name="LD881">$D881</a>	49 FF                    	EOR   #$FF                              	of the string.
<a name="LD883">$D883</a>	C5 D4                    	CMP   $D4
<a name="LD885">$D885</a>	90 B1                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD838">$D838</a>
<a name="LD887">$D887</a>	A5 D4                    	LDA   $D4
<a name="LD889">$D889</a>	B0 AD                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD838">$D838</a>                             	Rest same as LEFT$.
<a name="LD88B">$D88B</a>	20 5F D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD05F">$D05F</a>                             	Check for "(".
<a name="LD88E">$D88E</a>	68                       	PLA                                     	Save call address.
<a name="LD88F">$D88F</a>	A8                       	TAY
<a name="LD890">$D890</a>	68                       	PLA
<a name="LD891">$D891</a>	85 C4                    	STA   $C4
<a name="LD893">$D893</a>	68                       	PLA                                     	Remove call address from
<a name="LD894">$D894</a>	68                       	PLA                                     	expression evaluator.
<a name="LD895">$D895</a>	68                       	PLA                                     	Put magnitude of string slice
<a name="LD896">$D896</a>	AA                       	TAX                                     	into X.
<a name="LD897">$D897</a>	68                       	PLA                                     	Pull and store pointer to
<a name="LD898">$D898</a>	85 BF                    	STA   $BF                               	string.
<a name="LD89A">$D89A</a>	68                       	PLA
<a name="LD89B">$D89B</a>	85 C0                    	STA   $C0
<a name="LD89D">$D89D</a>	A5 C4                    	LDA   $C4                               	Restore call address.
<a name="LD89F">$D89F</a>	48                       	PHA
<a name="LD8A0">$D8A0</a>	98                       	TYA
<a name="LD8A1">$D8A1</a>	48                       	PHA
<a name="LD8A2">$D8A2</a>	A0 00                    	LDY   #$00                              	Clear Y.
<a name="LD8A4">$D8A4</a>	8A                       	TXA                                     	Set status register to size
<a name="LD8A5">$D8A5</a>	60                       	RTS                                     	of string slice.

LEN
<a name="LD8A6">$D8A6</a>	20 AC D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8AC">$D8AC</a>                             	LEN  Do check and convert
<a name="LD8A9">$D8A9</a>	4C B6 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4B6">$D4B6</a>                             	length to floating point no.
<a name="LD8AC">$D8AC</a>	20 CD D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7CD">$D7CD</a>                             	Check string type.
<a name="LD8AF">$D8AF</a>	A2 00                    	LDX   #$00                              	Clear string flag.
<a name="LD8B1">$D8B1</a>	86 28                    	STX   $28
<a name="LD8B3">$D8B3</a>	A8                       	TAY
<a name="LD8B4">$D8B4</a>	60                       	RTS

ASC
<a name="LD8B5">$D8B5</a>	20 AC D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8AC">$D8AC</a>                             	ASC  Get string.
<a name="LD8B8">$D8B8</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	Error if empty.
<a name="LD8BA">$D8BA</a>	A0 00                    	LDY   #$00
<a name="LD8BC">$D8BC</a>	B1 91                    	LDA   ($91),Y                           	Get first character of string.
<a name="LD8BE">$D8BE</a>	A8                       	TAY                                     	Put into Y.
<a name="LD8BF">$D8BF</a>	4C B6 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4B6">$D4B6</a>                             	Convert code to FPA and exit.
<a name="LD8C2">$D8C2</a>	4C 36 D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD336">$D336</a>                             	Print "ILLEGAL QUANTITY ERROR"

GETBYTEEXPR
<a name="LD8C5">$D8C5</a>	20 E2 00                 	JSR   $00E2                             	GET SINGLE BYTE EXPRESSION
<a name="LD8C8">$D8C8</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Get next char and evaluate
<a name="LD8CB">$D8CB</a>	20 A2 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2A2">$D2A2</a>                             	expression, convert to +ve
<a name="LD8CE">$D8CE</a>	A6 D3                    	LDX   $D3                               	integer.
<a name="LD8D0">$D8D0</a>	D0 F0                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	Error if too large.
<a name="LD8D2">$D8D2</a>	A6 D4                    	LDX   $D4                               	Exit with byte in X.
<a name="LD8D4">$D8D4</a>	4C E8 00                 	JMP   $00E8
<a name="LD8D7">$D8D7</a>	20 AC D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8AC">$D8AC</a>                             	VAL Set up string.
<a name="LD8DA">$D8DA</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8DF">$D8DF</a>
<a name="LD8DC">$D8DC</a>	4C B2 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBB2">$DBB2</a>                             	If empty then use 0.
<a name="LD8DF">$D8DF</a>	A6 E9                    	LDX   $E9
<a name="LD8E1">$D8E1</a>	A4 EA                    	LDY   $EA
<a name="LD8E3">$D8E3</a>	86 E0                    	STX   $E0                               	Copy text pointer.
<a name="LD8E5">$D8E5</a>	84 E1                    	STY   $E1
<a name="LD8E7">$D8E7</a>	A6 91                    	LDX   $91                               	Copy content of $91,$92 into
<a name="LD8E9">$D8E9</a>	86 E9                    	STX   $E9                               	$E9,$EA.
<a name="LD8EB">$D8EB</a>	18                       	CLC
<a name="LD8EC">$D8EC</a>	65 91                    	ADC   $91                               	Add A to $91,$92 and place
<a name="LD8EE">$D8EE</a>	85 93                    	STA   $93                               	result in $93,$94.
<a name="LD8F0">$D8F0</a>	A6 92                    	LDX   $92
<a name="LD8F2">$D8F2</a>	86 EA                    	STX   $EA
<a name="LD8F4">$D8F4</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8F7">$D8F7</a>
<a name="LD8F6">$D8F6</a>	E8                       	INX
<a name="LD8F7">$D8F7</a>	86 94                    	STX   $94
<a name="LD8F9">$D8F9</a>	A0 00                    	LDY   #$00
<a name="LD8FB">$D8FB</a>	B1 93                    	LDA   ($93),Y                           	Get character from string.
<a name="LD8FD">$D8FD</a>	48                       	PHA
<a name="LD8FE">$D8FE</a>	A9 00                    	LDA   #$00
<a name="LD900">$D900</a>	91 93                    	STA   ($93),Y
<a name="LD902">$D902</a>	20 E8 00                 	JSR   $00E8                             	Get next char.
<a name="LD905">$D905</a>	20 E7 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFE7">$DFE7</a>                             	Get number.
<a name="LD908">$D908</a>	68                       	PLA
<a name="LD909">$D909</a>	A0 00                    	LDY   #$00
<a name="LD90B">$D90B</a>	91 93                    	STA   ($93),Y
<a name="LD90D">$D90D</a>	A6 E0                    	LDX   $E0                               	Restore text pointer.
<a name="LD90F">$D90F</a>	A4 E1                    	LDY   $E1
<a name="LD911">$D911</a>	86 E9                    	STX   $E9
<a name="LD913">$D913</a>	84 EA                    	STY   $EA
<a name="LD915">$D915</a>	60                       	RTS
<a name="LD916">$D916</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Evaluate expression and
<a name="LD919">$D919</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	convert to integer.
<a name="LD91C">$D91C</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Check for comma and get single
<a name="LD91F">$D91F</a>	4C C8 D8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	byte numeric expression.

FP2INT
<a name="LD922">$D922</a>	A5 D5                    	LDA   $D5                               	CONVERT MAIN FPA TO INTEGER
<a name="LD924">$D924</a>	30 9C                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	Error if negative number.
<a name="LD926">$D926</a>	A5 D0                    	LDA   $D0
<a name="LD928">$D928</a>	C9 91                    	CMP   #$91                              	Error if number over 32768.
<a name="LD92A">$D92A</a>	B0 96                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>
<a name="LD92C">$D92C</a>	20 8C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF8C">$DF8C</a>                             	Convert main FPA to integer.
<a name="LD92F">$D92F</a>	A5 D3                    	LDA   $D3                               	Put result in $33,$34.
<a name="LD931">$D931</a>	A4 D4                    	LDY   $D4
<a name="LD933">$D933</a>	84 33                    	STY   $33
<a name="LD935">$D935</a>	85 34                    	STA   $34
<a name="LD937">$D937</a>	60                       	RTS                                     	Exit.

PEEK
<a name="LD938">$D938</a>	A5 34                    	LDA   $34                               	PEEK
<a name="LD93A">$D93A</a>	48                       	PHA                                     	Save $33,$34 on stack.
<a name="LD93B">$D93B</a>	A5 33                    	LDA   $33
<a name="LD93D">$D93D</a>	48                       	PHA
<a name="LD93E">$D93E</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	Convert main FPA to integer.
<a name="LD941">$D941</a>	A0 00                    	LDY   #$00
<a name="LD943">$D943</a>	B1 33                    	LDA   ($33),Y                           	Load byte from memory.
<a name="LD945">$D945</a>	A8                       	TAY                                     	Transfer to Y.
<a name="LD946">$D946</a>	68                       	PLA                                     	Restore $33,$34.
<a name="LD947">$D947</a>	85 33                    	STA   $33
<a name="LD949">$D949</a>	68                       	PLA
<a name="LD94A">$D94A</a>	85 34                    	STA   $34
<a name="LD94C">$D94C</a>	4C B6 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4B6">$D4B6</a>                             	Convert Y to FPA and exit.

POKE
<a name="LD94F">$D94F</a>	20 16 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD916">$D916</a>                             	POKE  Get expression.
<a name="LD952">$D952</a>	8A                       	TXA
<a name="LD953">$D953</a>	A0 00                    	LDY   #$00
<a name="LD955">$D955</a>	91 33                    	STA   ($33),Y                           	Store byte in memory.
<a name="LD957">$D957</a>	60                       	RTS                                     	Exit

WAIT
<a name="LD958">$D958</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	WAIT Evaluate expression
<a name="LD95B">$D95B</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	and convert to integer.
<a name="LD95E">$D95E</a>	A4 33                    	LDY   $33                               	Load value into X,Y.
<a name="LD960">$D960</a>	A6 34                    	LDX   $34
<a name="LD962">$D962</a>	A9 02                    	LDA   #$02                              	Set spare counter and wait
<a name="LD964">$D964</a>	4C C9 EE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEC9">$EEC9</a>                             	until count down to zero.

DOKE
<a name="LD967">$D967</a>	20 53 E8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE853">$E853</a>                             	DOKE
<a name="LD96A">$D96A</a>	A5 33                    	LDA   $33                               	Get integer argument and save
<a name="LD96C">$D96C</a>	A4 34                    	LDY   $34                               	it in $1D,$1E.
<a name="LD96E">$D96E</a>	85 1D                    	STA   $1D
<a name="LD970">$D970</a>	84 1E                    	STY   $1E
<a name="LD972">$D972</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test for comma.
<a name="LD975">$D975</a>	20 53 E8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE853">$E853</a>                             	Get integer argument.
<a name="LD978">$D978</a>	A0 01                    	LDY   #$01
<a name="LD97A">$D97A</a>	B9 33 00                 	LDA   $0033,Y
<a name="LD97D">$D97D</a>	91 1D                    	STA   ($1D),Y                           	Put value into memory.
<a name="LD97F">$D97F</a>	88                       	DEY
<a name="LD980">$D980</a>	10 F8                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD97A">$D97A</a>
<a name="LD982">$D982</a>	60                       	RTS                                     	Exit.

DEEK
<a name="LD983">$D983</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	DEEK Convert main FPA into
<a name="LD986">$D986</a>	A0 01                    	LDY   #$01                              	integer.
<a name="LD988">$D988</a>	B1 33                    	LDA   ($33),Y                           	Get bytes from memory into A
<a name="LD98A">$D98A</a>	48                       	PHA                                     	and Y.
<a name="LD98B">$D98B</a>	88                       	DEY
<a name="LD98C">$D98C</a>	B1 33                    	LDA   ($33),Y
<a name="LD98E">$D98E</a>	A8                       	TAY
<a name="LD98F">$D98F</a>	68                       	PLA                                     	Convert A, Y into floating
<a name="LD990">$D990</a>	4C 40 DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF40">$DF40</a>                             	point number and exit.

BYTE2HEX
<a name="LD993">$D993</a>	48                       	PHA                                     	CONVERT BYTE TO 2 HEX DIGITS
<a name="LD994">$D994</a>	4A                       	LSR
<a name="LD995">$D995</a>	4A                       	LSR                                     	Shift left hand nibble into
<a name="LD996">$D996</a>	4A                       	LSR                                     	right hand nibble.
<a name="LD997">$D997</a>	4A                       	LSR
<a name="LD998">$D998</a>	20 9C D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD99C">$D99C</a>                             	Convert L.H. nibble to char.
<a name="LD99B">$D99B</a>	68                       	PLA                                     	Restore original byte.
<a name="LD99C">$D99C</a>	29 0F                    	AND   #$0F                              	Isolate R.H nibble.
<a name="LD99E">$D99E</a>	09 30                    	ORA   #$30                              	Convert to ASCII.
<a name="LD9A0">$D9A0</a>	C9 3A                    	CMP   #$3A
<a name="LD9A2">$D9A2</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9A6">$D9A6</a>
<a name="LD9A4">$D9A4</a>	69 06                    	ADC   #$06
<a name="LD9A6">$D9A6</a>	C9 30                    	CMP   #$30
<a name="LD9A8">$D9A8</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9AE">$D9AE</a>                             	Digit is non zero.
<a name="LD9AA">$D9AA</a>	A4 2F                    	LDY   $2F
<a name="LD9AC">$D9AC</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9B4">$D9B4</a>                             	Exit if char is leading zero.
<a name="LD9AE">$D9AE</a>	85 2F                    	STA   $2F
<a name="LD9B0">$D9B0</a>	9D 00 01                 	STA   $0100,X                           	Put char in bottom of stack
<a name="LD9B3">$D9B3</a>	E8                       	INX                                     	page. Advance pointer.
<a name="LD9B4">$D9B4</a>	60                       	RTS

HEX
<a name="LD9B5">$D9B5</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	HEX$ Convert FPA to positive
<a name="LD9B8">$D9B8</a>	A2 00                    	LDX   #$00                              	integer.
<a name="LD9BA">$D9BA</a>	86 2F                    	STX   $2F                               	Set leading zero flag.
<a name="LD9BC">$D9BC</a>	A9 23                    	LDA   #$23                              	Set # at front of number to
<a name="LD9BE">$D9BE</a>	85 FF                    	STA   $FF                               	indicate hexadecimal.
<a name="LD9C0">$D9C0</a>	A5 34                    	LDA   $34                               	Convert upper byte to 2 hex
<a name="LD9C2">$D9C2</a>	20 93 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD993">$D993</a>                             	digits.
<a name="LD9C5">$D9C5</a>	A5 33                    	LDA   $33                               	Convert lower byte to 2 hex
<a name="LD9C7">$D9C7</a>	20 93 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD993">$D993</a>                             	digits.
<a name="LD9CA">$D9CA</a>	8A                       	TXA
<a name="LD9CB">$D9CB</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9D3">$D9D3</a>                             	Number is non zero.
<a name="LD9CD">$D9CD</a>	A9 30                    	LDA   #$30                              	Put in single 0 for zero
<a name="LD9CF">$D9CF</a>	9D 00 01                 	STA   $0100,X                           	numbers.
<a name="LD9D2">$D9D2</a>	E8                       	INX                                     	Advance pointer.
<a name="LD9D3">$D9D3</a>	A9 00                    	LDA   #$00                              	Put null at end of string.
<a name="LD9D5">$D9D5</a>	9D 00 01                 	STA   $0100,X
<a name="LD9D8">$D9D8</a>	4C 9B D5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD59B">$D59B</a>                             	Point to string and exit.
<a name="LD9DB">$D9DB</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".

LORES
<a name="LD9DE">$D9DE</a>	20 21 EC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEC21">$EC21</a>                             	LORES  Set screen to text.
<a name="LD9E1">$D9E1</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	Get single byte expression.
<a name="LD9E4">$D9E4</a>	8A                       	TXA
<a name="LD9E5">$D9E5</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9ED">$D9ED</a>                             	In LORES 0.
<a name="LD9E7">$D9E7</a>	CA                       	DEX
<a name="LD9E8">$D9E8</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9DB">$D9DB</a>                             	Error if not LORES 1.
<a name="LD9EA">$D9EA</a>	A9 09                    	LDA   #$09
<a name="LD9EC">$D9EC</a>	2C A9 08                 	BIT   $08A9                             	Hides LDA #$08.
<a name="LD9EF">$D9EF</a>	A2 10                    	LDX   #$10                              	Set paper to black in temp
<a name="LD9F1">$D9F1</a>	8E F8 02                 	STX   $02F8                             	location.
<a name="LD9F4">$D9F4</a>	A2 1B                    	LDX   #$1B                              	Set row counter.
<a name="LD9F6">$D9F6</a>	48                       	PHA
<a name="LD9F7">$D9F7</a>	8A                       	TXA                                     	Calculate start address of Xth
<a name="LD9F8">$D9F8</a>	20 0C DA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA0C">$DA0C</a>                             	row of screen.
<a name="LD9FB">$D9FB</a>	AD F8 02                 	LDA   $02F8
<a name="LD9FE">$D9FE</a>	A0 27                    	LDY   #$27
<a name="LDA00">$DA00</a>	91 1F                    	STA   ($1F),Y                           	Write paper colour on every
<a name="LDA02">$DA02</a>	88                       	DEY                                     	column of row except first.
<a name="LDA03">$DA03</a>	D0 FB                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA00">$DA00</a>
<a name="LDA05">$DA05</a>	68                       	PLA
<a name="LDA06">$DA06</a>	91 1F                    	STA   ($1F),Y                           	Write char set type for row.
<a name="LDA08">$DA08</a>	CA                       	DEX                                     	Repeat until all rows are done
<a name="LDA09">$DA09</a>	D0 EB                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD9F6">$D9F6</a>                             	except status line.
<a name="LDA0B">$DA0B</a>	60                       	RTS

ROWCALC
<a name="LDA0C">$DA0C</a>	20 31 F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF731">$F731</a>                             	CALCULATE START ADDRESS OF Nth
<a name="LDA0F">$DA0F</a>	84 20                    	STY   $20                               	ROW ON SCREEN
<a name="LDA11">$DA11</a>	18                       	CLC                                     	Multiply A by 40 with Y
<a name="LDA12">$DA12</a>	69 80                    	ADC   #$80                              	holding overflow beyond 8 bits
<a name="LDA14">$DA14</a>	48                       	PHA
<a name="LDA15">$DA15</a>	85 1F                    	STA   $1F                               	Add in start address of screen
<a name="LDA17">$DA17</a>	A9 BB                    	LDA   #$BB                              	and put result in $1F,$20.
<a name="LDA19">$DA19</a>	65 20                    	ADC   $20
<a name="LDA1B">$DA1B</a>	85 20                    	STA   $20
<a name="LDA1D">$DA1D</a>	68                       	PLA
<a name="LDA1E">$DA1E</a>	60                       	RTS
<a name="LDA1F">$DA1F</a>	4C C2 D8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	Print "ILLEGAL QUANTITY ERR.".
<a name="LDA22">$DA22</a>	20 F6 DA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDAF6">$DAF6</a>                             	Test for text screen.
<a name="LDA25">$DA25</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	Get single byte expression.
<a name="LDA28">$DA28</a>	E0 28                    	CPX   #$28                              	Error if column number is too
<a name="LDA2A">$DA2A</a>	B0 F3                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA1F">$DA1F</a>                             	large.
<a name="LDA2C">$DA2C</a>	8E F8 02                 	STX   $02F8                             	Save result.
<a name="LDA2F">$DA2F</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test for comma.
<a name="LDA32">$DA32</a>	20 C8 D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C8">$D8C8</a>                             	Get single byte expression.
<a name="LDA35">$DA35</a>	E0 1B                    	CPX   #$1B                              	Error if row number is too
<a name="LDA37">$DA37</a>	B0 E6                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA1F">$DA1F</a>                             	large.
<a name="LDA39">$DA39</a>	E8                       	INX                                     	Increment row number.
<a name="LDA3A">$DA3A</a>	8A                       	TXA                                     	Transfer to A and calculate
<a name="LDA3B">$DA3B</a>	20 0C DA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA0C">$DA0C</a>                             	address of start of that row.
<a name="LDA3E">$DA3E</a>	60                       	RTS                                     	Exit.

SCRN
<a name="LDA3F">$DA3F</a>	20 62 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD062">$D062</a>                             	SCRN  Test for "(".
<a name="LDA42">$DA42</a>	20 22 DA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA22">$DA22</a>                             	Get X, Y co-ordinates.
<a name="LDA45">$DA45</a>	20 5F D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD05F">$D05F</a>                             	Test for comma.
<a name="LDA48">$DA48</a>	AC F8 02                 	LDY   $02F8
<a name="LDA4B">$DA4B</a>	B1 1F                    	LDA   ($1F),Y                           	Get character from screen
<a name="LDA4D">$DA4D</a>	A8                       	TAY                                     	Transfer result to floating
<a name="LDA4E">$DA4E</a>	4C B6 D4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD4B6">$D4B6</a>                             	point in main FPA.

PLOT
<a name="LDA51">$DA51</a>	20 22 DA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA22">$DA22</a>                             	PLOT  Get X, Y co-ordinates.
<a name="LDA54">$DA54</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test for comma.
<a name="LDA57">$DA57</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate expression.
<a name="LDA5A">$DA5A</a>	24 28                    	BIT   $28
<a name="LDA5C">$DA5C</a>	10 1D                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA7B">$DA7B</a>                             	Expression not string type.
<a name="LDA5E">$DA5E</a>	20 D0 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D0">$D7D0</a>                             	Set up string in FPA.
<a name="LDA61">$DA61</a>	AA                       	TAX
<a name="LDA62">$DA62</a>	18                       	CLC
<a name="LDA63">$DA63</a>	AD F8 02                 	LDA   $02F8                             	Calculate start address for
<a name="LDA66">$DA66</a>	65 1F                    	ADC   $1F                               	writing string to screen.
<a name="LDA68">$DA68</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA6C">$DA6C</a>
<a name="LDA6A">$DA6A</a>	E6 20                    	INC   $20
<a name="LDA6C">$DA6C</a>	85 1F                    	STA   $1F
<a name="LDA6E">$DA6E</a>	A0 OO                    	LDY   #$00
<a name="LDA70">$DA70</a>	E8                       	INX
<a name="LDA71">$DA71</a>	CA                       	DEX
<a name="LDA72">$DA72</a>	F0 10                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA84">$DA84</a>                             	String plotted.
<a name="LDA74">$DA74</a>	B1 91                    	LDA   ($91),Y                           	Write each element to screen.
<a name="LDA76">$DA76</a>	91 1F                    	STA   ($1F),Y
<a name="LDA78">$DA78</a>	C8                       	INY
<a name="LDA79">$DA79</a>	D0 F6                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA71">$DA71</a>                             	More to be done.
<a name="LDA7B">$DA7B</a>	20 CB D8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8CB">$D8CB</a>                             	Get single byte expression.
<a name="LDA7E">$DA7E</a>	8A                       	TXA
<a name="LDA7F">$DA7F</a>	AC F8 02                 	LDY   $02F8
<a name="LDA82">$DA82</a>	91 1F                    	STA   ($1F),Y                           	Print it to screen.
<a name="LDA84">$DA84</a>	60                       	RTS                                     	Exit.
<a name="LDA85">$DA85</a>	D0 17                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA9E">$DA9E</a>
<a name="LDA87">$DA87</a>	A9 03                    	LDA   #$03                              	Check for 6 free bytes on the
<a name="LDA89">$DA89</a>	20 37 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC437">$C437</a>                             	stack.
<a name="LDA8C">$DA8C</a>	A5 EA                    	LDA   $EA                               	Save the program position, the
<a name="LDA8E">$DA8E</a>	48                       	PHA                                     	current line number and the
<a name="LDA8F">$DA8F</a>	A5 E9                    	LDA   $E9                               	REPEAT token on the stack for
<a name="LDA91">$DA91</a>	48                       	PHA                                     	next loop.
<a name="LDA92">$DA92</a>	A5 A9                    	LDA   $A9
<a name="LDA94">$DA94</a>	48                       	PHA
<a name="LDA95">$DA95</a>	A5 A8                    	LDA   $A8
<a name="LDA97">$DA97</a>	48                       	PHA
<a name="LDA98">$DA98</a>	A9 8B                    	LDA   #$8B
<a name="LDA9A">$DA9A</a>	48                       	PHA
<a name="LDA9B">$DA9B</a>	4C C1 C8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC8C1">$C8C1</a>
<a name="LDA9E">$DA9E</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".

UNTIL
<a name="LDAA1">$DAA1</a>	A9 FF                    	LDA   #$FF                              	PULL / UNTIL
<a name="LDAA3">$DAA3</a>	85 B9                    	STA   $B9
<a name="LDAA5">$DAA5</a>	20 C6 C3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC3C6">$C3C6</a>                             	Pull data off stack.
<a name="LDAA8">$DAA8</a>	9A                       	TXS
<a name="LDAA9">$DAA9</a>	C9 8B                    	CMP   #$8B

REPEAT
<a name="LDAAB">$DAAB</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDAB2">$DAB2</a>                             	REPEAT token found.
<a name="LDAAD">$DAAD</a>	A2 F5                    	LDX   #$F5                              	Print "BAD UNTIL ERROR" if
<a name="LDAAF">$DAAF</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	token not found.
<a name="LDAB2">$DAB2</a>	C0 10                    	CPY   #$10
<a name="LDAB4">$DAB4</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDABB">$DABB</a>                             	PULL token not found.
<a name="LDAB6">$DAB6</a>	84 D0                    	STY   $D0
<a name="LDAB8">$DAB8</a>	98                       	TYA
<a name="LDAB9">$DAB9</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDAC1">$DAC1</a>
<a name="LDABB">$DABB</a>	20 E8 00                 	JSR   $00E8                             	Get next char.
<a name="LDABE">$DABE</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate expression.
<a name="LDAC1">$DAC1</a>	68                       	PLA
<a name="LDAC2">$DAC2</a>	A5 D0                    	LDA   $D0                               	Go back to start of loop if
<a name="LDAC4">$DAC4</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDACB">$DACB</a>                             	condition still false.
<a name="LDAC6">$DAC6</a>	68                       	PLA                                     	Pull loop data off stack and
<a name="LDAC7">$DAC7</a>	68                       	PLA                                     	forget it. Used to exit the
<a name="LDAC8">$DAC8</a>	68                       	PLA                                     	loop.
<a name="LDAC9">$DAC9</a>	68                       	PLA
<a name="LDACA">$DACA</a>	60                       	RTS
<a name="LDACB">$DACB</a>	68                       	PLA                                     	Pull old program line number
<a name="LDACC">$DACC</a>	85 A8                    	STA   $A8                               	and position in text from the
<a name="LDACE">$DACE</a>	68                       	PLA                                     	stack.
<a name="LDACF">$DACF</a>	85 A9                    	STA   $A9
<a name="LDAD1">$DAD1</a>	68                       	PLA
<a name="LDAD2">$DAD2</a>	85 E9                    	STA   $E9
<a name="LDAD4">$DAD4</a>	68                       	PLA
<a name="LDAD5">$DAD5</a>	85 EA                    	STA   $EA
<a name="LDAD7">$DAD7</a>	4C 8C DA                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDA8C">$DA8C</a>

KEY
<a name="LDADA">$DADA</a>	20 78 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB78">$EB78</a>                             	KEY$  Get next char from
<a name="LDADD">$DADD</a>	08                       	PHP                                     	keyboard.
<a name="LDADE">$DADE</a>	48                       	PHA
<a name="LDADF">$DADF</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDAE4">$DAE4</a>                             	Key is not valid.
<a name="LDAE1">$DAE1</a>	A9 01                    	LDA   #$01                              	Set string length for 1 key.
<a name="LDAE3">$DAE3</a>	2C A9 00                 	BIT   $00A9                             	Hides string length for 0 keys
<a name="LDAE6">$DAE6</a>	20 AB D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5AB">$D5AB</a>                             	Get slot for string.
<a name="LDAE9">$DAE9</a>	68                       	PLA
<a name="LDAEA">$DAEA</a>	28                       	PLP
<a name="LDAEB">$DAEB</a>	10 04                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDAF1">$DAF1</a>                             	No valid key was obtained.
<a name="LDAED">$DAED</a>	A0 00                    	LDY   #$00
<a name="LDAEF">$DAEF</a>	91 D1                    	STA   ($D1),Y                           	Save key in string.
<a name="LDAF1">$DAF1</a>	68                       	PLA
<a name="LDAF2">$DAF2</a>	68                       	PLA                                     	Push string block on to the
<a name="LDAF3">$DAF3</a>	4C F4 D5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5F4">$D5F4</a>                             	string stack.

TXTTEST
<a name="LDAF6">$DAF6</a>	AD C0 02                 	LDA   $02C0                             	TEST FOR TEXT SCREEN
<a name="LDAF9">$DAF9</a>	29 01                    	AND   #$01
<a name="LDAFB">$DAFB</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB02">$DB02</a>                             	Print "DISP TYPE MISMATCH
<a name="LDAFD">$DAFD</a>	A2 A3                    	LDX   #$A3                              	ERROR" if wrong screen mode.
<a name="LDAFF">$DAFF</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>
<a name="LDB02">$DB02</a>	60                       	RTS
<a name="LDB03">$DB03</a>	60                       	RTS
<a name="LDB04">$DB04</a>	A9 05                    	LDA   #$05                              	Set A, Y to point to floating
<a name="LDB06">$DB06</a>	A0 E2                    	LDY   #$E2                              	point value for 0.5 and jump
<a name="LDB08">$DB08</a>	4C 22 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	to "+" routine.
<a name="LDB0B">$DB0B</a>	20 51 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD51">$DD51</a>                             	Unpack work FPA.
<a name="LDB0E">$DB0E</a>	A5 D5                    	LDA   $D5                               	- OPERATOR
<a name="LDB10">$DB10</a>	49 FF                    	EOR   #$FF                              	Invert sign of main FPA.
<a name="LDB12">$DB12</a>	85 D5                    	STA   $D5
<a name="LDB14">$DB14</a>	45 DD                    	EOR   $DD
<a name="LDB16">$DB16</a>	85 DE                    	STA   $DE                               	Set sign difference flag.
<a name="LDB18">$DB18</a>	A5 D0                    	LDA   $D0
<a name="LDB1A">$DB1A</a>	4C 25 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB25">$DB25</a>                             	Jump to addition routine.
<a name="LDB1D">$DB1D</a>	20 54 DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC54">$DC54</a>                             	Shift number by required amount
<a name="LDB20">$DB20</a>	90 3C                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB5E">$DB5E</a>                             	and continue with same sign.
<a name="LDB22">$DB22</a>	20 51 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD51">$DD51</a>                             	Unpack work FPA.
<a name="LDB25">$DB25</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB2A">$DB2A</a>                             	+ OPERATOR
<a name="LDB27">$DB27</a>	4C D5 DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDED5">$DED5</a>                             	If main FPA is 0 then copy
<a name="LDB2A">$DB2A</a>	A6 DF                    	LDX   $DF                               	work FPA into main FPA.
<a name="LDB2C">$DB2C</a>	86 C5                    	STX   $C5                               	Save rounding byte.
<a name="LDB2E">$DB2E</a>	A2 D8                    	LDX   #$D8                              	Point to work FPA.
<a name="LDB30">$DB30</a>	A5 D8                    	LDA   $D8                               	Get exponent of work FPA.
<a name="LDB32">$DB32</a>	A8                       	TAY                                     	If zero then result is in
<a name="LDB33">$DB33</a>	F0 CE                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB03">$DB03</a>                             	main FPA, so exit.
<a name="LDB35">$DB35</a>	38                       	SEC
<a name="LDB36">$DB36</a>	E5 D0                    	SBC   $D0                               	Get difference in exponents.
<a name="LDB38">$DB38</a>	F0 24                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB5E">$DB5E</a>                             	If equal then skip shift.
<a name="LDB3A">$DB3A</a>	90 12                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB4E">$DB4E</a>                             	If main FPA &gt; work FPA then
<a name="LDB3C">$DB3C</a>	84 D0                    	STY   $D0                               	skip change. Put work exponent
<a name="LDB3E">$DB3E</a>	A4 DD                    	LDY   $DD                               	in main FPA. Put sign of
<a name="LDB40">$DB40</a>	84 D5                    	STY   $D5                               	work FPA into main FPA.
<a name="LDB42">$DB42</a>	49 FF                    	EOR   #$FF                              	Negate difference.
<a name="LDB44">$DB44</a>	69 00                    	ADC   #$00
<a name="LDB46">$DB46</a>	A0 00                    	LDY   #$00                              	Clear rounding byte.
<a name="LDB48">$DB48</a>	84 C5                    	STY   $C5
<a name="LDB4A">$DB4A</a>	A2 D0                    	LDX   #$D0                              	Point to main FPA and skip
<a name="LDB4C">$DB4C</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB52">$DB52</a>                             	zeroing of rounding byte.
<a name="LDB4E">$DB4E</a>	A0 00                    	LDY   #$00
<a name="LDB50">$DB50</a>	84 DF                    	STY   $DF                               	Clear rounding byte.
<a name="LDB52">$DB52</a>	C9 F9                    	CMP   #$F9                              	If more than 8 different then
<a name="LDB54">$DB54</a>	30 C7                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB1D">$DB1D</a>                             	shift the blocks.
<a name="LDB56">$DB56</a>	A8                       	TAY                                     	Transfer bit count to Y and
<a name="LDB57">$DB57</a>	A5 DF                    	LDA   $DF                               	rounding byte to A.
<a name="LDB59">$DB59</a>	56 01                    	LSR   $01,X                             	Shift mantissa by required
<a name="LDB5B">$DB5B</a>	20 6B DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC6B">$DC6B</a>                             	number of bits.
<a name="LDB5E">$DB5E</a>	24 DE                    	BIT   $DE                               	If signs are same then add
<a name="LDB60">$DB60</a>	10 57                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBB9">$DBB9</a>                             	mantissa and exit.
<a name="LDB62">$DB62</a>	A0 D0                    	LDY   #$D0                              	X points to smaller and Y
<a name="LDB64">$DB64</a>	E0 D8                    	CPX   #$D8                              	to larger FPA.
<a name="LDB66">$DB66</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB6A">$DB6A</a>
<a name="LDB68">$DB68</a>	A0 D8                    	LDY   #$D8
<a name="LDB6A">$DB6A</a>	38                       	SEC                                     	Negate rounding byte.
<a name="LDB6B">$DB6B</a>	49 FF                    	EOR   #$FF                              	Add other rounding byte to
<a name="LDB6D">$DB6D</a>	65 C5                    	ADC   $C5                               	get new one.
<a name="LDB6F">$DB6F</a>	85 DF                    	STA   $DF
<a name="LDB71">$DB71</a>	B9 04 00                 	LDA   $0004,Y
<a name="LDB74">$DB74</a>	F5 04                    	SBC   $04,X                             	Subtract LSBs of mantissas.
<a name="LDB76">$DB76</a>	85 D4                    	STA   $D4
<a name="LDB78">$DB78</a>	B9 03 00                 	LDA   $0003,Y                           	Subtract next LSBs.
<a name="LDB7B">$DB7B</a>	F5 03                    	SBC   $03,X
<a name="LDB7D">$DB7D</a>	85 D3                    	STA   $D3
<a name="LDB7F">$DB7F</a>	B9 02 00                 	LDA   $0002,Y                           	Subtract next LSBs.
<a name="LDB82">$DB82</a>	F5 02                    	SBC   $02,X
<a name="LDB84">$DB84</a>	85 D2                    	STA   $D2
<a name="LDB86">$DB86</a>	B9 01 00                 	LDA   $0001,Y                           	Subtract MSBs of mantissas.
<a name="LDB89">$DB89</a>	F5 01                    	SBC   $01,X
<a name="LDB8B">$DB8B</a>	85 D1                    	STA   $D1
<a name="LDB8D">$DB8D</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB92">$DB92</a>                             	If carry clear then negate it.
<a name="LDB8F">$DB8F</a>	20 02 DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC02">$DC02</a>

NORMALISE
<a name="LDB92">$DB92</a>	A0 00                    	LDY   #$00                              	NORMALISE MAIN FPA
<a name="LDB94">$DB94</a>	98                       	TYA                                     	Set shift count to 0.
<a name="LDB95">$DB95</a>	18                       	CLC
<a name="LDB96">$DB96</a>	A6 D1                    	LDX   $D1                               	If top byte empty then shift
<a name="LDB98">$DB98</a>	D0 4A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBE4">$DBE4</a>                             	bits.
<a name="LDB9A">$DB9A</a>	A6 D2                    	LDX   $D2
<a name="LDB9C">$DB9C</a>	86 D1                    	STX   $D1                               	Shift by whole byte.
<a name="LDB9E">$DB9E</a>	A6 D3                    	LDX   $D3
<a name="LDBA0">$DBA0</a>	86 D2                    	STX   $D2
<a name="LDBA2">$DBA2</a>	A6 D4                    	LDX   $D4
<a name="LDBA4">$DBA4</a>	86 D3                    	STX   $D3
<a name="LDBA6">$DBA6</a>	A6 DF                    	LDX   $DF
<a name="LDBA8">$DBA8</a>	86 D4                    	STX   $D4
<a name="LDBAA">$DBAA</a>	84 DF                    	STY   $DF
<a name="LDBAC">$DBAC</a>	69 08                    	ADC   #$08                              	Update count.
<a name="LDBAE">$DBAE</a>	C9 28                    	CMP   #$28                              	If underflow then set to zero
<a name="LDBB0">$DBB0</a>	D0 E4                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB96">$DB96</a>                             	else go round again.
<a name="LDBB2">$DBB2</a>	A9 00                    	LDA   #$00                              	Set main FPA to 0.
<a name="LDBB4">$DBB4</a>	85 D0                    	STA   $D0
<a name="LDBB6">$DBB6</a>	85 D5                    	STA   $D5
<a name="LDBB8">$DBB8</a>	60                       	RTS                                     	Exit.

ADDMANTISSAS
<a name="LDBB9">$DBB9</a>	65 C5                    	ADC   $C5                               	ADD MANTISSAS
<a name="LDBBB">$DBBB</a>	85 DF                    	STA   $DF
<a name="LDBBD">$DBBD</a>	A5 D4                    	LDA   $D4                               	Add the Founding bytes and
<a name="LDBBF">$DBBF</a>	65 DC                    	ADC   $DC                               	then each of the bytes in the
<a name="LDBC1">$DBC1</a>	85 D4                    	STA   $D4                               	mantissa in ascending order
<a name="LDBC3">$DBC3</a>	A5 D3                    	LDA   $D3                               	of significance.
<a name="LDBC5">$DBC5</a>	65 DB                    	ADC   $DB
<a name="LDBC7">$DBC7</a>	85 D3                    	STA   $D3
<a name="LDBC9">$DBC9</a>	A5 D2                    	LDA   $D2
<a name="LDBCB">$DBCB</a>	65 DA                    	ADC   $DA
<a name="LDBCD">$DBCD</a>	85 D2                    	STA   $D2
<a name="LDBCF">$DBCF</a>	A5 D1                    	LDA   $D1
<a name="LDBD1">$DBD1</a>	65 D9                    	ADC   $D9
<a name="LDBD3">$DBD3</a>	85 D1                    	STA   $D1
<a name="LDBD5">$DBD5</a>	4C F1 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBF1">$DBF1</a>                             	Shift if necessary and exit.
<a name="LDBD8">$DBD8</a>	69 01                    	ADC   #$01                              	Put main FPA into standard
<a name="LDBDA">$DBDA</a>	06 DF                    	ASL   $DF                               	form by shifting bits until
<a name="LDBDC">$DBDC</a>	26 D4                    	ROL   $D4                               	top one is set.
<a name="LDBDE">$DBDE</a>	26 D3                    	ROL   $D3
<a name="LDBE0">$DBE0</a>	26 D2                    	ROL   $D2
<a name="LDBE2">$DBE2</a>	26 D1                    	ROL   $D1
<a name="LDBE4">$DBE4</a>	10 F2                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBD8">$DBD8</a>
<a name="LDBE6">$DBE6</a>	38                       	SEC                                     	If underflow then zero the
<a name="LDBE7">$DBE7</a>	E5 D0                    	SBC   $D0                               	number.
<a name="LDBE9">$DBE9</a>	B0 C7                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBB2">$DBB2</a>
<a name="LDBEB">$DBEB</a>	49 FF                    	EOR   #$FF                              	Negate A to get the new
<a name="LDBED">$DBED</a>	69 01                    	ADC   #$01                              	exponent.
<a name="LDBEF">$DBEF</a>	85 D0                    	STA   $D0
<a name="LDBF1">$DBF1</a>	90 0E                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC01">$DC01</a>                             	Exit if okay.
<a name="LDBF3">$DBF3</a>	E6 D0                    	INC   $D0                               	Increment exponent and shift
<a name="LDBF5">$DBF5</a>	F0 42                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC39">$DC39</a>                             	down mantissa by 1 bit.
<a name="LDBF7">$DBF7</a>	66 D1                    	ROR   $D1
<a name="LDBF9">$DBF9</a>	66 D2                    	ROR   $D2
<a name="LDBFB">$DBFB</a>	66 D3                    	ROR   $D3
<a name="LDBFD">$DBFD</a>	66 D4                    	ROR   $D4
<a name="LDBFF">$DBFF</a>	66 DF                    	ROR   $DF
<a name="LDC01">$DC01</a>	60                       	RTS
<a name="LDC02">$DC02</a>	A5 D5                    	LDA   $D5                               	Negate the content of the
<a name="LDC04">$DC04</a>	49 FF                    	EOR   #$FF                              	main FPA.
<a name="LDC06">$DC06</a>	85 D5                    	STA   $D5
<a name="LDC08">$DC08</a>	A5 D1                    	LDA   $D1                               	Achieved by finding 2's
<a name="LDC0A">$DC0A</a>	49 FF                    	EOR   #$FF                              	complement value of mantissa
<a name="LDC0C">$DC0C</a>	85 D1                    	STA   $D1                               	and inverting sign bit.
<a name="LDC0E">$DC0E</a>	A5 D2                    	LDA   $D2
<a name="LDC10">$DC10</a>	49 FF                    	EOR   #$FF
<a name="LDC12">$DC12</a>	85 D2                    	STA   $D2
<a name="LDC14">$DC14</a>	A5 D3                    	LDA   $D3
<a name="LDC16">$DC16</a>	49 FF                    	EOR   #$FF
<a name="LDC18">$DC18</a>	85 D3                    	STA   $D3
<a name="LDC1A">$DC1A</a>	A5 D4                    	LDA   $D4
<a name="LDC1C">$DC1C</a>	49 FF                    	EOR   #$FF
<a name="LDC1E">$DC1E</a>	85 D4                    	STA   $D4
<a name="LDC20">$DC20</a>	A5 DF                    	LDA   $DF
<a name="LDC22">$DC22</a>	49 FF                    	EOR   #$FF
<a name="LDC24">$DC24</a>	85 DF                    	STA   $DF
<a name="LDC26">$DC26</a>	E6 DF                    	INC   $DF                               	Increment rounding byte and
<a name="LDC28">$DC28</a>	D0 0E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC38">$DC38</a>                             	exit if no carry.
<a name="LDC2A">$DC2A</a>	E6 D4                    	INC   $D4                               	Increment mantissa of main FPA
<a name="LDC2C">$DC2C</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC38">$DC38</a>                             	branching at each stage if
<a name="LDC2E">$DC2E</a>	E6 D3                    	INC   $D3                               	no carry from one byte to
<a name="LDC30">$DC30</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC38">$DC38</a>                             	next.
<a name="LDC32">$DC32</a>	E6 D2                    	INC   $D2
<a name="LDC34">$DC34</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC38">$DC38</a>
<a name="LDC36">$DC36</a>	E6 D1                    	INC   $D1
<a name="LDC38">$DC38</a>	60                       	RTS
<a name="LDC39">$DC39</a>	A2 45                    	LDX   #$45                              	Print "OVERFLOW ERROR".
<a name="LDC3B">$DC3B</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>
<a name="LDC3E">$DC3E</a>	A2 94                    	LDX   #$94                              	Shift mantissa &amp; keep sign.
<a name="LDC40">$DC40</a>	B4 04                    	LDY   $04,X
<a name="LDC42">$DC42</a>	84 DF                    	STY   $DF                               	Copy LSB into rounding byte.
<a name="LDC44">$DC44</a>	B4 03                    	LDY   $03,X
<a name="LDC46">$DC46</a>	94 04                    	STY   $04,X                             	Copy each of the other bytes
<a name="LDC48">$DC48</a>	B4 02                    	LDY   $02,X                             	of the mantissa into the one
<a name="LDC4A">$DC4A</a>	94 03                    	STY   $03,X                             	lower down.
<a name="LDC4C">$DC4C</a>	B4 01                    	LDY   $01,X
<a name="LDC4E">$DC4E</a>	94 02                    	STY   $02,X
<a name="LDC50">$DC50</a>	A4 D7                    	LDY   $D7
<a name="LDC52">$DC52</a>	94 01                    	STY   $01,X
<a name="LDC54">$DC54</a>	69 08                    	ADC   #$08                              	If more than 7 bits of shift
<a name="LDC56">$DC56</a>	30 E8                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC40">$DC40</a>                             	still required then go round
<a name="LDC58">$DC58</a>	F0 E6                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC40">$DC40</a>                             	again.
<a name="LDC5A">$DC5A</a>	E9 08                    	SBC   #$08                              	Re-adjust counter.
<a name="LDC5C">$DC5C</a>	A8                       	TAY
<a name="LDC5D">$DC5D</a>	A5 DF                    	LDA   $DF
<a name="LDC5F">$DC5F</a>	B0 14                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC75">$DC75</a>
<a name="LDC61">$DC61</a>	16 01                    	ASL   $01,X                             	Shift each bit of the mantissa
<a name="LDC63">$DC63</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC67">$DC67</a>                             	one bit to the right. Keep the
<a name="LDC65">$DC65</a>	F6 01                    	INC   $01,X                             	sign in the top bit of the
<a name="LDC67">$DC67</a>	76 01                    	ROR   $01,X                             	most significant byte of the
<a name="LDC69">$DC69</a>	76 01                    	ROR   $01,X                             	mantissa.
<a name="LDC6B">$DC6B</a>	76 02                    	ROR   $02,X
<a name="LDC6D">$DC6D</a>	76 03                    	ROR   $03,X
<a name="LDC6F">$DC6F</a>	76 04                    	ROR   $04,X
<a name="LDC71">$DC71</a>	6A                       	ROR
<a name="LDC72">$DC72</a>	C8                       	INY                                     	Repeat until correct number of
<a name="LDC73">$DC73</a>	D0 EC                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC61">$DC61</a>                             	bit shifts have taken place.
<a name="LDC75">$DC75</a>	18                       	CLC
<a name="LDC76">$DC76</a>	60                       	RTS                                     	Exit.
<a name="LDC77">$DC77</a>	82 13 5D 8D DE           	BYT   $82,$13,$5D,$8D,$DE               	LN(10) F1oating point numbers for use
<a name="LDC7C">$DC7C</a>	82 49 0F DA 9E           	BYT   $82,$49,$0F,$DA,$9E               	PI by numeric functions.
<a name="LDC81">$DC81</a>	81 00 00 00 00           	BYT   $81,$00,$00,$00,$00               	1.0
<a name="LDC86">$DC86</a>	03                       	BYT   $03
<a name="LDC87">$DC87</a>	7F 5E 56 CB 79           	BYT   $7F,$5E,$56,$CB,$79               	Data for the Log series.
<a name="LDC8C">$DC8C</a>	80 13 9B 0B 64           	BYT   $80,$13,$9B,$0B,$64
<a name="LDC91">$DC91</a>	80 76 38 93 16           	BYT   $80,$76,$38,$93,$16
<a name="LDC96">$DC96</a>	82 38 AA 3B 20           	BYT   $82,$38,$AA,$3B,$20
<a name="LDC9B">$DC9B</a>	80 35 04 F3 34           	BYT   $80,$35,$04,$F3,$34               	SQR(.5) More floating point numbers.
<a name="LDCA0">$DCA0</a>	81 35 04 F3 34           	BYT   $81,$35,$04,$F3,$34               	SQR(2)
<a name="LDCA5">$DCA5</a>	80 80 00 00 00           	BYT   $80,$80,$00,$00,$00               	-0.5
<a name="LDCAA">$DCAA</a>	80 31 72 17 F8           	BYT   $80,$31,$72,$17,$F8               	LN(2)

LN
<a name="LDCAF">$DCAF</a>	20 13 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF13">$DF13</a>                             	LN  Test main FPA.
<a name="LDCB2">$DCB2</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCB6">$DCB6</a>                             	Give error if zero.
<a name="LDCB4">$DCB4</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCB9">$DCB9</a>                             	Give error if negative.
<a name="LDCB6">$DCB6</a>	4C 36 D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD336">$D336</a>                             	Print "ILLEGAL QUANTITY ERR.".
<a name="LDCB9">$DCB9</a>	A5 D0                    	LDA   $D0
<a name="LDCBB">$DCBB</a>	E9 7F                    	SBC   #$7F
<a name="LDCBD">$DCBD</a>	48                       	PHA                                     	Save signed binary exponent.
<a name="LDCBE">$DCBE</a>	A9 80                    	LDA   #$80                              	Set exponent to +0.
<a name="LDCC0">$DCC0</a>	85 D0                    	STA   $D0
<a name="LDCC2">$DCC2</a>	A9 9B                    	LDA   #$9B
<a name="LDCC4">$DCC4</a>	A0 DC                    	LDY   #$DC
<a name="LDCC6">$DCC6</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	Add SQR(.5) to number.
<a name="LDCC9">$DCC9</a>	A9 A0                    	LDA   #$A0
<a name="LDCCB">$DCCB</a>	A0 DC                    	LDY   #$DC
<a name="LDCCD">$DCCD</a>	20 E4 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDE4">$DDE4</a>                             	Divide number into SQR(2).
<a name="LDCD0">$DCD0</a>	A9 81                    	LDA   #$81
<a name="LDCD2">$DCD2</a>	A0 DC                    	LDY   #$DC
<a name="LDCD4">$DCD4</a>	20 0B DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB0B">$DB0B</a>                             	Subtract from 1.
<a name="LDCD7">$DCD7</a>	A9 86                    	LDA   #$86
<a name="LDCD9">$DCD9</a>	A0 DC                    	LDY   #$DC
<a name="LDCDB">$DCDB</a>	20 FD E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2FD">$E2FD</a>                             	Evaluate LN series.
<a name="LDCDE">$DCDE</a>	A9 A5                    	LDA   #$A5
<a name="LDCE0">$DCE0</a>	A0 DC                    	LDY   #$DC
<a name="LDCE2">$DCE2</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	Add -0.5.
<a name="LDCE5">$DCE5</a>	68                       	PLA                                     	Get exponent.
<a name="LDCE6">$DCE6</a>	20 76 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE076">$E076</a>                             	Add A to main FPA.
<a name="LDCE9">$DCE9</a>	A9 AA                    	LDA   #$AA
<a name="LDCEB">$DCEB</a>	A0 DC                    	LDY   #$DC                              	Point A, Y to LN(2).
<a name="LDCED">$DCED</a>	20 51 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD51">$DD51</a>                             	Unpack work FPA.
<a name="LDCF0">$DCF0</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCF5">$DCF5</a>                             	* OPERATOR
<a name="LDCF2">$DCF2</a>	4C 50 DD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD50">$DD50</a>                             	Exit if work FPA is zero.
<a name="LDCF5">$DCF5</a>	20 7C DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD7C">$DD7C</a>                             	Check &amp; set up exponents.
<a name="LDCF8">$DCF8</a>	A9 00                    	LDA   #$00                              	Clear work area.
<a name="LDCFA">$DCFA</a>	85 95                    	STA   $95
<a name="LDCFC">$DCFC</a>	85 96                    	STA   $96
<a name="LDCFE">$DCFE</a>	85 97                    	STA   $97
<a name="LDD00">$DD00</a>	85 98                    	STA   $98
<a name="LDD02">$DD02</a>	A5 DF                    	LDA   $DF                               	Multiply using rounding byte.
<a name="LDD04">$DD04</a>	20 1E DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD1E">$DD1E</a>
<a name="LDD07">$DD07</a>	A5 D4                    	LDA   $D4                               	Multiply using LSB of
<a name="LDD09">$DD09</a>	20 1E DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD1E">$DD1E</a>                             	mantissa.
<a name="LDD0C">$DD0C</a>	A5 D3                    	LDA   $D3                               	Multiply using next LSB of
<a name="LDD0E">$DD0E</a>	20 1E DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD1E">$DD1E</a>                             	mantissa.
<a name="LDD11">$DD11</a>	A5 D2                    	LDA   $D2                               	Multiply using next LSB of
<a name="LDD13">$DD13</a>	20 1E DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD1E">$DD1E</a>                             	mantissa.
<a name="LDD16">$DD16</a>	A5 D1                    	LDA   $D1                               	Multiply using MSB of the
<a name="LDD18">$DD18</a>	20 23 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD23">$DD23</a>                             	mantissa.
<a name="LDD1B">$DD1B</a>	4C 64 DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE64">$DE64</a>                             	Transfer to main FPA &amp; exit.
<a name="LDD1E">$DD1E</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD23">$DD23</a>                             	If byte is zero then shift up
<a name="LDD20">$DD20</a>	4C 3E DC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC3E">$DC3E</a>                             	work area by 8 bits.
<a name="LDD23">$DD23</a>	4A                       	LSR                                     	Set dummy bit to keep shifting
<a name="LDD24">$DD24</a>	09 80                    	ORA   #$80
<a name="LDD26">$DD26</a>	A8                       	TAY                                     	Save control byte.
<a name="LDD27">$DD27</a>	90 19                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD42">$DD42</a>
<a name="LDD29">$DD29</a>	18                       	CLC
<a name="LDD2A">$DD2A</a>	A5 98                    	LDA   $98
<a name="LDD2C">$DD2C</a>	65 DC                    	ADC   $DC                               	Add LSBs.
<a name="LDD2E">$DD2E</a>	85 98                    	STA   $98
<a name="LDD30">$DD30</a>	A5 97                    	LDA   $97                               	Do next LSBs.
<a name="LDD32">$DD32</a>	65 DB                    	ADC   $DB
<a name="LDD34">$DD34</a>	85 97                    	STA   $97
<a name="LDD36">$DD36</a>	A5 96                    	LDA   $96                               	Do next LSBs.
<a name="LDD38">$DD38</a>	65 DA                    	ADC   $DA
<a name="LDD3A">$DD3A</a>	85 96                    	STA   $96
<a name="LDD3C">$DD3C</a>	A5 95                    	LDA   $95                               	Do MSBs.
<a name="LDD3E">$DD3E</a>	65 D9                    	ADC   $D9
<a name="LDD40">$DD40</a>	85 95                    	STA   $95
<a name="LDD42">$DD42</a>	66 95                    	ROR   $95                               	Shift work area down by 1 bit.
<a name="LDD44">$DD44</a>	66 96                    	ROR   $96
<a name="LDD46">$DD46</a>	66 97                    	ROR   $97
<a name="LDD48">$DD48</a>	66 98                    	ROR   $98
<a name="LDD4A">$DD4A</a>	66 DF                    	ROR   $DF
<a name="LDD4C">$DD4C</a>	98                       	TYA                                     	Restore control byte and shift
<a name="LDD4D">$DD4D</a>	4A                       	LSR                                     	out 1 bit.
<a name="LDD4E">$DD4E</a>	D0 D6                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD26">$DD26</a>                             	Loop again if not finished.
<a name="LDD50">$DD50</a>	60                       	RTS

UNPACKFPA
<a name="LDD51">$DD51</a>	85 91                    	STA   $91                               	UNPACK WORK FPA FROM MEMORY
<a name="LDD53">$DD53</a>	84 92                    	STY   $92                               	Save pointer to variable.
<a name="LDD55">$DD55</a>	A0 04                    	LDY   #$04
<a name="LDD57">$DD57</a>	B1 91                    	LDA   ($91),Y                           	Set up LSB.
<a name="LDD59">$DD59</a>	85 DC                    	STA   $DC
<a name="LDD5B">$DD5B</a>	88                       	DEY
<a name="LDD5C">$DD5C</a>	B1 91                    	LDA   ($91),Y                           	Set up next LSB.
<a name="LDD5E">$DD5E</a>	85 DB                    	STA   $DB
<a name="LDD60">$DD60</a>	88                       	DEY
<a name="LDD61">$DD61</a>	B1 91                    	LDA   ($91),Y                           	Set up next LSB.
<a name="LDD63">$DD63</a>	85 DA                    	STA   $DA
<a name="LDD65">$DD65</a>	88                       	DEY
<a name="LDD66">$DD66</a>	B1 91                    	LDA   ($91),Y                           	Set up sign byte.
<a name="LDD68">$DD68</a>	85 DD                    	STA   $DD
<a name="LDD6A">$DD6A</a>	45 D5                    	EOR   $D5
<a name="LDD6C">$DD6C</a>	85 DE                    	STA   $DE                               	Set sign difference byte.
<a name="LDD6E">$DD6E</a>	A5 DD                    	LDA   $DD
<a name="LDD70">$DD70</a>	09 80                    	ORA   #$80
<a name="LDD72">$DD72</a>	85 D9                    	STA   $D9                               	Set up MSB.
<a name="LDD74">$DD74</a>	88                       	DEY
<a name="LDD75">$DD75</a>	B1 91                    	LDA   ($91),Y                           	Set up exponent.
<a name="LDD77">$DD77</a>	85 D8                    	STA   $D8
<a name="LDD79">$DD79</a>	A5 D0                    	LDA   $D0                               	Get exponent of main FPA and
<a name="LDD7B">$DD7B</a>	60                       	RTS                                     	exit.
<a name="LDD7C">$DD7C</a>	A5 D8                    	LDA   $D8                               	Check &amp; set exponents for
<a name="LDD7E">$DD7E</a>	F0 1F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD9F">$DD9F</a>                             	If work FPA is zero then exit.
<a name="LDD80">$DD80</a>	18                       	CLC
<a name="LDD81">$DD81</a>	65 D0                    	ADC   $D0                               	Add other exponent byte.
<a name="LDD83">$DD83</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD89">$DD89</a>                             	Handle under/overflow.
<a name="LDD85">$DD85</a>	30 1D                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA4">$DDA4</a>
<a name="LDD87">$DD87</a>	18                       	CLC
<a name="LDD88">$DD88</a>	2C 10 14                 	BIT   $1410
<a name="LDD8B">$DD8B</a>	69 80                    	ADC   #$80                              	Set proper offset 80 format
<a name="LDD8D">$DD8D</a>	85 D0                    	STA   $D0                               	for exponent.
<a name="LDD8F">$DD8F</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD94">$DD94</a>                             	If exponent is zero then clear
<a name="LDD91">$DD91</a>	4C B6 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBB6">$DBB6</a>                             	Founding byte and exit.
<a name="LDD94">$DD94</a>	A5 DE                    	LDA   $DE                               	Set sign to sign difference
<a name="LDD96">$DD96</a>	85 D5                    	STA   $D5                               	byte.
<a name="LDD98">$DD98</a>	60                       	RTS
<a name="LDD99">$DD99</a>	A5 D5                    	LDA   $D5
<a name="LDD9B">$DD9B</a>	49 FF                    	EOR   #$FF                              	If non zero then give error.
<a name="LDD9D">$DD9D</a>	30 05                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA4">$DDA4</a>
<a name="LDD9F">$DD9F</a>	68                       	PLA                                     	Pull return address off stack.
<a name="LDDA0">$DDA0</a>	68                       	PLA
<a name="LDDA1">$DDA1</a>	4C B2 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBB2">$DBB2</a>                             	Set main FPA to 0 and exit.
<a name="LDDA4">$DDA4</a>	4C 39 DC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC39">$DC39</a>                             	Print "OVERFLOW ERROR".

FPAMULT10
<a name="LDDA7">$DDA7</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	MULTIPLY MAIN FPA BY 10
<a name="LDDAA">$DDAA</a>	AA                       	TAX                                     	Copy main FPA into work FPA.
<a name="LDDAB">$DDAB</a>	F0 10                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDBD">$DDBD</a>                             	Number is zero.
<a name="LDDAD">$DDAD</a>	18                       	CLC                                     	Multiply by 4 by adding 2 to
<a name="LDDAE">$DDAE</a>	69 02                    	ADC   #$02                              	the exponent.
<a name="LDDB0">$DDB0</a>	B0 F2                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA4">$DDA4</a>                             	Error if too large.
<a name="LDDB2">$DDB2</a>	A2 00                    	LDX   #$00
<a name="LDDB4">$DDB4</a>	86 DE                    	STX   $DE
<a name="LDDB6">$DDB6</a>	20 32 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB32">$DB32</a>                             	Add in original number.
<a name="LDDB9">$DDB9</a>	E6 D0                    	INC   $D0                               	Double result.
<a name="LDDBB">$DDBB</a>	F0 E7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA4">$DDA4</a>                             	Error if exponent too big.
<a name="LDDBD">$DDBD</a>	60                       	RTS
<a name="LDDBE">$DDBE</a>	84 20 00 00 00           	BYT   $84,$20,$00,$00,$00               	Floating point number - 10.

FPADIV10
<a name="LDDC3">$DDC3</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	DIVIDE MAIN FPA BY 10
<a name="LDDC6">$DDC6</a>	A9 BE                    	LDA   #$BE                              	Copy main FPA to work FPA.
<a name="LDDC8">$DDC8</a>	A0 DD                    	LDY   #$DD                              	Point to the number 10.
<a name="LDDCA">$DDCA</a>	A2 00                    	LDX   #$00
<a name="LDDCC">$DDCC</a>	86 DE                    	STX   $DE                               	Clear sign difference byte.
<a name="LDDCE">$DDCE</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	Unpack number pointed to.
<a name="LDDD1">$DDD1</a>	4C E7 DD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDE7">$DDE7</a>                             	Divide numbers.

LOG
<a name="LDDD4">$DDD4</a>	20 AF DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCAF">$DCAF</a>                             	LOG  Find LN of number.
<a name="LDDD7">$DDD7</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	Copy main FPA into work FPA.
<a name="LDDDA">$DDDA</a>	A9 77                    	LDA   #$77
<a name="LDDDC">$DDDC</a>	A0 DC                    	LDY   #$DC                              	Point to conversion factor.
<a name="LDDDE">$DDDE</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	Unpack number pointed to.
<a name="LDDE1">$DDE1</a>	4C E7 DD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDE7">$DDE7</a>                             	Divide to get correct result.
<a name="LDDE4">$DDE4</a>	20 51 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD51">$DD51</a>                             	Unpack work FPA from memory.
<a name="LDDE7">$DDE7</a>	F0 76                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE5F">$DE5F</a>                             	/ OPERATOR
<a name="LDDE9">$DDE9</a>	20 F4 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF4">$DEF4</a>                             	Round main FPA.
<a name="LDDEC">$DDEC</a>	A9 00                    	LDA   #$00                              	Negate exponent of main FPA.
<a name="LDDEE">$DDEE</a>	38                       	SEC
<a name="LDDEF">$DDEF</a>	E5 D0                    	SBC   $D0
<a name="LDDF1">$DDF1</a>	85 D0                    	STA   $D0
<a name="LDDF3">$DDF3</a>	20 7C DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD7C">$DD7C</a>                             	Check and set up exponents.
<a name="LDDF6">$DDF6</a>	E6 D0                    	INC   $D0                               	Adjust exponent.
<a name="LDDF8">$DDF8</a>	F0 AA                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA4">$DDA4</a>                             	Error if too big.
<a name="LDDFA">$DDFA</a>	A2 FC                    	LDX   #$FC                              	Loop count.
<a name="LDDFC">$DDFC</a>	A9 01                    	LDA   #$01                              	Terminator bit.
<a name="LDDFE">$DDFE</a>	A4 D9                    	LDY   $D9                               	Compare main mantissa with
<a name="LDE00">$DE00</a>	C4 D1                    	CPY   $D1                               	that of work FPA.
<a name="LDE02">$DE02</a>	D0 10                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE14">$DE14</a>
<a name="LDE04">$DE04</a>	A4 DA                    	LDY   $DA
<a name="LDE06">$DE06</a>	C4 D2                    	CPY   $D2
<a name="LDE08">$DE08</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE14">$DE14</a>
<a name="LDE0A">$DE0A</a>	A4 DB                    	LDY   $DB
<a name="LDE0C">$DE0C</a>	C4 D3                    	CPY   $D3
<a name="LDE0E">$DE0E</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE14">$DE14</a>
<a name="LDE10">$DE10</a>	A4 DC                    	LDY   $DC
<a name="LDE12">$DE12</a>	C4 D4                    	CPY   $D4
<a name="LDE14">$DE14</a>	08                       	PHP                                     	Save flags.
<a name="LDE15">$DE15</a>	2A                       	ROL                                     	If not finished then don't
<a name="LDE16">$DE16</a>	90 09                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE21">$DE21</a>                             	save it.
<a name="LDE18">$DE18</a>	E8                       	INX                                     	Save in workspace.
<a name="LDE19">$DE19</a>	95 98                    	STA   $98,X
<a name="LDE1B">$DE1B</a>	F0 32                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE4F">$DE4F</a>                             	Set terminator bit on last loop.
<a name="LDE1D">$DE1D</a>	10 34                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE53">$DE53</a>                             	Finished.
<a name="LDE1F">$DE1F</a>	A9 01                    	LDA   #$01                              	Set terminator bit.
<a name="LDE21">$DE21</a>	28                       	PLP                                     	Restore flags.
<a name="LDE22">$DE22</a>	B0 0E                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE32">$DE32</a>                             	Subtract if work &gt; main FPA.
<a name="LDE24">$DE24</a>	06 DC                    	ASL   $DC                               	Shift up mantissa of work FPA.
<a name="LDE26">$DE26</a>	26 DB                    	ROL   $DB
<a name="LDE28">$DE28</a>	26 DA                    	ROL   $DA
<a name="LDE2A">$DE2A</a>	26 D9                    	ROL   $D9                               	Do subtraction if bit has
<a name="LDE2C">$DE2C</a>	B0 E6                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE14">$DE14</a>                             	shifted out.
<a name="LDE2E">$DE2E</a>	30 CE                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDFE">$DDFE</a>                             	Do compare if top bit set.
<a name="LDE30">$DE30</a>	10 E2                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE14">$DE14</a>                             	Jump back.
<a name="LDE32">$DE32</a>	A8                       	TAY                                     	Save A.
<a name="LDE33">$DE33</a>	A5 DC                    	LDA   $DC                               	Subtract main FPA from work
<a name="LDE35">$DE35</a>	E5 D4                    	SBC   $D4                               	FPA.
<a name="LDE37">$DE37</a>	85 DC                    	STA   $DC
<a name="LDE39">$DE39</a>	A5 DB                    	LDA   $DB
<a name="LDE3B">$DE3B</a>	E5 D3                    	SBC   $D3
<a name="LDE3D">$DE3D</a>	85 DB                    	STA   $DB
<a name="LDE3F">$DE3F</a>	A5 DA                    	LDA   $DA
<a name="LDE41">$DE41</a>	E5 D2                    	SBC   $D2
<a name="LDE43">$DE43</a>	85 DA                    	STA   $DA
<a name="LDE45">$DE45</a>	A5 D9                    	LDA   $D9
<a name="LDE47">$DE47</a>	E5 D1                    	SBC   $D1
<a name="LDE49">$DE49</a>	85 D9                    	STA   $D9
<a name="LDE4B">$DE4B</a>	98                       	TYA                                     	Restore A.
<a name="LDE4C">$DE4C</a>	4C 24 DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE24">$DE24</a>                             	Jump back into loop.
<a name="LDE4F">$DE4F</a>	A9 40                    	LDA   #$40                              	Set terminator bit for final
<a name="LDE51">$DE51</a>	D0 CE                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE21">$DE21</a>                             	loop and jump back into loop.
<a name="LDE53">$DE53</a>	0A                       	ASL                                     	Get bits into top 2 bits of
<a name="LDE54">$DE54</a>	0A                       	ASL                                     	rounding byte.
<a name="LDE55">$DE55</a>	0A                       	ASL
<a name="LDE56">$DE56</a>	0A                       	ASL
<a name="LDE57">$DE57</a>	0A                       	ASL
<a name="LDE58">$DE58</a>	0A                       	ASL
<a name="LDE59">$DE59</a>	85 DF                    	STA   $DF                               	Store rounding byte.
<a name="LDE5B">$DE5B</a>	28                       	PLP                                     	Remove flag from stack and
<a name="LDE5C">$DE5C</a>	4C 64 DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE64">$DE64</a>                             	transfer result to main FPA.
<a name="LDE5F">$DE5F</a>	A2 85                    	LDX   #$85                              	Print "DIVISION BY ZERO
<a name="LDE61">$DE61</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	ERROR".
<a name="LDE64">$DE64</a>	A5 95                    	LDA   $95                               	Transfer work area into main
<a name="LDE66">$DE66</a>	85 D1                    	STA   $D1                               	FPA.
<a name="LDE68">$DE68</a>	A5 96                    	LDA   $96
<a name="LDE6A">$DE6A</a>	85 D2                    	STA   $D2
<a name="LDE6C">$DE6C</a>	A5 97                    	LDA   $97
<a name="LDE6E">$DE6E</a>	85 D3                    	STA   $D3
<a name="LDE70">$DE70</a>	A5 98                    	LDA   $98
<a name="LDE72">$DE72</a>	85 D4                    	STA   $D4
<a name="LDE74">$DE74</a>	4C 92 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB92">$DB92</a>                             	Normalise and exit.

PI
<a name="LDE77">$DE77</a>	A9 7C                    	LDA   #$7C                              	PI  Point A, Y
<a name="LDE79">$DE79</a>	A0 DC                    	LDY   #$DC                              	PI.
<a name="LDE7B">$DE7B</a>	85 91                    	STA   $91                               	UNPACK FP NUMBER POINTED TO BY
<a name="LDE7D">$DE7D</a>	84 92                    	STY   $92                               	A,Y
<a name="LDE7F">$DE7F</a>	A0 04                    	LDY   #$04
<a name="LDE81">$DE81</a>	B1 91                    	LDA   ($91),Y                           	Copy the bytes down from
<a name="LDE83">$DE83</a>	85 D4                    	STA   $D4                               	memory starting with the LSB
<a name="LDE85">$DE85</a>	88                       	DEY                                     	and finishing with the MSB.
<a name="LDE86">$DE86</a>	B1 91                    	LDA   ($91),Y
<a name="LDE88">$DE88</a>	85 D3                    	STA   $D3
<a name="LDE8A">$DE8A</a>	88                       	DEY
<a name="LDE8B">$DE8B</a>	B1 91                    	LDA   ($91),Y
<a name="LDE8D">$DE8D</a>	85 D2                    	STA   $D2
<a name="LDE8F">$DE8F</a>	88                       	DEY
<a name="LDE90">$DE90</a>	B1 91                    	LDA   ($91),Y                           	Set sign byte.
<a name="LDE92">$DE92</a>	85 D5                    	STA   $D5
<a name="LDE94">$DE94</a>	09 80                    	ORA   #$80
<a name="LDE96">$DE96</a>	85 D1                    	STA   $D1                               	Save MSB.
<a name="LDE98">$DE98</a>	88                       	DEY
<a name="LDE99">$DE99</a>	B1 91                    	LDA   ($91),Y                           	Get exponent.
<a name="LDE9B">$DE9B</a>	85 D0                    	STA   $D0
<a name="LDE9D">$DE9D</a>	84 DF                    	STY   $DF                               	Zero the rounding byte.
<a name="LDE9F">$DE9F</a>	60                       	RTS
<a name="LDEA0">$DEA0</a>	A2 CB                    	LDX   #$CB                              	Set X to save main FPA in temp
<a name="LDEA2">$DEA2</a>	2C A2 C6                 	BIT   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6A2">$C6A2</a>                             	locations. BIT hides LDX #$C6.
<a name="LDEA5">$DEA5</a>	A0 00                    	LDY   #$00                              	Set Y (MSB) and branch to main
<a name="LDEA7">$DEA7</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEAD">$DEAD</a>                             	main part of routine.
<a name="LDEA9">$DEA9</a>	A6 B8                    	LDX   $B8                               	Pack FPA into memory pointed
<a name="LDEAB">$DEAB</a>	A4 B9                    	LDY   $B9                               	to by X,Y.
<a name="LDEAD">$DEAD</a>	20 F4 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF4">$DEF4</a>                             	Round off main FPA.
<a name="LDEB0">$DEB0</a>	86 91                    	STX   $91                               	Save pointer.
<a name="LDEB2">$DEB2</a>	84 92                    	STY   $92
<a name="LDEB4">$DEB4</a>	A0 04                    	LDY   #$04
<a name="LDEB6">$DEB6</a>	A5 D4                    	LDA   $D4
<a name="LDEB8">$DEB8</a>	91 91                    	STA   ($91),Y                           	Store LSB of mantissa in
<a name="LDEBA">$DEBA</a>	88                       	DEY                                     	memory.
<a name="LDEBB">$DEBB</a>	A5 D3                    	LDA   $D3
<a name="LDEBD">$DEBD</a>	91 91                    	STA   ($91),Y                           	Store next LS6.
<a name="LDEBF">$DEBF</a>	88                       	DEY
<a name="LDEC0">$DEC0</a>	A5 D2                    	LDA   $D2
<a name="LDEC2">$DEC2</a>	91 91                    	STA   ($91),Y                           	Store next LSB.
<a name="LDEC4">$DEC4</a>	88                       	DEY
<a name="LDEC5">$DEC5</a>	A5 D5                    	LDA   $D5
<a name="LDEC7">$DEC7</a>	09 7F                    	ORA   #$7F
<a name="LDEC9">$DEC9</a>	25 D1                    	AND   $D1
<a name="LDECB">$DECB</a>	91 91                    	STA   ($91),Y                           	Save MSB with sign packed in.
<a name="LDECD">$DECD</a>	88                       	DEY
<a name="LDECE">$DECE</a>	A5 D0                    	LDA   $D0
<a name="LDED0">$DED0</a>	91 91                    	STA   ($91),Y                           	Save exponent.
<a name="LDED2">$DED2</a>	84 DF                    	STY   $DF
<a name="LDED4">$DED4</a>	60                       	RTS
<a name="LDED5">$DED5</a>	A5 DD                    	LDA   $DD                               	Copy work FPA into main FPA.
<a name="LDED7">$DED7</a>	85 D5                    	STA   $D5                               	Transfer sign byte.
<a name="LDED9">$DED9</a>	A2 05                    	LDX   #$05
<a name="LDEDB">$DEDB</a>	B5 D7                    	LDA   $D7,X                             	Transfer number.
<a name="LDEDD">$DEDD</a>	95 CF                    	STA   $CF,X
<a name="LDEDF">$DEDF</a>	CA                       	DEX
<a name="LDEE0">$DEE0</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEDB">$DEDB</a>
<a name="LDEE2">$DEE2</a>	86 DF                    	STX   $DF                               	Set Founding byte.
<a name="LDEE4">$DEE4</a>	60                       	RTS
<a name="LDEE5">$DEE5</a>	20 F4 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF4">$DEF4</a>                             	Copy main FPA into work FPA.
<a name="LDEE8">$DEE8</a>	A2 06                    	LDX   #$06
<a name="LDEEA">$DEEA</a>	B5 CF                    	LDA   $CF,X                             	Transfer bytes including the
<a name="LDEEC">$DEEC</a>	95 D7                    	STA   $D7,X                             	sign byte.
<a name="LDEEE">$DEEE</a>	CA                       	DEX
<a name="LDEEF">$DEEF</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEEA">$DEEA</a>
<a name="LDEF1">$DEF1</a>	86 DF                    	STX   $DF                               	Set rounding byte.
<a name="LDEF3">$DEF3</a>	60                       	RTS

ROUNDFPA
<a name="LDEF4">$DEF4</a>	A5 D0                    	LDA   $D0                               	ROUND OFF MAIN FPA
<a name="LDEF6">$DEF6</a>	F0 FB                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF3">$DEF3</a>                             	Exit if it is zero.
<a name="LDEF8">$DEF8</a>	06 DF                    	ASL   $DF                               	Exit if rounding byte is less
<a name="LDEFA">$DEFA</a>	90 F7                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF3">$DEF3</a>                             	than half.
<a name="LDEFC">$DEFC</a>	20 2A DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC2A">$DC2A</a>                             	Increment mantissa.
<a name="LDEFF">$DEFF</a>	D0 F2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEF3">$DEF3</a>                             	Exit if okay otherwise jump to
<a name="LDF01">$DF01</a>	4C F3 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBF3">$DBF3</a>                             	adjust exponent and mantissa.
<a name="LDF04">$DF04</a>	20 A9 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD2A9">$D2A9</a>                             	Convert main FPA to integer.
<a name="LDF07">$DF07</a>	46 D4                    	LSR   $D4                               	Go to TRUE/FALSE according to
<a name="LDF09">$DF09</a>	B0 04                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF0F">$DF0F</a>                             	lowest bit.

FALSE
<a name="LDF0B">$DF0B</a>	A9 00                    	LDA   #$00                              	FALSE
<a name="LDF0D">$DF0D</a>	F0 15                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF24">$DF24</a>                             	Set main FPA to 0.

TRUE
<a name="LDF0F">$DF0F</a>	A9 FF                    	LDA   #$FF                              	TRUE
<a name="LDF11">$DF11</a>	30 11                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF24">$DF24</a>                             	Set main FPA to -1

GETSIGN
<a name="LDF13">$DF13</a>	A5 D0                    	LDA   $D0                               	GET SIGN OF MAIN FPA
<a name="LDF15">$DF15</a>	F0 09                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF20">$DF20</a>
<a name="LDF17">$DF17</a>	A5 D5                    	LDA   $D5                               	A=0 if FPA is 0.
<a name="LDF19">$DF19</a>	2A                       	ROL                                     	A=l if FPA is +ve.
<a name="LDF1A">$DF1A</a>	A9 FF                    	LDA   #$FF                              	A=#FF if FPA is -ve.
<a name="LDF1C">$DF1C</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF20">$DF20</a>
<a name="LDF1E">$DF1E</a>	A9 01                    	LDA   #$01
<a name="LDF20">$DF20</a>	60                       	RTS

SGN
<a name="LDF21">$DF21</a>	20 13 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF13">$DF13</a>                             	SGN  Get sign into A.
<a name="LDF24">$DF24</a>	85 D1                    	STA   $D1                               	Set main FPA to signed single
<a name="LDF26">$DF26</a>	A9 00                    	LDA   #$00                              	byte in A.
<a name="LDF28">$DF28</a>	85 D2                    	STA   $D2
<a name="LDF2A">$DF2A</a>	A2 88                    	LDX   #$88
<a name="LDF2C">$DF2C</a>	A5 D1                    	LDA   $D1
<a name="LDF2E">$DF2E</a>	49 FF                    	EOR   #$FF
<a name="LDF30">$DF30</a>	2A                       	ROL
<a name="LDF31">$DF31</a>	A9 00                    	LDA   #$00                              	Clear low 2 bytes of mantissa
<a name="LDF33">$DF33</a>	85 D4                    	STA   $D4
<a name="LDF35">$DF35</a>	85 D3                    	STA   $D3
<a name="LDF37">$DF37</a>	86 D0                    	STX   $D0                               	Set exponent to X.
<a name="LDF39">$DF39</a>	85 DF                    	STA   $DF                               	Clear sign and rounding bytes.
<a name="LDF3B">$DF3B</a>	85 D5                    	STA   $D5
<a name="LDF3D">$DF3D</a>	4C 8D DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB8D">$DB8D</a>                             	Normalise FPA and exit.
<a name="LDF40">$DF40</a>	85 D1                    	STA   $D1                               	Convert 2 byte integer in A
<a name="LDF42">$DF42</a>	84 D2                    	STY   $D2                               	(MSB) and Y (LSB) into
<a name="LDF44">$DF44</a>	A2 90                    	LDX   #$90                              	floating point number.
<a name="LDF46">$DF46</a>	38                       	SEC                                     	Jump to clear and normalise
<a name="LDF47">$DF47</a>	B0 E8                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF31">$DF31</a>                             	rest of main FPA.
<a name="LDF49">$DF49</a>	46 D5                    	LSR   $D5                               	ABS  Clear sign bit of main
<a name="LDF4B">$DF4B</a>	60                       	RTS                                     	FPA and exit.

COMPAREFPA
<a name="LDF4C">$DF4C</a>	85 93                    	STA   $93                               	COMPARE MAIN FPA WITH NUMBER
<a name="LDF4E">$DF4E</a>	84 94                    	STY   $94                               	IN MEMORY
<a name="LDF50">$DF50</a>	A0 00                    	LDY   #$00                              	Set pointer.
<a name="LDF52">$DF52</a>	B1 93                    	LDA   ($93),Y                           	Get exponent.
<a name="LDF54">$DF54</a>	C8                       	INY
<a name="LDF55">$DF55</a>	AA                       	TAX
<a name="LDF56">$DF56</a>	F0 BB                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF13">$DF13</a>                             	If zero just test FPA.
<a name="LDF58">$DF58</a>	B1 93                    	LDA   ($93),Y
<a name="LDF5A">$DF5A</a>	45 D5                    	EOR   $D5                               	If signs are different then
<a name="LDF5C">$DF5C</a>	30 B9                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF17">$DF17</a>                             	just test FPA.
<a name="LDF5E">$DF5E</a>	E4 D0                    	CPX   $D0                               	If exponents not different
<a name="LDF60">$DF60</a>	D0 21                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF83">$DF83</a>                             	then adjust for signs &amp; exit.
<a name="LDF62">$DF62</a>	B1 93                    	LDA   ($93),Y
<a name="LDF64">$DF64</a>	09 80                    	ORA   #$80
<a name="LDF66">$DF66</a>	C5 D1                    	CMP   $D1                               	Test MSB of mantissa.
<a name="LDF68">$DF68</a>	D0 19                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF83">$DF83</a>
<a name="LDF6A">$DF6A</a>	C8                       	INY                                     	If MSB are equal then test the
<a name="LDF6B">$DF6B</a>	B1 93                    	LDA   ($93),Y                           	next MSBs and so on until the
<a name="LDF6D">$DF6D</a>	C5 D2                    	CMP   $D2                               	LSBs are reached.
<a name="LDF6F">$DF6F</a>	D0 12                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF83">$DF83</a>
<a name="LDF71">$DF71</a>	C8                       	INY
<a name="LDF72">$DF72</a>	B1 93                    	LDA   ($93),Y
<a name="LDF74">$DF74</a>	C5 D3                    	CMP   $D3
<a name="LDF76">$DF76</a>	D0 0B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF83">$DF83</a>
<a name="LDF78">$DF78</a>	C8                       	INY
<a name="LDF79">$DF79</a>	A9 7F                    	LDA   #$7F                              	Test LSBs allowing for
<a name="LDF7B">$DF7B</a>	C5 DF                    	CMP   $DF                               	rounding.
<a name="LDF7D">$DF7D</a>	B1 93                    	LDA   ($93),Y
<a name="LDF7F">$DF7F</a>	E5 D4                    	SBC   $D4
<a name="LDF81">$DF81</a>	F0 28                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFAB">$DFAB</a>
<a name="LDF83">$DF83</a>	A5 D5                    	LDA   $D5                               	Get sign byte, inverting if
<a name="LDF85">$DF85</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF89">$DF89</a>                             	FPA &lt; memory.
<a name="LDF87">$DF87</a>	49 FF                    	EOR   #$FF
<a name="LDF89">$DF89</a>	4C 19 DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF19">$DF19</a>                             	Set A accordingly.

FPA2INT
<a name="LDF8C">$DF8C</a>	A5 D0                    	LDA   $D0                               	CONVERT MAIN FPA TO INTEGER
<a name="LDF8E">$DF8E</a>	F0 4A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFDA">$DFDA</a>                             	Number is zero.
<a name="LDF90">$DF90</a>	38                       	SEC                                     	Calculate number of shifts to
<a name="LDF91">$DF91</a>	E9 A0                    	SBC   #$A0                              	the left to do.
<a name="LDF93">$DF93</a>	24 D5                    	BIT   $D5                               	Test sign of mantissa.
<a name="LDF95">$DF95</a>	10 09                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFA0">$DFA0</a>                             	Sign is positive.
<a name="LDF97">$DF97</a>	AA                       	TAX
<a name="LDF98">$DF98</a>	A9 FF                    	LDA   #$FF
<a name="LDF9A">$DF9A</a>	85 D7                    	STA   $D7                               	Invert sign extend byte and
<a name="LDF9C">$DF9C</a>	20 08 DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC08">$DC08</a>                             	content of mantissa.
<a name="LDF9F">$DF9F</a>	8A                       	TXA
<a name="LDFA0">$DFA0</a>	A2 D0                    	LDX   #$D0
<a name="LDFA2">$DFA2</a>	C9 F9                    	CMP   #$F9                              	If more than 7 bits of shift
<a name="LDFA4">$DFA4</a>	10 06                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFAC">$DFAC</a>                             	are needed then call routine
<a name="LDFA6">$DFA6</a>	20 54 DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC54">$DC54</a>                             	to shift it.
<a name="LDFA9">$DFA9</a>	84 D7                    	STY   $D7                               	Clear sign extend byte.
<a name="LDFAB">$DFAB</a>	60                       	RTS                                     	Exit.
<a name="LDFAC">$DFAC</a>	A8                       	TAY
<a name="LDFAD">$DFAD</a>	A5 D5                    	LDA   $D5                               	Shift mantissa as required.
<a name="LDFAF">$DFAF</a>	29 80                    	AND   #$80
<a name="LDFB1">$DFB1</a>	46 D1                    	LSR   $D1
<a name="LDFB3">$DFB3</a>	05 D1                    	ORA   $D1
<a name="LDFB5">$DFB5</a>	85 D1                    	STA   $D1
<a name="LDFB7">$DFB7</a>	20 6B DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC6B">$DC6B</a>                             	Perform shift.
<a name="LDFBA">$DFBA</a>	84 D7                    	STY   $D7                               	Clear sign extend byte.
<a name="LDFBC">$DFBC</a>	60                       	RTS

INT
<a name="LDFBD">$DFBD</a>	A5 D0                    	LDA   $D0                               	INT
<a name="LDFBF">$DFBF</a>	C9 A0                    	CMP   #$A0                              	If number is over 2A32 then it
<a name="LDFC1">$DFC1</a>	B0 20                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFE3">$DFE3</a>                             	is integer already.
<a name="LDFC3">$DFC3</a>	20 8C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF8C">$DF8C</a>                             	Convert to integer.
<a name="LDFC6">$DFC6</a>	84 DF                    	STY   $DF                               	Zero sign and rounding bytes.
<a name="LDFC8">$DFC8</a>	A5 D5                    	LDA   $D5
<a name="LDFCA">$DFCA</a>	84 D5                    	STY   $D5
<a name="LDFCC">$DFCC</a>	49 80                    	EOR   #$80
<a name="LDFCE">$DFCE</a>	2A                       	ROL                                     	Set carry if positive.
<a name="LDFCF">$DFCF</a>	A9 A0                    	LDA   #$A0                              	Set exponent to 32.
<a name="LDFD1">$DFD1</a>	85 D0                    	STA   $D0
<a name="LDFD3">$DFD3</a>	A5 D4                    	LDA   $D4
<a name="LDFD5">$DFD5</a>	85 24                    	STA   $24
<a name="LDFD7">$DFD7</a>	4C 8D DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB8D">$DB8D</a>                             	Normalise and exit.
<a name="LDFDA">$DFDA</a>	85 D1                    	STA   $D1                               	Zero the mantissa of main FPA.
<a name="LDFDC">$DFDC</a>	85 D2                    	STA   $D2
<a name="LDFDE">$DFDE</a>	85 D3                    	STA   $D3
<a name="LDFE0">$DFE0</a>	85 D4                    	STA   $D4
<a name="LDFE2">$DFE2</a>	A8                       	TAY
<a name="LDFE3">$DFE3</a>	60                       	RTS                                     	Exit.
<a name="LDFE4">$DFE4</a>	4C 81 E9                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE981">$E981</a>                             	Get hex number.

GETNUMBER
<a name="LDFE7">$DFE7</a>	A0 00                    	LDY   #$00                              	GET NUMBER
<a name="LDFE9">$DFE9</a>	A2 0A                    	LDX   #$0A                              	Clear section of memory from
<a name="LDFEB">$DFEB</a>	94 CC                    	STY   $CC,X                             	$CC to $D6 inclusive.
<a name="LDFED">$DFED</a>	CA                       	DEX
<a name="LDFEE">$DFEE</a>	10 FB                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFEB">$DFEB</a>
<a name="LDFF0">$DFF0</a>	90 13                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE005">$E005</a>                             	If digit, skip special tests.
<a name="LDFF2">$DFF2</a>	C9 23                    	CMP   #$23
<a name="LDFF4">$DFF4</a>	F0 EE                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFE4">$DFE4</a>                             	"#" found, number is in hex.
<a name="LDFF6">$DFF6</a>	C9 2D                    	CMP   #$2D
<a name="LDFF8">$DFF8</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFFE">$DFFE</a>                             	No "-" sign before number.
<a name="LDFFA">$DFFA</a>	86 D6                    	STX   $D6                               	Set sign to #FF If -ve.
<a name="LDFFC">$DFFC</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE002">$E002</a>
<a name="LDFFE">$DFFE</a>	C9 2B                    	CMP   #$2B
<a name="LE000">$E000</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE007">$E007</a>                             	No "+" sign before number.
<a name="LE002">$E002</a>	20 E2 00                 	JSR   $00E2                             	Get next character.
<a name="LE005">$E005</a>	90 5B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE062">$E062</a>                             	If digit, then add it in.
<a name="LE007">$E007</a>	C9 2E                    	CMP   #$2E
<a name="LE009">$E009</a>	F0 2E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE039">$E039</a>                             	Character is ".".
<a name="LE00B">$E00B</a>	C9 45                    	CMP   #$45
<a name="LE00D">$E00D</a>	D0 30                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE03F">$E03F</a>                             	No "E" for exponent.
<a name="LE00F">$E00F</a>	20 E2 00                 	JSR   $00E2                             	Get next character.
<a name="LE012">$E012</a>	90 17                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE02B">$E02B</a>                             	Character is a digit.
<a name="LE014">$E014</a>	C9 CD                    	CMP   #$CD
<a name="LE016">$E016</a>	F0 0E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE026">$E026</a>                             	Character is a "-" token.
<a name="LE018">$E018</a>	C9 2D                    	CMP   #$2D
<a name="LE01A">$E01A</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE026">$E026</a>                             	Character is "-".
<a name="LE01C">$E01C</a>	C9 CC                    	CMP   #$CC
<a name="LE01E">$E01E</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE028">$E028</a>                             	Character is a "+" token.
<a name="LE020">$E020</a>	C9 2B                    	CMP   #$2B
<a name="LE022">$E022</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE028">$E028</a>                             	Character is "+".
<a name="LE024">$E024</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE02D">$E02D</a>
<a name="LE026">$E026</a>	66 CF                    	ROR   $CF                               	Set negative exponent.
<a name="LE028">$E028</a>	20 E2 00                 	JSR   $00E2                             	Get next char.
<a name="LE02B">$E02B</a>	90 5C                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE089">$E089</a>                             	If digit, then add it in.
<a name="LE02D">$E02D</a>	24 CF                    	BIT   $CF
<a name="LE02F">$E02F</a>	10 0E                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE03F">$E03F</a>                             	Exponent is positive.
<a name="LE031">$E031</a>	A9 00                    	LDA   #$00
<a name="LE033">$E033</a>	38                       	SEC                                     	Negate exponent.
<a name="LE034">$E034</a>	E5 CD                    	SBC   $CD
<a name="LE036">$E036</a>	4C 41 E0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE041">$E041</a>                             	Finish off.
<a name="LE039">$E039</a>	66 CE                    	ROR   $CE                               	Set decimal point flag.
<a name="LE03B">$E03B</a>	24 CE                    	BIT   $CE                               	Loop around again if D.P. not
<a name="LE03D">$E03D</a>	50 C3                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE002">$E002</a>                             	already set.
<a name="LE03F">$E03F</a>	A5 CD                    	LDA   $CD
<a name="LE041">$E041</a>	38                       	SEC                                     	Decrement exponent &amp; subtract
<a name="LE042">$E042</a>	E5 CC                    	SBC   $CC                               	number of digits after D.P.
<a name="LE044">$E044</a>	85 CD                    	STA   $CD                               	Save total exponent.
<a name="LE046">$E046</a>	F0 12                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE05A">$E05A</a>                             	Exponent is positive.
<a name="LE048">$E048</a>	10 09                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE053">$E053</a>
<a name="LE04A">$E04A</a>	20 C3 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDC3">$DDC3</a>                             	Divide main FPA by 10, total
<a name="LE04D">$E04D</a>	E6 CD                    	INC   $CD                               	exponent negative.
<a name="LE04F">$E04F</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE04A">$E04A</a>
<a name="LE051">$E051</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE05A">$E05A</a>
<a name="LE053">$E053</a>	20 A7 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA7">$DDA7</a>                             	Multiply main FPA by 10, total
<a name="LE056">$E056</a>	C6 CD                    	DEC   $CD                               	exponent positive.
<a name="LE058">$E058</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE053">$E053</a>
<a name="LE05A">$E05A</a>	A5 D6                    	LDA   $D6                               	Negate if necessary and exit.
<a name="LE05C">$E05C</a>	30 01                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE05F">$E05F</a>
<a name="LE05E">$E05E</a>	60                       	RTS
<a name="LE05F">$E05F</a>	4C 71 E2                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE271">$E271</a>                             	Negate main FPA.
<a name="LE062">$E062</a>	48                       	PHA                                     	Save digit.
<a name="LE063">$E063</a>	24 CE                    	BIT   $CE                               	If char after D.P. then
<a name="LE065">$E065</a>	10 02                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE069">$E069</a>                             	increment decimal positions
<a name="LE067">$E067</a>	E6 CC                    	INC   $CC                               	counter.
<a name="LE069">$E069</a>	20 A7 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA7">$DDA7</a>                             	Multiply main FPA by 10.
<a name="LE06C">$E06C</a>	68                       	PLA                                     	Restore digit and reduce to
<a name="LE06D">$E06D</a>	38                       	SEC                                     	decimal digit.
<a name="LE06E">$E06E</a>	E9 30                    	SBC   #$30
<a name="LE070">$E070</a>	20 76 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE076">$E076</a>                             	Add digit into FPA.
<a name="LE073">$E073</a>	4C 02 E0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE002">$E002</a>                             	Jump back for more.

ADDTOFPA
<a name="LE076">$E076</a>	48                       	PHA                                     	ADD BYTE IN A TO MAIN FPA
<a name="LE077">$E077</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	Save byte and copy main FPA
<a name="LE07A">$E07A</a>	68                       	PLA                                     	into work FPA. Restore byte.
<a name="LE07B">$E07B</a>	20 24 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF24">$DF24</a>                             	Set main FPA to signed byte
<a name="LE07E">$E07E</a>	A5 DD                    	LDA   $DD                               	in A.
<a name="LE080">$E080</a>	45 D5                    	EOR   $D5
<a name="LE082">$E082</a>	85 DE                    	STA   $DE                               	Set sign difference flag.
<a name="LE084">$E084</a>	A6 D0                    	LDX   $D0
<a name="LE086">$E086</a>	4C 25 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB25">$DB25</a>                             	Add the 2 FPAs and exit.
<a name="LE089">$E089</a>	A5 CD                    	LDA   $CD                               	Deal with digit after E.
<a name="LE08B">$E08B</a>	C9 0A                    	CMP   #$0A                              	Test if exponent is &lt; 10.
<a name="LE08D">$E08D</a>	90 09                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE098">$E098</a>                             	Add in second digit.
<a name="LE08F">$E08F</a>	A9 64                    	LDA   #$64                              	Set underflow if negative
<a name="LE091">$E091</a>	24 CF                    	BIT   $CF                               	exponent by using E-100.
<a name="LE093">$E093</a>	30 11                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0A6">$E0A6</a>
<a name="LE095">$E095</a>	4C 39 DC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC39">$DC39</a>                             	Print "OVERFLOW ERROR".
<a name="LE098">$E098</a>	0A                       	ASL                                     	Multiply exponent by 10.
<a name="LE099">$E099</a>	0A                       	ASL
<a name="LE09A">$E09A</a>	18                       	CLC
<a name="LE09B">$E09B</a>	65 CD                    	ADC   $CD
<a name="LE09D">$E09D</a>	0A                       	ASL
<a name="LE09E">$E09E</a>	18                       	CLC
<a name="LE09F">$E09F</a>	A0 00                    	LDY   #$00
<a name="LE0A1">$E0A1</a>	71 E9                    	ADC   ($E9),Y                           	Add next digit to exponent.
<a name="LE0A3">$E0A3</a>	38                       	SEC
<a name="LE0A4">$E0A4</a>	E9 30                    	SBC   #$30                              	Reduce to decimal range.
<a name="LE0A6">$E0A6</a>	85 CD                    	STA   $CD
<a name="LE0A8">$E0A8</a>	4C 28 E0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE028">$E028</a>                             	Go round for next digit.
<a name="LE0AB">$E0AB</a>	9B 3E BC 1F FD           	BYT   $9B,$3E,$BC,$1F,$FD               	1E8 List of floating point
<a name="LE0B0">$E0B0</a>	9E 6E 6B 27 FD           	BYT   $9E,$6E,$6B,$27,$FD               	9.99999E8 numbers for converting a
<a name="LE0B5">$E0B5</a>	9E 6E 6B 28 00           	BYT   $9E,$6E,$6B,$28,$00               	1E9 number to string.
<a name="LE0BA">$E0BA</a>	A9 AD                    	LDA   #$AD                              	Print "IN" &lt;line number&gt;.
<a name="LE0BC">$E0BC</a>	A0 C3                    	LDY   #$C3
<a name="LE0BE">$E0BE</a>	20 D2 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0D2">$E0D2</a>                             	Print "IN".
<a name="LE0C1">$E0C1</a>	A5 A9                    	LDA   $A9                               	Get number into A,X.
<a name="LE0C3">$E0C3</a>	A6 A8                    	LDX   $A8

PRINTINT
<a name="LE0C5">$E0C5</a>	85 D1                    	STA   $D1                               	PRINT INTEGER IN A,X
<a name="LE0C7">$E0C7</a>	86 D2                    	STX   $D2                               	Save integer in mantissa of
<a name="LE0C9">$E0C9</a>	A2 90                    	LDX   #$90                              	main FPA. Set exponent to 16.
<a name="LE0CB">$E0CB</a>	38                       	SEC                                     	Set sign to positive.
<a name="LE0CC">$E0CC</a>	20 31 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF31">$DF31</a>                             	Normalise main FPA.
<a name="LE0CF">$E0CF</a>	20 D5 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0D5">$E0D5</a>                             	Convert number to a string.
<a name="LE0D2">$E0D2</a>	4C B0 CC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>                             	Print out number.
<a name="LE0D5">$E0D5</a>	A0 01                    	LDY   #$01                              	CONVERT NUMBER TO STRING
<a name="LE0D7">$E0D7</a>	A9 20                    	LDA   #$20
<a name="LE0D9">$E0D9</a>	24 D5                    	BIT   $D5                               	Use space if positive or "-"
<a name="LE0DB">$E0DB</a>	10 02                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0DF">$E0DF</a>                             	if negative.
<a name="LE0DD">$E0DD</a>	A9 2D                    	LDA   #$2D
<a name="LE0DF">$E0DF</a>	99 FF 00                 	STA   $00FF,Y                           	Write char to string.
<a name="LE0E2">$E0E2</a>	85 D5                    	STA   $D5                               	Number now positive.
<a name="LE0E4">$E0E4</a>	84 E0                    	STY   $E0                               	Save pointer.
<a name="LE0E6">$E0E6</a>	C8                       	INY
<a name="LE0E7">$E0E7</a>	A9 30                    	LDA   #$30                              	Set A to "0".
<a name="LE0E9">$E0E9</a>	A6 D0                    	LDX   $D0
<a name="LE0EB">$E0EB</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0F0">$E0F0</a>                             	If number is zero then set
<a name="LE0ED">$E0ED</a>	4C F8 E1                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1F8">$E1F8</a>                             	the string to "0" and exit.
<a name="LE0F0">$E0F0</a>	A9 00                    	LDA   #$00
<a name="LE0F2">$E0F2</a>	E0 80                    	CPX   #$80
<a name="LE0F4">$E0F4</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0F8">$E0F8</a>                             	Exponent is zero.
<a name="LE0F6">$E0F6</a>	B0 09                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE101">$E101</a>                             	Exponent is positive.
<a name="LE0F8">$E0F8</a>	A9 B5                    	LDA   #$B5
<a name="LE0FA">$E0FA</a>	A0 E0                    	LDY   #$E0
<a name="LE0FC">$E0FC</a>	20 ED DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	Multiply main FPA by 1E9.
<a name="LE0FF">$E0FF</a>	A9 F7                    	LDA   #$F7
<a name="LE101">$E101</a>	85 CC                    	STA   $CC                               	Set initial E value to -9.
<a name="LE103">$E103</a>	A9 B0                    	LDA   #$B0
<a name="LE105">$E105</a>	A0 E0                    	LDY   #$E0                              	Compare main FPA with
<a name="LE107">$E107</a>	20 4C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF4C">$DF4C</a>                             	9.9999E8.
<a name="LE10A">$E10A</a>	F0 1E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE12A">$E12A</a>                             	Convert if equal.
<a name="LE10C">$E10C</a>	10 12                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE120">$E120</a>                             	Main FPA is greater.
<a name="LE10E">$E10E</a>	A9 AB                    	LDA   #$AB
<a name="LE110">$E110</a>	A0 E0                    	LDY   #$E0
<a name="LE112">$E112</a>	20 4C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF4C">$DF4C</a>                             	Compare main FPA with 1E8.
<a name="LE115">$E115</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE119">$E119</a>                             	Number in main FPA is 1E8.
<a name="LE117">$E117</a>	10 0E                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE127">$E127</a>                             	Number in main FPA &gt; 1E8.
<a name="LE119">$E119</a>	20 A7 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDA7">$DDA7</a>                             	Multiply main FPA by 10.
<a name="LE11C">$E11C</a>	C6 CC                    	DEC   $CC                               	Adjust exponent.
<a name="LE11E">$E11E</a>	D0 EE                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE10E">$E10E</a>                             	Go round again.
<a name="LE120">$E120</a>	20 C3 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDC3">$DDC3</a>                             	Divide main FPA by 10.
<a name="LE123">$E123</a>	E6 CC                    	INC   $CC                               	Adjust exponent.
<a name="LE125">$E125</a>	D0 DC                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE103">$E103</a>                             	Go round again.
<a name="LE127">$E127</a>	20 04 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB04">$DB04</a>                             	Add 0.5 to round off.
<a name="LE12A">$E12A</a>	20 8C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF8C">$DF8C</a>                             	Convert main FPA to integer.
<a name="LE12D">$E12D</a>	A2 01                    	LDX   #$01                              	Set X to 1 place before D.P.
<a name="LE12F">$E12F</a>	A5 CC                    	LDA   $CC
<a name="LE131">$E131</a>	18                       	CLC
<a name="LE132">$E132</a>	69 0A                    	ADC   #$0A                              	Add 10 to exponent.
<a name="LE134">$E134</a>	30 09                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE13F">$E13F</a>                             	If -ve then use E form.
<a name="LE136">$E136</a>	C9 0B                    	CMP   #$0B                              	If too big then use E form.
<a name="LE138">$E138</a>	B0 06                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE140">$E140</a>
<a name="LE13A">$E13A</a>	69 FF                    	ADC   #$FF                              	Set digit before ".".
<a name="LE13C">$E13C</a>	AA                       	TAX
<a name="LE13D">$E13D</a>	A9 02                    	LDA   #$02                              	Force E value.
<a name="LE13F">$E13F</a>	38                       	SEC
<a name="LE140">$E140</a>	E9 02                    	SBC   #$02                              	Set proper exponent.
<a name="LE142">$E142</a>	85 CD                    	STA   $CD
<a name="LE144">$E144</a>	86 CC                    	STX   $CC
<a name="LE146">$E146</a>	8A                       	TXA
<a name="LE147">$E147</a>	F0 02                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE14B">$E14B</a>                             	Skip leading zeroes before
<a name="LE149">$E149</a>	10 13                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE15E">$E15E</a>                             	decimal point.
<a name="LE14B">$E14B</a>	A4 E0                    	LDY   $E0                               	Get pointer to $ construction
<a name="LE14D">$E14D</a>	A9 2E                    	LDA   #$2E                              	area.
<a name="LE14F">$E14F</a>	C8                       	INY
<a name="LE150">$E150</a>	99 FF 00                 	STA   $00FF,Y                           	Write a decimal point.
<a name="LE153">$E153</a>	8A                       	TXA
<a name="LE154">$E154</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE15C">$E15C</a>                             	If not ".OXXX" then skip "0".
<a name="LE156">$E156</a>	A9 30                    	LDA   #$30                              	Write a "0" to string.
<a name="LE158">$E158</a>	C8                       	INY
<a name="LE159">$E159</a>	99 FF 00                 	STA   $00FF,Y
<a name="LE15C">$E15C</a>	84 E0                    	STY   $E0                               	Save pointer.
<a name="LE15E">$E15E</a>	A0 00                    	LDY   #$00
<a name="LE160">$E160</a>	A2 80                    	LDX   #$80                              	Initialise decimal exponent.
<a name="LE162">$E162</a>	A5 D4                    	LDA   $D4
<a name="LE164">$E164</a>	18                       	CLC
<a name="LE165">$E165</a>	79 0D E2                 	ADC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE20D">$E20D</a>,Y                           	Add or subtract the divisor
<a name="LE168">$E168</a>	85 D4                    	STA   $D4                               	(depending on number added)
<a name="LE16A">$E16A</a>	A5 D3                    	LDA   $D3                               	from the number in main FPA.
<a name="LE16C">$E16C</a>	79 0C E2                 	ADC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE20C">$E20C</a>,Y
<a name="LE16F">$E16F</a>	85 D3                    	STA   $D3
<a name="LE171">$E171</a>	A5 D2                    	LDA   $D2
<a name="LE173">$E173</a>	79 0B E2                 	ADC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE20B">$E20B</a>,Y
<a name="LE176">$E176</a>	85 D2                    	STA   $D2
<a name="LE178">$E178</a>	A5 D1                    	LDA   $D1
<a name="LE17A">$E17A</a>	79 0A E2                 	ADC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE20A">$E20A</a>,Y
<a name="LE17D">$E17D</a>	85 D1                    	STA   $D1                               	Adjust exponent.
<a name="LE17F">$E17F</a>	E8                       	INX
<a name="LE180">$E180</a>	B0 04                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE186">$E186</a>
<a name="LE182">$E182</a>	10 DE                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE162">$E162</a>                             	If no overflow then loop.
<a name="LE184">$E184</a>	30 02                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE188">$E188</a>
<a name="LE186">$E186</a>	30 DA                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE162">$E162</a>
<a name="LE188">$E188</a>	8A                       	TXA                                     	Number of shifts.
<a name="LE189">$E189</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE18F">$E18F</a>
<a name="LE18B">$E18B</a>	49 FF                    	EOR   #$FF                              	If adding then subtract from
<a name="LE18D">$E18D</a>	69 0A                    	ADC   #$0A                              	10 to get digit.
<a name="LE18F">$E18F</a>	69 2F                    	ADC   #$2F                              	Convert to ASCII.
<a name="LE191">$E191</a>	C8                       	INY                                     	Update division pointer.
<a name="LE192">$E192</a>	C8                       	INY
<a name="LE193">$E193</a>	C8                       	INY
<a name="LE194">$E194</a>	C8                       	INY
<a name="LE195">$E195</a>	84 B6                    	STY   $B6                               	Save it.
<a name="LE197">$E197</a>	A4 E0                    	LDY   $E0                               	Get digit pointer.
<a name="LE199">$E199</a>	C8                       	INY                                     	Advance it.
<a name="LE19A">$E19A</a>	AA                       	TAX                                     	Save add/subtraction direction
<a name="LE19B">$E19B</a>	29 7F                    	AND   #$7F
<a name="LE19D">$E19D</a>	99 FF 00                 	STA   $00FF,Y                           	Write digit to string.
<a name="LE1A0">$E1A0</a>	C6 CC                    	DEC   $CC                               	Decrement digits before ".".
<a name="LE1A2">$E1A2</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1AA">$E1AA</a>
<a name="LE1A4">$E1A4</a>	A9 2E                    	LDA   #$2E                              	Write "." to string if
<a name="LE1A6">$E1A6</a>	C8                       	INY                                     	necessary.
<a name="LE1A7">$E1A7</a>	99 FF 00                 	STA   $00FF,Y
<a name="LE1AA">$E1AA</a>	84 E0                    	STY   $E0                               	Save digit pointer.
<a name="LE1AC">$E1AC</a>	A4 B6                    	LDY   $B6                               	Get division pointer.
<a name="LE1AE">$E1AE</a>	8A                       	TXA
<a name="LE1AF">$E1AF</a>	49 FF                    	EOR   #$FF                              	Swap add/subtract flag.
<a name="LE1B1">$E1B1</a>	29 80                    	AND   #$80
<a name="LE1B3">$E1B3</a>	AA                       	TAX
<a name="LE1B4">$E1B4</a>	C0 24                    	CPY   #$24
<a name="LE1B6">$E1B6</a>	D0 AA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE162">$E162</a>                             	Loop if not finished.
<a name="LE1B8">$E1B8</a>	A4 E0                    	LDY   $E0                               	Get digit pointer.
<a name="LE1BA">$E1BA</a>	B9 FF 00                 	LDA   $00FF,Y
<a name="LE1BD">$E1BD</a>	88                       	DEY
<a name="LE1BE">$E1BE</a>	C9 30                    	CMP   #$30
<a name="LE1C0">$E1C0</a>	F0 F8                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1BA">$E1BA</a>                             	Strip trailing zeroes.
<a name="LE1C2">$E1C2</a>	C9 2E                    	CMP   #$2E
<a name="LE1C4">$E1C4</a>	F0 01                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1C7">$E1C7</a>                             	Strip off "." if on end.
<a name="LE1C6">$E1C6</a>	C8                       	INY
<a name="LE1C7">$E1C7</a>	A9 2B                    	LDA   #$2B                              	"+".
<a name="LE1C9">$E1C9</a>	A6 CD                    	LDX   $CD
<a name="LE1CB">$E1CB</a>	F0 2E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1FB">$E1FB</a>                             	If no E required then exit.
<a name="LE1CD">$E1CD</a>	10 08                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1D7">$E1D7</a>                             	If positive E, skip negation.
<a name="LE1CF">$E1CF</a>	A9 00                    	LDA   #$00                              	Negate decimal exponent and
<a name="LE1D1">$E1D1</a>	38                       	SEC                                     	use "-".
<a name="LE1D2">$E1D2</a>	E5 CD                    	SBC   $CD
<a name="LE1D4">$E1D4</a>	AA                       	TAX
<a name="LE1D5">$E1D5</a>	A9 2D                    	LDA   #$2D                              	"-".
<a name="LE1D7">$E1D7</a>	99 01 01                 	STA   $0101,Y                           	Put character in string.
<a name="LE1DA">$E1DA</a>	A9 45                    	LDA   #$45
<a name="LE1DC">$E1DC</a>	99 00 01                 	STA   $0100,Y                           	Put "E" in string.
<a name="LE1DF">$E1DF</a>	8A                       	TXA                                     	Get decimal exponent.
<a name="LE1E0">$E1E0</a>	A2 2F                    	LDX   #$2F                              	Initialise ASCII char.
<a name="LE1E2">$E1E2</a>	38                       	SEC
<a name="LE1E3">$E1E3</a>	E8                       	INX
<a name="LE1E4">$E1E4</a>	E9 0A                    	SBC   #$0A                              	Subtract 10 to divide A by 10.
<a name="LE1E6">$E1E6</a>	B0 FB                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE1E3">$E1E3</a>                             	Result will be in X.
<a name="LE1E8">$E1E8</a>	69 3A                    	ADC   #$3A
<a name="LE1EA">$E1EA</a>	99 03 01                 	STA   $0103,Y                           	Least significant decimal
<a name="LE1ED">$E1ED</a>	8A                       	TXA                                     	digit.
<a name="LE1EE">$E1EE</a>	99 02 01                 	STA   $0102,Y                           	Write digit.
<a name="LE1F1">$E1F1</a>	A9 00                    	LDA   #$00
<a name="LE1F3">$E1F3</a>	99 04 01                 	STA   $0104,Y
<a name="LE1F6">$E1F6</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE200">$E200</a>
<a name="LE1F8">$E1F8</a>	99 FF 00                 	STA   $00FF,Y
<a name="LE1FB">$E1FB</a>	A9 00                    	LDA   #$00                              	Terminate string with a null
<a name="LE1FD">$E1FD</a>	99 00 01                 	STA   $0100,Y                           	and exit.
<a name="LE200">$E200</a>	A9 00                    	LDA   #$00
<a name="LE202">$E202</a>	A0 01                    	LDY   #$01
<a name="LE204">$E204</a>	60                       	RTS
<a name="LE205">$E205</a>	80 00 00 00 00           	BYT   $80,$00,$00,$00,$00               	Floating point 0.5.
<a name="LE20A">$E20A</a>	FA 0A 1F 00              	BYT   $FA,$0A,$1F,$00                   	-1E84 byte integers for use with
<a name="LE20E">$E20E</a>	00 98 96 80              	BYT   $00,$98,$96,$80                   	+1E7the routine that converts
<a name="LE212">$E212</a>	FF F0 BD C0              	BYT   $FF,$F0,$BD,$C0                   	-1E6numbers to strings. Decimal
<a name="LE216">$E216</a>	00 01 86 A0              	BYT   $00,$01,$86,$A0                   	+1E5values are also listed in
<a name="LE21A">$E21A</a>	FF FF D8 F0              	BYT   $FF,$FF,$D8,$F0                   	-1E4exponent form.
<a name="LE21E">$E21E</a>	00 00 03 E8              	BYT   $00,$00,$03,$E8                   	+1E3
<a name="LE222">$E222</a>	FF FF FF 9C              	BYT   $FF,$FF,$FF,$9C                   	-1E2
<a name="LE226">$E226</a>	00 00 00 0A              	BYT   $00,$00,$00,$0A                   	+1E1

EXP
<a name="LE22A">$E22A</a>	FF FF FF FF              	BYT   $FF,$FF,$FF,$FF                   	-1E0

SQR
<a name="LE22E">$E22E</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	SQR  Copy main to work FPA.
<a name="LE231">$E231</a>	A9 05                    	LDA   #$05                              	Point to the number 0.5.
<a name="LE233">$E233</a>	A0 E2                    	LDY   #$E2
<a name="LE235">$E235</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	Unpack it into main FPA.
<a name="LE238">$E238</a>	F0 70                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2AA">$E2AA</a>                             	A OPERATOR. If zero give 1
<a name="LE23A">$E23A</a>	A5 D8                    	LDA   $D8                               	as result.
<a name="LE23C">$E23C</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE241">$E241</a>
<a name="LE23E">$E23E</a>	4C B4 DB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDBB4">$DBB4</a>                             	If work FPA is 0 so is result.
<a name="LE241">$E241</a>	A2 BD                    	LDX   #$BD
<a name="LE243">$E243</a>	A0 00                    	LDY   #$00                              	Pack main FPA to $BD-$C1.
<a name="LE245">$E245</a>	20 AD DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEAD">$DEAD</a>
<a name="LE248">$E248</a>	A5 DD                    	LDA   $DD
<a name="LE24A">$E24A</a>	10 0F                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE25B">$E25B</a>                             	Branch if work FPA is +ve.
<a name="LE24C">$E24C</a>	20 BD DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFBD">$DFBD</a>                             	Get INT of main FPA.
<a name="LE24F">$E24F</a>	A9 BD                    	LDA   #$BD
<a name="LE251">$E251</a>	A0 00                    	LDY   #$00                              	Compare new main FPA against
<a name="LE253">$E253</a>	20 4C DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF4C">$DF4C</a>                             	copy of old main FPA.
<a name="LE256">$E256</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE25B">$E25B</a>                             	If no fractional part use +ve
<a name="LE258">$E258</a>	98                       	TYA                                     	result.
<a name="LE259">$E259</a>	A4 24                    	LDY   $24                               	Get sign of main FPA and copy
<a name="LE25B">$E25B</a>	20 D7 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDED7">$DED7</a>                             	work FPA into main FPA.
<a name="LE25E">$E25E</a>	98                       	TYA
<a name="LE25F">$E25F</a>	48                       	PHA
<a name="LE260">$E260</a>	20 AF DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCAF">$DCAF</a>                             	Get LN of main FPA.
<a name="LE263">$E263</a>	A9 BD                    	LDA   #$BD
<a name="LE265">$E265</a>	A0 00                    	LDY   #$00
<a name="LE267">$E267</a>	20 ED DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	Multiply by number at $BD-$C1.
<a name="LE26A">$E26A</a>	20 AA E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2AA">$E2AA</a>                             	Get EXP of main FPA.
<a name="LE26D">$E26D</a>	68                       	PLA                                     	Get sign flag.
<a name="LE26E">$E26E</a>	4A                       	LSR
<a name="LE26F">$E26F</a>	90 0A                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE27B">$E27B</a>                             	Exit if positive.
<a name="LE271">$E271</a>	A5 D0                    	LDA   $D0                               	UNARY "-" OPERATOR.
<a name="LE273">$E273</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE27B">$E27B</a>                             	Exit if zero.
<a name="LE275">$E275</a>	A5 D5                    	LDA   $D5                               	Swap sign.
<a name="LE277">$E277</a>	49 FF                    	EOR   #$FF
<a name="LE279">$E279</a>	85 D5                    	STA   $D5
<a name="LE27B">$E27B</a>	60                       	RTS                                     	Exit.

EXPDATA
<a name="LE27C">$E27C</a>	81 38 AA 3B 29           	BYT   $81,$38,$AA,$3B,$29               	Data for EXP routine.
<a name="LE281">$E281</a>	07                       	BYT   $07
<a name="LE282">$E282</a>	71 34 58 3E 56           	BYT   $71,$34,$58,$3E,$56
<a name="LE287">$E287</a>	74 16 7E B3 1B           	BYT   $74,$16,$7E,$B3,$1B
<a name="LE28C">$E28C</a>	77 2F EE E3 85           	BYT   $77,$2F,$EE,$E3,$85
<a name="LE291">$E291</a>	7A 1D 84 1C 2A           	BYT   $7A,$1D,$84,$1C,$2A
<a name="LE296">$E296</a>	7C 63 59 58 0A           	BYT   $7C,$63,$59,$58,$0A
<a name="LE29B">$E29B</a>	7E 75 FD E7 C6           	BYT   $7E,$75,$FD,$E7,$C6
<a name="LE2A0">$E2A0</a>	80 31 72 18 10           	BYT   $80,$31,$72,$18,$10
<a name="LE2A5">$E2A5</a>	81 00 00 00 00           	BYT   $81,$00,$00,$00,$00
<a name="LE2AA">$E2AA</a>	A9 7C                    	LDA   #$7C                              	EXP
<a name="LE2AC">$E2AC</a>	A0 E2                    	LDY   #$E2                              	Unpack number into work FPA
<a name="LE2AE">$E2AE</a>	20 ED DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	from $E27C.
<a name="LE2B1">$E2B1</a>	A5 DF                    	LDA   $DF                               	Increment rounding byte and
<a name="LE2B3">$E2B3</a>	69 50                    	ADC   #$50                              	mantissa if need be.
<a name="LE2B5">$E2B5</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2BA">$E2BA</a>
<a name="LE2B7">$E2B7</a>	20 FC DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEFC">$DEFC</a>
<a name="LE2BA">$E2BA</a>	85 C5                    	STA   $C5                               	Save copy of rounding byte.
<a name="LE2BC">$E2BC</a>	20 E8 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE8">$DEE8</a>                             	Copy main FPA to work FPA.
<a name="LE2BF">$E2BF</a>	A5 D0                    	LDA   $D0
<a name="LE2C1">$E2C1</a>	C9 88                    	CMP   #$88
<a name="LE2C3">$E2C3</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2C8">$E2C8</a>                             	Exponent less than 8.
<a name="LE2C5">$E2C5</a>	20 99 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD99">$DD99</a>                             	Check size.
<a name="LE2C8">$E2C8</a>	20 BD DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFBD">$DFBD</a>                             	Find integer of number.
<a name="LE2CB">$E2CB</a>	A5 24                    	LDA   $24
<a name="LE2CD">$E2CD</a>	18                       	CLC
<a name="LE2CE">$E2CE</a>	69 81                    	ADC   #$81
<a name="LE2D0">$E2D0</a>	F0 F3                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2C5">$E2C5</a>
<a name="LE2D2">$E2D2</a>	38                       	SEC
<a name="LE2D3">$E2D3</a>	E9 01                    	SBC   #$01
<a name="LE2D5">$E2D5</a>	48                       	PHA                                     	Save exponent.
<a name="LE2D6">$E2D6</a>	A2 05                    	LDX   #$05
<a name="LE2D8">$E2D8</a>	B5 D8                    	LDA   $D8,X
<a name="LE2DA">$E2DA</a>	B4 D0                    	LDY   $D0,X                             	Swap the FPAs.
<a name="LE2DC">$E2DC</a>	95 D0                    	STA   $D0,X
<a name="LE2DE">$E2DE</a>	94 D8                    	STY   $D8,X
<a name="LE2E0">$E2E0</a>	CA                       	DEX
<a name="LE2E1">$E2E1</a>	10 F5                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2D8">$E2D8</a>
<a name="LE2E3">$E2E3</a>	A5 C5                    	LDA   $C5
<a name="LE2E5">$E2E5</a>	85 DF                    	STA   $DF                               	Restore rounding byte.
<a name="LE2E7">$E2E7</a>	20 0E DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB0E">$DB0E</a>                             	Perform subtraction.
<a name="LE2EA">$E2EA</a>	20 71 E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE271">$E271</a>                             	Negate the result.
<a name="LE2ED">$E2ED</a>	A9 81                    	LDA   #$81
<a name="LE2EF">$E2EF</a>	A0 E2                    	LDY   #$E2                              	Set pointer to series data.
<a name="LE2F1">$E2F1</a>	20 13 E3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE313">$E313</a>                             	Evaluate series.
<a name="LE2F4">$E2F4</a>	A9 00                    	LDA   #$00                              	Clear sign difference byte.
<a name="LE2F6">$E2F6</a>	85 DE                    	STA   $DE
<a name="LE2F8">$E2F8</a>	68                       	PLA                                     	Pull exponent.
<a name="LE2F9">$E2F9</a>	20 7E DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDD7E">$DD7E</a>                             	Check size and set up exponent
<a name="LE2FC">$E2FC</a>	60                       	RTS                                     	and exit.
<a name="LE2FD">$E2FD</a>	85 E0                    	STA   $E0                               	Set pointer.
<a name="LE2FF">$E2FF</a>	84 E1                    	STY   $E1
<a name="LE301">$E301</a>	20 A3 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEA3">$DEA3</a>                             	Store main FPA at $C6-$CA.
<a name="LE304">$E304</a>	A9 C6                    	LDA   #$C6                              	Unpack number from memory
<a name="LE306">$E306</a>	20 ED DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	and multiply.
<a name="LE309">$E309</a>	20 17 E3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE317">$E317</a>                             	Evaluate series.
<a name="LE30C">$E30C</a>	A9 C6                    	LDA   #$C6
<a name="LE30E">$E30E</a>	A0 00                    	LDY   #$00
<a name="LE310">$E310</a>	4C ED DC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	Unpack main FPA from $C6-$CA.

SERIESEVAL
<a name="LE313">$E313</a>	85 E0                    	STA   $E0                               	SERIES EVALUATION
<a name="LE315">$E315</a>	84 E1                    	STY   $E1                               	Set pointer to data.
<a name="LE317">$E317</a>	20 A0 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEA0">$DEA0</a>                             	Store main FPA at $CB-$CF.
<a name="LE31A">$E31A</a>	B1 E0                    	LDA   ($E0),Y                           	Load and set up loop counter.
<a name="LE31C">$E31C</a>	85 D6                    	STA   $D6
<a name="LE31E">$E31E</a>	A4 E0                    	LDY   $E0                               	Increment $E0,$E1 and leave a
<a name="LE320">$E320</a>	C8                       	INY                                     	copy of result in A,Y.
<a name="LE321">$E321</a>	98                       	TYA
<a name="LE322">$E322</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE326">$E326</a>
<a name="LE324">$E324</a>	E6 E1                    	INC   $E1
<a name="LE326">$E326</a>	85 E0                    	STA   $E0
<a name="LE328">$E328</a>	A4 E1                    	LDY   $E1
<a name="LE32A">$E32A</a>	20 ED DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	Unpack work FPA from memory
<a name="LE32D">$E32D</a>	A5 E0                    	LDA   $E0                               	and multiply.
<a name="LE32F">$E32F</a>	A4 E1                    	LDY   $E1
<a name="LE331">$E331</a>	18                       	CLC                                     	Add 5 to pointer at $E0,#E1
<a name="LE332">$E332</a>	69 05                    	ADC   #$05                              	so that it points to next
<a name="LE334">$E334</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE337">$E337</a>                             	piece of data. Leave copy of
<a name="LE336">$E336</a>	C8                       	INY                                     	result in A,Y.
<a name="LE337">$E337</a>	85 E0                    	STA   $E0
<a name="LE339">$E339</a>	84 E1                    	STY   $E1
<a name="LE33B">$E33B</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	Unpack work FPA &amp; add to main
<a name="LE33E">$E33E</a>	A9 CB                    	LDA   #$CB                              	FPA.
<a name="LE340">$E340</a>	A0 00                    	LDY   #$00                              	Set A,Y to point to copy of
<a name="LE342">$E342</a>	C6 D6                    	DEC   $D6                               	wok FPA.
<a name="LE344">$E344</a>	D0 E4                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE32A">$E32A</a>                             	Repeat until loop has counted
<a name="LE346">$E346</a>	60                       	RTS                                     	out and then exit.
<a name="LE347">$E347</a>	98 35 44 7A              	BYT   $98,$35,$44,$7A                   	Data for RND command.
<a name="LE34B">$E34B</a>	68 28 B1 46              	BYT   $68,$28,$B1,$46

RND
<a name="LE34F">$E34F</a>	20 13 DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF13">$DF13</a>                             	RND  Get sign of main FPA.
<a name="LE352">$E352</a>	AA                       	TAX                                     	Save it in X.
<a name="LE353">$E353</a>	30 18                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE36D">$E36D</a>                             	Main FPA is negative.
<a name="LE355">$E355</a>	A9 FA                    	LDA   #$FA
<a name="LE357">$E357</a>	A0 00                    	LDY   #$00
<a name="LE359">$E359</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	Unpack number at $FA.
<a name="LE35C">$E35C</a>	8A                       	TXA
<a name="LE35D">$E35D</a>	F0 E7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE346">$E346</a>                             	Number is zero.
<a name="LE35F">$E35F</a>	A9 47                    	LDA   #$47
<a name="LE361">$E361</a>	A0 E3                    	LDY   #$E3                              	Unpack work FPA from $E347
<a name="LE363">$E363</a>	20 ED DC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDCED">$DCED</a>                             	and multiply with main FPA.
<a name="LE366">$E366</a>	A9 4B                    	LDA   #$4B
<a name="LE368">$E368</a>	A0 E3                    	LDY   #$E3                              	Unpack work FPA from $E34B
<a name="LE36A">$E36A</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	and add to main FPA.
<a name="LE36D">$E36D</a>	A6 D4                    	LDX   $D4
<a name="LE36F">$E36F</a>	A5 D1                    	LDA   $D1                               	Swap MSB and LSB of main FPA.
<a name="LE371">$E371</a>	85 D4                    	STA   $D4
<a name="LE373">$E373</a>	86 D1                    	STX   $D1
<a name="LE375">$E375</a>	A9 00                    	LDA   #$00
<a name="LE377">$E377</a>	85 D5                    	STA   $D5                               	Clear sign.
<a name="LE379">$E379</a>	A5 D0                    	LDA   $D0                               	Transfer exponent to rounding
<a name="LE37B">$E37B</a>	85 DF                    	STA   $DF                               	byte.
<a name="LE37D">$E37D</a>	A9 80                    	LDA   #$80                              	Set exponent to zero.
<a name="LE37F">$E37F</a>	85 D0                    	STA   $D0
<a name="LE381">$E381</a>	20 92 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB92">$DB92</a>                             	Normalise main FPA.
<a name="LE384">$E384</a>	A2 FA                    	LDX   #$FA
<a name="LE386">$E386</a>	A0 00                    	LDY   #$00                              	Pack main FPA into memory at
<a name="LE388">$E388</a>	4C AD DE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEAD">$DEAD</a>                             	$FA.

COS
<a name="LE38B">$E38B</a>	A9 07                    	LDA   #$07                              	COS
<a name="LE38D">$E38D</a>	A0 E4                    	LDY   #$E4                              	Unpack work FPA from $E407 and
<a name="LE38F">$E38F</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	add to main FPA.

SIN
<a name="LE392">$E392</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	SIN  Copy main to work FPA.
<a name="LE395">$E395</a>	A9 0C                    	LDA   #$0C
<a name="LE397">$E397</a>	A0 E4                    	LDY   #$E4
<a name="LE399">$E399</a>	A6 DD                    	LDX   $DD                               	Unpack main FPA from $EC04 and
<a name="LE39B">$E39B</a>	20 CC DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDCC">$DDCC</a>                             	divide by work FPA.
<a name="LE39E">$E39E</a>	20 E5 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEE5">$DEE5</a>                             	Copy main FPA to work FPA.
<a name="LE3A1">$E3A1</a>	20 BD DF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDFBD">$DFBD</a>                             	Get Integer value.
<a name="LE3A4">$E3A4</a>	A9 00                    	LDA   #$00                              	Clear sign difference byte.
<a name="LE3A6">$E3A6</a>	85 DE                    	STA   $DE
<a name="LE3A8">$E3A8</a>	20 0E DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB0E">$DB0E</a>                             	Subtract FPAs.
<a name="LE3AB">$E3AB</a>	A9 11                    	LDA   #$11
<a name="LE3AD">$E3AD</a>	A0 E4                    	LDY   #$E4                              	Unpack work FPA from $E411
<a name="LE3AF">$E3AF</a>	20 0B DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB0B">$DB0B</a>                             	and subtract from main FPA.
<a name="LE3B2">$E3B2</a>	A5 D5                    	LDA   $D5                               	Save sign of mantissa
<a name="LE3B4">$E3B4</a>	48                       	PHA
<a name="LE3B5">$E3B5</a>	10 0D                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE3C4">$E3C4</a>                             	Sign of mantissa is positive.
<a name="LE3B7">$E3B7</a>	20 04 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB04">$DB04</a>                             	Add 0.5 to result.
<a name="LE3BA">$E3BA</a>	A5 D5                    	LDA   $D5
<a name="LE3BC">$E3BC</a>	30 09                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE3C7">$E3C7</a>                             	Result negative.
<a name="LE3BE">$E3BE</a>	A5 2D                    	LDA   $2D                               	Invert temporary operator
<a name="LE3C0">$E3C0</a>	49 FF                    	EOR   #$FF                              	store.
<a name="LE3C2">$E3C2</a>	85 2D                    	STA   $2D
<a name="LE3C4">$E3C4</a>	20 71 E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE271">$E271</a>                             	Negate number.
<a name="LE3C7">$E3C7</a>	A9 11                    	LDA   #$11
<a name="LE3C9">$E3C9</a>	A0 E4                    	LDY   #$E4                              	Unpack work FPA from $411 and
<a name="LE3CB">$E3CB</a>	20 22 DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB22">$DB22</a>                             	add to main FPA.
<a name="LE3CE">$E3CE</a>	68                       	PLA
<a name="LE3CF">$E3CF</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE3D4">$E3D4</a>                             	Sign is positive.
<a name="LE3D1">$E3D1</a>	20 71 E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE271">$E271</a>                             	Negate number.
<a name="LE3D4">$E3D4</a>	A9 16                    	LDA   #$16
<a name="LE3D6">$E3D6</a>	A0 E4                    	LDY   #$E4                              	Set pointers.
<a name="LE3D8">$E3D8</a>	4C FD E2                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2FD">$E2FD</a>                             	Jump to series evaluation.
<a name="LE3DB">$E3DB</a>	20 A3 DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDEA3">$DEA3</a>                             	TAN  Store main FPA at $C6.
<a name="LE3DE">$E3DE</a>	A9 00                    	LDA   #$00
<a name="LE3E0">$E3E0</a>	85 2D                    	STA   $2D
<a name="LE3E2">$E3E2</a>	20 92 E3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE392">$E392</a>                             	Find SIN of number.
<a name="LE3E5">$E3E5</a>	A2 BD                    	LDX   #$BD
<a name="LE3E7">$E3E7</a>	A0 00                    	LDY   #$00
<a name="LE3E9">$E3E9</a>	20 88 E3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE388">$E388</a>                             	Save result in memory.
<a name="LE3EC">$E3EC</a>	A9 C6                    	LDA   #$C6
<a name="LE3EE">$E3EE</a>	A0 00                    	LDY   #$00                              	Unpack original number from
<a name="LE3F0">$E3F0</a>	20 7B DE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDE7B">$DE7B</a>                             	$C6.
<a name="LE3F3">$E3F3</a>	A9 00                    	LDA   #$00                              	Clear main FPA sign byte.
<a name="LE3F5">$E3F5</a>	85 D5                    	STA   $D5
<a name="LE3F7">$E3F7</a>	A5 2D                    	LDA   $2D
<a name="LE3F9">$E3F9</a>	20 03 E4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE403">$E403</a>                             	Execute latter half of SIN
<a name="LE3FC">$E3FC</a>	A9 BD                    	LDA   #$BD                              	routine - to get cosine.
<a name="LE3FE">$E3FE</a>	A0 00                    	LDY   #$00                              	Unpack work FPA from $BD and
<a name="LE400">$E400</a>	4C E4 DD                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDE4">$DDE4</a>                             	divide to get final result.
<a name="LE403">$E403</a>	48                       	PHA
<a name="LE404">$E404</a>	4C C4 E3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE3C4">$E3C4</a>

TRIGDATA
<a name="LE407">$E407</a>	81 49 0F DA A2           	BYT   $81,$49,$0F,$DA,$A2               	Data for the trigonometric
<a name="LE40C">$E40C</a>	83 49 0F DA A2           	BYT   $83,$49,$0F,$DA,$A2               	functions.
<a name="LE411">$E411</a>	7F 00 00 00 00           	BYT   $7F,$00,$00,$00,$00
<a name="LE416">$E416</a>	05                       	BYT   $05
<a name="LE417">$E417</a>	84 E6 1A 2D 1B           	BYT   $84,$E6,$1A,$2D,$1B
<a name="LE41C">$E41C</a>	86 28 07 FB F8           	BYT   $86,$28,$07,$FB,$F8
<a name="LE421">$E421</a>	87 99 68 89 01           	BYT   $87,$99,$68,$89,$01
<a name="LE426">$E426</a>	87 23 35 DF E1           	BYT   $87,$23,$35,$DF,$E1
<a name="LE42B">$E42B</a>	86 A5 5D E7 28           	BYT   $86,$A5,$5D,$E7,$28
<a name="LE430">$E430</a>	83 49 0F DA A2           	BYT   $83,$49,$0F,$DA,$A2
<a name="LE435">$E435</a>	A1 54 46 8F 13           	BYT   $A1,$54,$46,$8F,$13
<a name="LE43A">$E43A</a>	8F 52 43 89 CD           	BYT   $8F,$52,$43,$89,$CD

ATN
<a name="LE43F">$E43F</a>	A5 D5                    	LDA   $D5                               	ATN
<a name="LE441">$E441</a>	48                       	PHA                                     	Save sign byte of main FPA.
<a name="LE442">$E442</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE447">$E447</a>                             	Sign is positive.
<a name="LE444">$E444</a>	20 71 E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE271">$E271</a>                             	Negate number.
<a name="LE447">$E447</a>	A5 D0                    	LDA   $D0                               	Save exponent of main FPA.
<a name="LE449">$E449</a>	48                       	PHA
<a name="LE44A">$E44A</a>	C9 81                    	CMP   #$81
<a name="LE44C">$E44C</a>	90 07                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE455">$E455</a>                             	Exponent is less than 1.
<a name="LE44E">$E44E</a>	A9 81                    	LDA   #$81                              	Unpack work FPA from $DC81 and
<a name="LE450">$E450</a>	A0 DC                    	LDY   #$DC                              	divide into main FPA.
<a name="LE452">$E452</a>	20 E4 DD                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDDE4">$DDE4</a>
<a name="LE455">$E455</a>	A9 6F                    	LDA   #$6F                              	Evaluate series using data
<a name="LE457">$E457</a>	A0 E4                    	LDY   #$E4                              	from table at $E46F.
<a name="LE459">$E459</a>	20 FD E2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE2FD">$E2FD</a>
<a name="LE45C">$E45C</a>	68                       	PLA
<a name="LE45D">$E45D</a>	C9 81                    	CMP   #$81
<a name="LE45F">$E45F</a>	90 07                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE468">$E468</a>                             	Exponent is less than 1.
<a name="LE461">$E461</a>	A9 07                    	LDA   #$07
<a name="LE463">$E463</a>	A0 E4                    	LDY   #$E4                              	Unpack work FPA from $E407 and
<a name="LE465">$E465</a>	20 0B DB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDB0B">$DB0B</a>                             	subtract from main FPA.
<a name="LE468">$E468</a>	68                       	PLA
<a name="LE469">$E469</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE46E">$E46E</a>                             	Branch if positive.
<a name="LE46B">$E46B</a>	4C 71 E2                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE271">$E271</a>                             	Negate number.
<a name="LE46E">$E46E</a>	60                       	RTS                                     	Exit.

ATNDATA
<a name="LE46F">$E46F</a>	0B 76 B3 83 BD           	BYT   $0B,$76,$B3,$83,$BD               	Data for ATN.
<a name="LE474">$E474</a>	D3 79 1E F4 A6           	BYT   $D3,$79,$1E,$F4,$A6
<a name="LE479">$E479</a>	F5 7B 83 FC B0           	BYT   $F5,$7B,$83,$FC,$B0
<a name="LE47E">$E47E</a>	10                       	BYT   $10
<a name="LE47F">$E47F</a>	7C 0C 1F 67 CA           	BYT   $7C,$0C,$1F,$67,$CA
<a name="LE484">$E484</a>	7C DE 53 CB C1           	BYT   $7C,$DE,$53,$CB,$C1
<a name="LE489">$E489</a>	7D 14 64 70 4C           	BYT   $7D,$14,$64,$70,$4C
<a name="LE48E">$E48E</a>	7D B7 EA 51 7A           	BYT   $7D,$B7,$EA,$51,$7A
<a name="LE493">$E493</a>	7D 63 30 88 7E           	BYT   $7D,$63,$30,$88,$7E
<a name="LE498">$E498</a>	7E 92 44 99 3A           	BYT   $7E,$92,$44,$99,$3A
<a name="LE49D">$E49D</a>	7E 4C CC 91 C7           	BYT   $7E,$4C,$CC,$91,$C7
<a name="LE4A2">$E4A2</a>	7F AA AA AA 13           	BYT   $7F,$AA,$AA,$AA,$13
<a name="LE4A7">$E4A7</a>	81 00 00 00 00           	BYT   $81,$00,$00,$00,$00

TAPESYNC
<a name="LE4AC">$E4AC</a>	20 35 E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE735">$E735</a>                             	Get in sync with tape.
<a name="LE4AF">$E4AF</a>	20 C9 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C9">$E6C9</a>                             	Read byte from tape.
<a name="LE4B2">$E4B2</a>	C9 24                    	CMP   #$24
<a name="LE4B4">$E4B4</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4AF">$E4AF</a>                             	Get bytes until "$" is read.
<a name="LE4B6">$E4B6</a>	8E B1 02                 	STX   $02B1
<a name="LE4B9">$E4B9</a>	A2 09                    	LDX   #$09
<a name="LE4BB">$E4BB</a>	20 C9 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C9">$E6C9</a>                             	Read byte.
<a name="LE4BE">$E4BE</a>	9D A7 02                 	STA   $02A7,X                           	Save in header block.
<a name="LE4C1">$E4C1</a>	CA                       	DEX
<a name="LE4C2">$E4C2</a>	D0 F7                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4BB">$E4BB</a>
<a name="LE4C4">$E4C4</a>	20 C9 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C9">$E6C9</a>                             	Get byte.
<a name="LE4C7">$E4C7</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4D3">$E4D3</a>                             	End of file name.
<a name="LE4C9">$E4C9</a>	E0 10                    	CPX   #$10                              	Continue for up to 16 bytes.
<a name="LE4CB">$E4CB</a>	B0 F7                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4C4">$E4C4</a>
<a name="LE4CD">$E4CD</a>	9D 93 02                 	STA   $0293,X                           	Save chars of file name.
<a name="LE4D0">$E4D0</a>	E8                       	INX
<a name="LE4D1">$E4D1</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4C4">$E4C4</a>
<a name="LE4D3">$E4D3</a>	9D 93 02                 	STA   $0293,X                           	Store end of file indicator.
<a name="LE4D6">$E4D6</a>	20 94 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE594">$E594</a>                             	Print "Found" &lt;filename&gt;.
<a name="LE4D9">$E4D9</a>	20 90 E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE790">$E790</a>                             	Compare names of files.
<a name="LE4DC">$E4DC</a>	8A                       	TXA
<a name="LE4DD">$E4DD</a>	D0 CD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4AC">$E4AC</a>                             	Correct filename is not found.
<a name="LE4DF">$E4DF</a>	60                       	RTS                                     	Exit.

GETTAPEDATA
<a name="LE4E0">$E4E0</a>	AD A9 02                 	LDA   $02A9                             	LOAD/VERIFY DATA
<a name="LE4E3">$E4E3</a>	AC AA 02                 	LDY   $02AA
<a name="LE4E6">$E4E6</a>	85 33                    	STA   $33                               	Transfer pointer.
<a name="LE4E8">$E4E8</a>	84 34                    	STY   $34
<a name="LE4EA">$E4EA</a>	A0 00                    	LDY   #$00
<a name="LE4EC">$E4EC</a>	20 C9 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C9">$E6C9</a>                             	Read byte from tape.
<a name="LE4EF">$E4EF</a>	AE 5B 02                 	LDX   $025B

VERIFY
<a name="LE4F2">$E4F2</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4F9">$E4F9</a>                             	VERIFY  the data.
<a name="LE4F4">$E4F4</a>	91 33                    	STA   ($33),Y                           	Store in memory.
<a name="LE4F6">$E4F6</a>	4C 05 E5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE505">$E505</a>                             	Jump to increment pointers.
<a name="LE4F9">$E4F9</a>	D1 33                    	CMP   ($33),Y                           	Compare data to verify it.
<a name="LE4FB">$E4FB</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE505">$E505</a>                             	Data match made.
<a name="LE4FD">$E4FD</a>	EE 5C 02                 	INC   $025C                             	Increment error counter.
<a name="LE500">$E500</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE505">$E505</a>
<a name="LE502">$E502</a>	EE 5D 02                 	INC   $025D
<a name="LE505">$E505</a>	20 6C E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE56C">$E56C</a>                             	Increment counters.
<a name="LE508">$E508</a>	90 E2                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4EC">$E4EC</a>
<a name="LE50A">$E50A</a>	60                       	RTS
<a name="LE50B">$E50B</a>	10 07 53 65 61 72 63 68  	BYT   $10,$07,$53,$65,$61,$72,$63,$68   	Search
<a name="LE513">$E513</a>	69 6E 67 20 2E 2E 00 10  	BYT   $69,$6E,$67,$20,$2E,$2E,$00,$10   	ing ..
<a name="LE51B">$E51B</a>	07 4C 6F 61 64 69 6E 67  	BYT   $07,$4C,$6F,$61,$64,$69,$6E,$67   	Loading
<a name="LE523">$E523</a>	20 2E 2E 00 0A 0D 45 72  	BYT   $20,$2E,$2E,$00,$0A,$0D,$45,$72   	.. Er
<a name="LE52B">$E52B</a>	72 6F 72 73 20 66 6F 75  	BYT   $72,$6F,$72,$73,$20,$66,$6F,$75   	rors Fou
<a name="LE533">$E533</a>	6E 64 0D 0A 00 10 07 46  	BYT   $6E,$64,$0D,$0A,$00,$10,$07,$46   	nd F
<a name="LE53B">$E53B</a>	6F 75 6E 64 20 2E 2E 00  	BYT   $6F,$75,$6E,$64,$20,$2E,$2E,$00   	ound ..
<a name="LE543">$E543</a>	10 07 56 65 72 69 66 79  	BYT   $10,$07,$56,$65,$72,$69,$66,$79   	Verify
<a name="LE54B">$E54B</a>	69 6E 67 20 2E 2E 00 20  	BYT   $69,$6E,$67,$20,$2E,$2E,$00,$20   	ing ..
<a name="LE553">$E553</a>	56 65 72 69 66 79 20 65  	BYT   $56,$65,$72,$69,$66,$79,$20,$65   	Verify E
<a name="LE55B">$E55B</a>	72 72 6F 72 73 20 64 65  	BYT   $72,$72,$6F,$72,$73,$20,$64,$65   	rrors de
<a name="LE563">$E563</a>	74 65 63 74 65 64 0D 0A  	BYT   $74,$65,$63,$74,$65,$64,$0D,$0A   	tected
<a name="LE56B">$E56B</a>	00                       	BYT   $00

INCTAPECOUNT
<a name="LE56C">$E56C</a>	A5 33                    	LDA   $33                               	Increment counter for loading
<a name="LE56E">$E56E</a>	CD AB 02                 	CMP   $02AB                             	or verifying data from tape.
<a name="LE571">$E571</a>	A5 34                    	LDA   $34
<a name="LE573">$E573</a>	ED AC 02                 	SBC   $02AC
<a name="LE576">$E576</a>	E6 33                    	INC   $33
<a name="LE578">$E578</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE57C">$E57C</a>                             	Compare pointer with final
<a name="LE57A">$E57A</a>	E6 34                    	INC   $34                               	pointer. C=1 if end reached.
<a name="LE57C">$E57C</a>	60                       	RTS

PRINTSEARCHING
<a name="LE57D">$E57D</a>	A9 0B                    	LDA   #$0B                              	Print "Searching ..".
<a name="LE57F">$E57F</a>	A0 E5                    	LDY   #$E5
<a name="LE581">$E581</a>	20 EA E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5EA">$E5EA</a>
<a name="LE584">$E584</a>	60                       	RTS

PRINTSAVING
<a name="LE585">$E585</a>	A9 45                    	LDA   #$45                              	Print "Saving ".
<a name="LE587">$E587</a>	A0 E6                    	LDY   #$E6
<a name="LE589">$E589</a>	20 EA E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5EA">$E5EA</a>

PRINTFNAME
<a name="LE58C">$E58C</a>	A9 7F                    	LDA   #$7F                              	Print &lt;filename&gt;.
<a name="LE58E">$E58E</a>	A0 02                    	LDY   #$02
<a name="LE590">$E590</a>	20 B6 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5B6">$E5B6</a>
<a name="LE593">$E593</a>	60                       	RTS

PRINTFOUND
<a name="LE594">$E594</a>	A9 38                    	LDA   #$38                              	Print "Found " &lt;filename&gt;.
<a name="LE596">$E596</a>	A0 E5                    	LDY   #$E5
<a name="LE598">$E598</a>	4C AB E5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5AB">$E5AB</a>
<a name="LE59B">$E59B</a>	AD 5B 02                 	LDA   $025B
<a name="LE59E">$E59E</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5A7">$E5A7</a>                             	VERIFYing data.
<a name="LE5A0">$E5A0</a>	A9 1A                    	LDA   #$1A
<a name="LE5A2">$E5A2</a>	A0 E5                    	LDY   #$E5

PRINTLOADING
<a name="LE5A4">$E5A4</a>	4C AB E5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5AB">$E5AB</a>                             	Print "Loading .. ".
<a name="LE5A7">$E5A7</a>	A9 43                    	LDA   #$43
<a name="LE5A9">$E5A9</a>	A0 E5                    	LDY   #$E5

PRINTVERIFYING
<a name="LE5AB">$E5AB</a>	20 EA E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5EA">$E5EA</a>                             	Print "Verifying .. ".
<a name="LE5AE">$E5AE</a>	A9 93                    	LDA   #$93
<a name="LE5B0">$E5B0</a>	A0 02                    	LDY   #$02
<a name="LE5B2">$E5B2</a>	20 B6 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5B6">$E5B6</a>                             	Print &lt;filename&gt;.
<a name="LE5B5">$E5B5</a>	60                       	RTS

PRINTMSG
<a name="LE5B6">$E5B6</a>	20 65 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF865">$F865</a>                             	Print message to screen.
<a name="LE5B9">$E5B9</a>	E8                       	INX
<a name="LE5BA">$E5BA</a>	A0 00                    	LDY   #$00                              	Set end of message indicator.
<a name="LE5BC">$E5BC</a>	8C 5F 02                 	STY   $025F
<a name="LE5BF">$E5BF</a>	AD AE 02                 	LDA   $02AE                             	Using the table below, load up
<a name="LE5C2">$E5C2</a>	F0 13                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5D7">$E5D7</a>                             	the character appropriate to
<a name="LE5C4">$E5C4</a>	C8                       	INY                                     	type of file being used. Then
<a name="LE5C5">$E5C5</a>	2C AE 02                 	BIT   $02AE                             	print it to screen after the
<a name="LE5C8">$E5C8</a>	30 0D                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5D7">$E5D7</a>                             	other message.
<a name="LE5CA">$E5CA</a>	C8                       	INY
<a name="LE5CB">$E5CB</a>	2C AF 02                 	BIT   $02AF
<a name="LE5CE">$E5CE</a>	30 07                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5D7">$E5D7</a>
<a name="LE5D0">$E5D0</a>	C8                       	INY
<a name="LE5D1">$E5D1</a>	2C B0 02                 	BIT   $02B0
<a name="LE5D4">$E5D4</a>	30 01                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5D7">$E5D7</a>
<a name="LE5D6">$E5D6</a>	C8                       	INY
<a name="LE5D7">$E5D7</a>	B9 E5 E5                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5E5">$E5E5</a>,Y
<a name="LE5DA">$E5DA</a>	8D 5E 02                 	STA   $025E
<a name="LE5DD">$E5DD</a>	A9 5E                    	LDA   #$5E
<a name="LE5DF">$E5DF</a>	A0 02                    	LDY   #$02
<a name="LE5E1">$E5E1</a>	20 65 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF865">$F865</a>                             	Print chars at $025E.
<a name="LE5E4">$E5E4</a>	60                       	RTS
<a name="LE5E5">$E5E5</a>	42 43 53 49 52           	BYT   $42,$43,$53,$49,$52               	B C S I R

CLRSTATUS
<a name="LE5EA">$E5EA</a>	20 F5 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5F5">$E5F5</a>                             	Clear status line of screen
<a name="LE5ED">$E5ED</a>	A2 00                    	LDX   #$00                              	and then print message to
<a name="LE5EF">$E5EF</a>	20 65 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF865">$F865</a>                             	screen.
<a name="LE5F2">$E5F2</a>	E8                       	INX
<a name="LE5F3">$E5F3</a>	E8                       	INX
<a name="LE5F4">$E5F4</a>	60                       	RTS

CLRTAPESTATUS
<a name="LE5F5">$E5F5</a>	48                       	PHA                                     	Clear cassette status
<a name="LE5F6">$E5F6</a>	AD 1F 02                 	LDA   $021F                             	message.
<a name="LE5F9">$E5F9</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE605">$E605</a>                             	In hires mode.
<a name="LE5FB">$E5FB</a>	A2 22                    	LDX   #$22
<a name="LE5FD">$E5FD</a>	A9 10                    	LDA   #$10
<a name="LE5FF">$E5FF</a>	9D 80 BB                 	STA   $BB80,X                           	Write black paper to each
<a name="LE602">$E602</a>	CA                       	DEX                                     	column of status line being
<a name="LE603">$E603</a>	10 FA                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5FF">$E5FF</a>                             	cleared.
<a name="LE605">$E605</a>	68                       	PLA
<a name="LE606">$E606</a>	60                       	RTS

WRITEFILEHEADER
<a name="LE607">$E607</a>	20 5A E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE75A">$E75A</a>                             	OUTPUT FILE HEADER
<a name="LE60A">$E60A</a>	A9 24                    	LDA   #$24                              	Output tape leader and then
<a name="LE60C">$E60C</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>                             	a $ character.
<a name="LE60F">$E60F</a>	A2 09                    	LDX   #$09
<a name="LE611">$E611</a>	BD A7 02                 	LDA   $02A7,X                           	Output header information.
<a name="LE614">$E614</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>
<a name="LE617">$E617</a>	CA                       	DEX
<a name="LE618">$E618</a>	D0 F7                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE611">$E611</a>
<a name="LE61A">$E61A</a>	BD 7F 02                 	LDA   $027F,X                           	Output filename with a null
<a name="LE61D">$E61D</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE625">$E625</a>                             	after it.
<a name="LE61F">$E61F</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>
<a name="LE622">$E622</a>	E8                       	INX
<a name="LE623">$E623</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE61A">$E61A</a>
<a name="LE625">$E625</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>
<a name="LE628">$E628</a>	A2 00                    	LDX   #$00
<a name="LE62A">$E62A</a>	CA                       	DEX                                     	Wait about 1.3mS.
<a name="LE62B">$E62B</a>	D0 FD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE62A">$E62A</a>
<a name="LE62D">$E62D</a>	60                       	RTS                                     	Exit
<a name="LE62E">$E62E</a>	AD A9 02                 	LDA   $02A9
<a name="LE631">$E631</a>	AC AA 02                 	LDY   $02AA                             	Transfer start of DATA.
<a name="LE634">$E634</a>	85 33                    	STA   $33
<a name="LE636">$E636</a>	84 34                    	STY   $34
<a name="LE638">$E638</a>	A0 00                    	LDY   #$00
<a name="LE63A">$E63A</a>	B1 33                    	LDA   ($33),Y                           	Load next byte.
<a name="LE63C">$E63C</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>                             	Output next byte.
<a name="LE63F">$E63F</a>	20 6C E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE56C">$E56C</a>                             	Increment pointers.
<a name="LE642">$E642</a>	90 F6                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE63A">$E63A</a>                             	More to do.
<a name="LE644">$E644</a>	60                       	RTS
<a name="LE645">$E645</a>	10 07 53 61 76 69        	BYT   $10,$07,$53,$61,$76,$69           	Data for "Saving"
<a name="LE64B">$E64B</a>	6E 67 20 2E 2E 00        	BYT   $6E,$67,$20,$2E,$2E,$00
<a name="LE651">$E651</a>	AD B1 02                 	LDA   $02B1                             	Print out string after " if
<a name="LE654">$E654</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65D">$E65D</a>                             	there was an error in format.
<a name="LE656">$E656</a>	A9 27                    	LDA   #$27
<a name="LE658">$E658</a>	A0 E5                    	LDY   #$E5
<a name="LE65A">$E65A</a>	20 B0 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>
<a name="LE65D">$E65D</a>	60                       	RTS

PUTTAPEBYTE
<a name="LE65E">$E65E</a>	85 2F                    	STA   $2F                               	OUTPUT BYTE TO CASSETTE
<a name="LE660">$E660</a>	8A                       	TXA                                     	$2F holds byte going out.
<a name="LE661">$E661</a>	48                       	PHA
<a name="LE662">$E662</a>	98                       	TYA
<a name="LE663">$E663</a>	48                       	PHA
<a name="LE664">$E664</a>	20 C0 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C0">$E6C0</a>                             	Wait until timer 1 has counted
<a name="LE667">$E667</a>	18                       	CLC                                     	out.
<a name="LE668">$E668</a>	A0 09                    	LDY   #$09
<a name="LE66A">$E66A</a>	A9 00                    	LDA   #$00
<a name="LE66C">$E66C</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE674">$E674</a>
<a name="LE66E">$E66E</a>	46 2F                    	LSR   $2F
<a name="LE670">$E670</a>	08                       	PHP                                     	Shift out the byte to be sent
<a name="LE671">$E671</a>	69 00                    	ADC   #$00                              	a bit at a time until whole
<a name="LE673">$E673</a>	28                       	PLP                                     	byte is done.
<a name="LE674">$E674</a>	20 8B E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE68B">$E68B</a>                             	Output bit.
<a name="LE677">$E677</a>	88                       	DEY
<a name="LE678">$E678</a>	D0 F4                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE66E">$E66E</a>
<a name="LE67A">$E67A</a>	49 01                    	EOR   #$01
<a name="LE67C">$E67C</a>	4A                       	LSR
<a name="LE67D">$E67D</a>	A0 04                    	LDY   #$04                              	Output 4 extra bits of zero
<a name="LE67F">$E67F</a>	20 8B E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE68B">$E68B</a>                             	at end of each byte.
<a name="LE682">$E682</a>	38                       	SEC
<a name="LE683">$E683</a>	88                       	DEY
<a name="LE684">$E684</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE67F">$E67F</a>
<a name="LE686">$E686</a>	68                       	PLA
<a name="LE687">$E687</a>	A8                       	TAY
<a name="LE688">$E688</a>	68                       	PLA
<a name="LE689">$E689</a>	AA                       	TAX
<a name="LE68A">$E68A</a>	60                       	RTS
<a name="LE68B">$E68B</a>	48                       	PHA                                     	Output bit to tape.
<a name="LE68C">$E68C</a>	08                       	PHP
<a name="LE68D">$E68D</a>	AD 4D 02                 	LDA   $024D
<a name="LE690">$E690</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE69C">$E69C</a>                             	Slow tape speed.
<a name="LE692">$E692</a>	38                       	SEC
<a name="LE693">$E693</a>	20 B2 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6B2">$E6B2</a>                             	Set timer 1 and wait until
<a name="LE696">$E696</a>	28                       	PLP                                     	timeout twice so whole cycle
<a name="LE697">$E697</a>	20 B2 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6B2">$E6B2</a>                             	is output on cassette line -
<a name="LE69A">$E69A</a>	68                       	PLA                                     	PB7.
<a name="LE69B">$E69B</a>	60                       	RTS
<a name="LE69C">$E69C</a>	20 B2 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6B2">$E6B2</a>                             	Slow tape speed - wait an
<a name="LE69F">$E69F</a>	A2 0F                    	LDX   #$0F                              	extra 7 times as long for
<a name="LE6A1">$E6A1</a>	28                       	PLP                                     	cycle.
<a name="LE6A2">$E6A2</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6A6">$E6A6</a>
<a name="LE6A4">$E6A4</a>	A2 07                    	LDX   #$07
<a name="LE6A6">$E6A6</a>	20 AB E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6AB">$E6AB</a>
<a name="LE6A9">$E6A9</a>	68                       	PLA
<a name="LE6AA">$E6AA</a>	60                       	RTS
<a name="LE6AB">$E6AB</a>	20 C0 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C0">$E6C0</a>                             	Wait until timer 1 has counted
<a name="LE6AE">$E6AE</a>	CA                       	DEX                                     	out X times over.
<a name="LE6AF">$E6AF</a>	D0 FA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6AB">$E6AB</a>
<a name="LE6B1">$E6B1</a>	60                       	RTS
<a name="LE6B2">$E6B2</a>	A9 D0                    	LDA   #$D0                              	Set timer 1 and wait for a
<a name="LE6B4">$E6B4</a>	A2 00                    	LDX   #$00                              	time out. No interrupt is
<a name="LE6B6">$E6B6</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6BA">$E6BA</a>                             	generated, the interrupt flag
<a name="LE6B8">$E6B8</a>	0A                       	ASL                                     	register is polled until time
<a name="LE6B9">$E6B9</a>	E8                       	INX                                     	out.
<a name="LE6BA">$E6BA</a>	8D 06 03                 	STA   $0306
<a name="LE6BD">$E6BD</a>	8E 07 03                 	STX   $0307
<a name="LE6C0">$E6C0</a>	AD 04 03                 	LDA   $0304
<a name="LE6C3">$E6C3</a>	2C 0D 03                 	BIT   $030D
<a name="LE6C6">$E6C6</a>	50 FB                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C3">$E6C3</a>
<a name="LE6C8">$E6C8</a>	60                       	RTS

GETTAPEBYTE
<a name="LE6C9">$E6C9</a>	98                       	TYA                                     	READ BYTE FROM TAPE
<a name="LE6CA">$E6CA</a>	48                       	PHA                                     	The byte is generated by
<a name="LE6CB">$E6CB</a>	8A                       	TXA                                     	shifting a series of bits into
<a name="LE6CC">$E6CC</a>	48                       	PHA                                     	$2F. This routine does a
<a name="LE6CD">$E6CD</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>                             	series of timings using timer
<a name="LE6D0">$E6D0</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>                             	2 to get each bit of data. 8
<a name="LE6D3">$E6D3</a>	B0 FB                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6D0">$E6D0</a>                             	bits are then compiled into
<a name="LE6D5">$E6D5</a>	20 FF E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6FF">$E6FF</a>                             	the next byte.
<a name="LE6D8">$E6D8</a>	B0 16                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6F0">$E6F0</a>
<a name="LE6DA">$E6DA</a>	A9 00                    	LDA   #$00
<a name="LE6DC">$E6DC</a>	A0 08                    	LDY   #$08
<a name="LE6DE">$E6DE</a>	20 FC E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6FC">$E6FC</a>
<a name="LE6E1">$E6E1</a>	08                       	PHP
<a name="LE6E2">$E6E2</a>	66 2F                    	ROR   $2F
<a name="LE6E4">$E6E4</a>	28                       	PLP
<a name="LE6E5">$E6E5</a>	69 00                    	ADC   #$00
<a name="LE6E7">$E6E7</a>	88                       	DEY
<a name="LE6E8">$E6E8</a>	D0 F4                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6DE">$E6DE</a>
<a name="LE6EA">$E6EA</a>	20 FC E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6FC">$E6FC</a>
<a name="LE6ED">$E6ED</a>	E9 00                    	SBC   #$00
<a name="LE6EF">$E6EF</a>	4A                       	LSR
<a name="LE6F0">$E6F0</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6F5">$E6F5</a>
<a name="LE6F2">$E6F2</a>	2E B1 02                 	ROL   $02B1
<a name="LE6F5">$E6F5</a>	68                       	PLA
<a name="LE6F6">$E6F6</a>	AA                       	TAX
<a name="LE6F7">$E6F7</a>	68                       	PLA
<a name="LE6F8">$E6F8</a>	A8                       	TAY
<a name="LE6F9">$E6F9</a>	A5 2F                    	LDA   $2F
<a name="LE6FB">$E6FB</a>	60                       	RTS
<a name="LE6FC">$E6FC</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>                             	Depending whether the
<a name="LE6FF">$E6FF</a>	48                       	PHA                                     	cassette load is slow or fast,
<a name="LE700">$E700</a>	AD 4D 02                 	LDA   $024D                             	this routine waits for a
<a name="LE703">$E703</a>	F0 15                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71A">$E71A</a>                             	series of active pulses from
<a name="LE705">$E705</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>                             	the cassette input.
<a name="LE708">$E708</a>	A2 02                    	LDX   #$02
<a name="LE70A">$E70A</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE70E">$E70E</a>
<a name="LE70C">$E70C</a>	A2 06                    	LDX   #$06
<a name="LE70E">$E70E</a>	A9 00                    	LDA   #$00
<a name="LE710">$E710</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>
<a name="LE713">$E713</a>	69 00                    	ADC   #$00
<a name="LE715">$E715</a>	CA                       	DEX
<a name="LE716">$E716</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE710">$E710</a>
<a name="LE718">$E718</a>	C9 04                    	CMP   #$04
<a name="LE71A">$E71A</a>	68                       	PLA
<a name="LE71B">$E71B</a>	60                       	RTS
<a name="LE71C">$E71C</a>	48                       	PHA                                     	Cassette input timing.
<a name="LE71D">$E71D</a>	AD 00 03                 	LDA   $0300                             	This routine waits for an
<a name="LE720">$E720</a>	AD 0D 03                 	LDA   $030D                             	active transition of the
<a name="LE723">$E723</a>	29 10                    	AND   #$10                              	cassette input line (CB1 of
<a name="LE725">$E725</a>	F0 F9                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE720">$E720</a>                             	6522). The time taken to
<a name="LE727">$E727</a>	AD 09 03                 	LDA   $0309                             	receive it is measured using
<a name="LE72A">$E72A</a>	48                       	PHA                                     	timer 2 of 6522.
<a name="LE72B">$E72B</a>	A9 FF                    	LDA   #$FF
<a name="LE72D">$E72D</a>	8D 09 03                 	STA   $0309
<a name="LE730">$E730</a>	68                       	PLA
<a name="LE731">$E731</a>	C9 FE                    	CMP   #$FE
<a name="LE733">$E733</a>	68                       	PLA
<a name="LE734">$E734</a>	60                       	RTS

SYNCTAPE
<a name="LE735">$E735</a>	20 FC E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6FC">$E6FC</a>                             	GET IN SYNC WITH CASSETTE DATA
<a name="LE738">$E738</a>	66 2F                    	ROR   $2F                               	Get bits in until byte holds
<a name="LE73A">$E73A</a>	A9 16                    	LDA   #$16                              	#16 - the value of the bytes
<a name="LE73C">$E73C</a>	C5 2F                    	CMP   $2F                               	sent out as tape leader.
<a name="LE73E">$E73E</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE735">$E735</a>
<a name="LE740">$E740</a>	AD 4D 02                 	LDA   $024D
<a name="LE743">$E743</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE74D">$E74D</a>                             	Fast load (2400 baud).
<a name="LE745">$E745</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>
<a name="LE748">$E748</a>	20 1C E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE71C">$E71C</a>
<a name="LE74B">$E74B</a>	B0 FB                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE748">$E748</a>
<a name="LE74D">$E74D</a>	A2 03                    	LDX   #$03                              	Read 3 successive bytes of #16
<a name="LE74F">$E74F</a>	20 C9 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C9">$E6C9</a>                             	from cassette. If any byte is
<a name="LE752">$E752</a>	C9 16                    	CMP   #$16                              	not #16 then start again.
<a name="LE754">$E754</a>	D0 DF                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE735">$E735</a>
<a name="LE756">$E756</a>	CA                       	DEX
<a name="LE757">$E757</a>	D0 F6                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE74F">$E74F</a>
<a name="LE759">$E759</a>	60                       	RTS

WRITELEADER
<a name="LE75A">$E75A</a>	A2 02                    	LDX   #$02                              	OUTPUT TAPE LEADER
<a name="LE75C">$E75C</a>	A0 03                    	LDY   #$03
<a name="LE75E">$E75E</a>	A9 16                    	LDA   #$16                              	Use X and Y to count out 259
<a name="LE760">$E760</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>                             	bytes of #16 that are sent out
<a name="LE763">$E763</a>	88                       	DEY                                     	as tape leader.
<a name="LE764">$E764</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE75E">$E75E</a>
<a name="LE766">$E766</a>	CA                       	DEX
<a name="LE767">$E767</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE75E">$E75E</a>
<a name="LE769">$E769</a>	60                       	RTS

SETUPTAPE
<a name="LE76A">$E76A</a>	20 1A EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE1A">$EE1A</a>                             	SET 6522 FOR CASSETTE SYSTEM
<a name="LE76D">$E76D</a>	A0 06                    	LDY   #$06                              	Disable timer 1 interrupts and
<a name="LE76F">$E76F</a>	78                       	SEI                                     	then load up the 6522's
<a name="LE770">$E770</a>	BE 82 E7                 	LDX   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE782">$E782</a>,Y                           	registers with data in the
<a name="LE773">$E773</a>	B9 89 E7                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE789">$E789</a>,Y                           	table below.
<a name="LE776">$E776</a>	9D 00 03                 	STA   $0300,X
<a name="LE779">$E779</a>	88                       	DEY
<a name="LE77A">$E77A</a>	10 F4                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE770">$E770</a>
<a name="LE77C">$E77C</a>	A9 40                    	LDA   #$40
<a name="LE77E">$E77E</a>	8D 00 03                 	STA   $0300
<a name="LE781">$E781</a>	60                       	RTS
<a name="LE782">$E782</a>	05 04 0B 02 0C 08 0E     	BYT   $05,$04,$0B,$02,$0C,$08,$0E       	List of registers and data for
<a name="LE789">$E789</a>	00 D0 C0 FF 10 F4 7F     	BYT   $00,$D0,$C0,$FF,$10,$F4,$7F       	the routine above.
<a name="LE790">$E790</a>	A0 00                    	LDY   #$00                              	Routine to compare the names
<a name="LE792">$E792</a>	A2 00                    	LDX   #$00                              	of the file wanted and that
<a name="LE794">$E794</a>	AD 7F 02                 	LDA   $027F                             	whose header has just been
<a name="LE797">$E797</a>	F0 15                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7AE">$E7AE</a>                             	loaded.
<a name="LE799">$E799</a>	B9 7F 02                 	LDA   $027F,Y
<a name="LE79C">$E79C</a>	D9 93 02                 	CMP   $0293,Y
<a name="LE79F">$E79F</a>	F0 01                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7A2">$E7A2</a>
<a name="LE7A1">$E7A1</a>	E8                       	INX
<a name="LE7A2">$E7A2</a>	99 93 02                 	STA   $0293,Y
<a name="LE7A5">$E7A5</a>	C8                       	INY
<a name="LE7A6">$E7A6</a>	C0 11                    	CPY   #$11
<a name="LE7A8">$E7A8</a>	B0 04                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7AE">$E7AE</a>
<a name="LE7AA">$E7AA</a>	48                       	PHA
<a name="LE7AB">$E7AB</a>	68                       	PLA
<a name="LE7AC">$E7AC</a>	D0 EB                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE799">$E799</a>
<a name="LE7AE">$E7AE</a>	60                       	RTS
<a name="LE7AF">$E7AF</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".

GETTAPEPARAMS
<a name="LE7B2">$E7B2</a>	A9 00                    	LDA   #$00                              	CHECK CSAVE/CLOAD PARAMETERS
<a name="LE7B4">$E7B4</a>	8D 4D 02                 	STA   $024D                             	Default Speed.
<a name="LE7B7">$E7B7</a>	8D AD 02                 	STA   $02AD                             	Reset AUTO flag.
<a name="LE7BA">$E7BA</a>	8D AE 02                 	STA   $02AE                             	Reset file type to Basic.
<a name="LE7BD">$E7BD</a>	8D 5B 02                 	STA   $025B                             	Clear VERIFY flag.
<a name="LE7C0">$E7C0</a>	8D 5A 02                 	STA   $025A                             	Clear JOIN fig.
<a name="LE7C3">$E7C3</a>	8D 5C 02                 	STA   $025C                             	Clear error counter LSB.
<a name="LE7C6">$E7C6</a>	8D 5D 02                 	STA   $025D                             	Clear error counter MSB.
<a name="LE7C9">$E7C9</a>	8D B1 02                 	STA   $02B1                             	Clear error in file format.
<a name="LE7CC">$E7CC</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate expression.
<a name="LE7CF">$E7CF</a>	24 28                    	BIT   $28
<a name="LE7D1">$E7D1</a>	10 DC                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7AF">$E7AF</a>                             	Error if not string type.
<a name="LE7D3">$E7D3</a>	20 D0 D7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD7D0">$D7D0</a>                             	Set up string in main FPA.
<a name="LE7D6">$E7D6</a>	AA                       	TAX
<a name="LE7D7">$E7D7</a>	A0 00                    	LDY   #$00
<a name="LE7D9">$E7D9</a>	E8                       	INX
<a name="LE7DA">$E7DA</a>	CA                       	DEX
<a name="LE7DB">$E7DB</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7E7">$E7E7</a>
<a name="LE7DD">$E7DD</a>	B1 91                    	LDA   ($91),Y                           	Transfer name of file to be
<a name="LE7DF">$E7DF</a>	99 7F 02                 	STA   $027F,Y                           	loaded, saved or verified.
<a name="LE7E2">$E7E2</a>	C8                       	INY
<a name="LE7E3">$E7E3</a>	C0 10                    	CPY   #$10
<a name="LE7E5">$E7E5</a>	D0 F3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7DA">$E7DA</a>
<a name="LE7E7">$E7E7</a>	A9 00                    	LDA   #$00
<a name="LE7E9">$E7E9</a>	99 7F 02                 	STA   $027F,Y                           	End filename with a null.
<a name="LE7EC">$E7EC</a>	20 E8 00                 	JSR   $00E8                             	Clear spaces in text.
<a name="LE7EF">$E7EF</a>	F0 61                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE852">$E852</a>                             	End of statement.
<a name="LE7F1">$E7F1</a>	C9 2C                    	CMP   #$2C                              	Error if next character is not
<a name="LE7F3">$E7F3</a>	D0 BA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7AF">$E7AF</a>                             	a comma.
<a name="LE7F5">$E7F5</a>	20 E2 00                 	JSR   $00E2                             	Clear spaces.
<a name="LE7F8">$E7F8</a>	F0 58                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE852">$E852</a>                             	End of statement.
<a name="LE7FA">$E7FA</a>	C9 2C                    	CMP   #$2C                              	Get next character if comma
<a name="LE7FC">$E7FC</a>	F0 F7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7F5">$E7F5</a>                             	found.
<a name="LE7FE">$E7FE</a>	C9 C7                    	CMP   #$C7
<a name="LE800">$E800</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE807">$E807</a>                             	'AUTO ' token not found.
<a name="LE802">$E802</a>	8D AD 02                 	STA   $02AD                             	Set AUTO indicator.
<a name="LE805">$E805</a>	B0 EE                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7F5">$E7F5</a>
<a name="LE807">$E807</a>	C9 53                    	CMP   #$53
<a name="LE809">$E809</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE810">$E810</a>                             	No 'S ' for slow tape speed.
<a name="LE80B">$E80B</a>	8D 4D 02                 	STA   $024D                             	Set slow tape speed.
<a name="LE80E">$E80E</a>	B0 E5                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7F5">$E7F5</a>
<a name="LE810">$E810</a>	C9 56                    	CMP   #$56
<a name="LE812">$E812</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE819">$E819</a>                             	No 'V ' for file verify.
<a name="LE814">$E814</a>	8D 5B 02                 	STA   $025B                             	Set verify flag.
<a name="LE817">$E817</a>	B0 DC                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7F5">$E7F5</a>
<a name="LE819">$E819</a>	C9 4A                    	CMP   #$4A
<a name="LE81B">$E81B</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE822">$E822</a>                             	No 'J ' for JOINing files.
<a name="LE81D">$E81D</a>	8D 5A 02                 	STA   $025A                             	Set JOIN flag.
<a name="LE820">$E820</a>	B0 D3                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7F5">$E7F5</a>
<a name="LE822">$E822</a>	C9 41                    	CMP   #$41
<a name="LE824">$E824</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE82A">$E82A</a>                             	'A ' found - machine code program.
<a name="LE826">$E826</a>	C9 45                    	CMP   #$45                              	No 'E ' to indicate end of
<a name="LE828">$E828</a>	D0 47                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE871">$E871</a>                             	machine code program
<a name="LE82A">$E82A</a>	85 0E                    	STA   $0E                               	Save A/E - start/end indicator.
<a name="LE82C">$E82C</a>	20 E2 00                 	JSR   $00E2                             	Clear space.
<a name="LE82F">$E82F</a>	A2 80                    	LDX   #$80                              	Inhibit AUTO loading of
<a name="LE831">$E831</a>	8E AE 02                 	STX   $02AE                             	machine code programs.
<a name="LE834">$E834</a>	20 53 E8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE853">$E853</a>                             	Get numeric integer.
<a name="LE837">$E837</a>	A5 33                    	LDA   $33
<a name="LE839">$E839</a>	A4 34                    	LDY   $34                               	Transfer integer to pointers
<a name="LE83B">$E83B</a>	A6 0E                    	LDX   $0E                               	in page 2 depending whether it
<a name="LE83D">$E83D</a>	E0 41                    	CPX   #$41                              	it is the start or end address
<a name="LE83F">$E83F</a>	D0 08                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE849">$E849</a>                             	of the machine code routine or
<a name="LE841">$E841</a>	8D A9 02                 	STA   $02A9                             	block of data.
<a name="LE844">$E844</a>	8C AA 02                 	STY   $02AA
<a name="LE847">$E847</a>	B0 A3                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7EC">$E7EC</a>
<a name="LE849">$E849</a>	8D AB 02                 	STA   $02AB
<a name="LE84C">$E84C</a>	8C AC 02                 	STY   $02AC
<a name="LE84F">$E84F</a>	4C EC E7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7EC">$E7EC</a>                             	Jump back for more input.
<a name="LE852">$E852</a>	60                       	RTS                                     	Exit.
<a name="LE853">$E853</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Get numeric expression and
<a name="LE856">$E856</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	convert it into integer at $33
<a name="LE859">$E859</a>	18                       	CLC                                     	and $34.
<a name="LE85A">$E85A</a>	60                       	RTS

CLOAD
<a name="LE85B">$E85B</a>	08                       	PHP                                     	CLOAD
<a name="LE85C">$E85C</a>	20 B2 E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7B2">$E7B2</a>                             	Set up variables.
<a name="LE85F">$E85F</a>	AD AD 02                 	LDA   $02AD
<a name="LE862">$E862</a>	0D AE 02                 	ORA   $02AE                             	Error if trying the AUTO load
<a name="LE865">$E865</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE871">$E871</a>                             	of a non-Basic program.
<a name="LE867">$E867</a>	AD 5A 02                 	LDA   $025A                             	Give error also if JOIN and
<a name="LE86A">$E86A</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE874">$E874</a>                             	VERIFY both set.
<a name="LE86C">$E86C</a>	AD 5B 02                 	LDA   $025B
<a name="LE86F">$E86F</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE874">$E874</a>
<a name="LE871">$E871</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".
<a name="LE874">$E874</a>	20 6A E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE76A">$E76A</a>                             	Set 6522.
<a name="LE877">$E877</a>	20 7D E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE57D">$E57D</a>                             	Print "SEARCHING".
<a name="LE87A">$E87A</a>	20 AC E4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4AC">$E4AC</a>                             	Read file header.
<a name="LE87D">$E87D</a>	2C AE 02                 	BIT   $02AE
<a name="LE880">$E880</a>	70 F8                    	BVS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE87A">$E87A</a>
<a name="LE882">$E882</a>	AD 5A 02                 	LDA   $025A
<a name="LE885">$E885</a>	F0 2C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE8B3">$E8B3</a>
<a name="LE887">$E887</a>	AD AE 02                 	LDA   $02AE
<a name="LE88A">$E88A</a>	D0 EE                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE87A">$E87A</a>
<a name="LE88C">$E88C</a>	A5 9C                    	LDA   $9C
<a name="LE88E">$E88E</a>	A4 9D                    	LDY   $9D
<a name="LE890">$E890</a>	38                       	SEC
<a name="LE891">$E891</a>	E9 02                    	SBC   #$02
<a name="LE893">$E893</a>	B0 01                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE896">$E896</a>
<a name="LE895">$E895</a>	88                       	DEY
<a name="LE896">$E896</a>	8D A9 02                 	STA   $02A9
<a name="LE899">$E899</a>	8C AA 02                 	STY   $02AA
<a name="LE89C">$E89C</a>	38                       	SEC                                     	Set pointers to the amount of
<a name="LE89D">$E89D</a>	E5 9A                    	SBC   $9A                               	data and where it is to be
<a name="LE89F">$E89F</a>	AA                       	TAX                                     	loaded.
<a name="LE8A0">$E8A0</a>	98                       	TYA
<a name="LE8A1">$E8A1</a>	E5 9B                    	SBC   $9B
<a name="LE8A3">$E8A3</a>	A8                       	TAY
<a name="LE8A4">$E8A4</a>	18                       	CLC
<a name="LE8A5">$E8A5</a>	8A                       	TXA
<a name="LE8A6">$E8A6</a>	6D AB 02                 	ADC   $02AB
<a name="LE8A9">$E8A9</a>	8D AB 02                 	STA   $02AB
<a name="LE8AC">$E8AC</a>	98                       	TYA
<a name="LE8AD">$E8AD</a>	6D AC 02                 	ADC   $02AC
<a name="LE8B0">$E8B0</a>	8D AC 02                 	STA   $02AC
<a name="LE8B3">$E8B3</a>	20 9B E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE59B">$E59B</a>                             	"Loading/Verifying" filename.
<a name="LE8B6">$E8B6</a>	20 E0 E4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4E0">$E4E0</a>                             	Load/verify data from tape.
<a name="LE8B9">$E8B9</a>	20 3D E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE93D">$E93D</a>                             	Reset cassette status.
<a name="LE8BC">$E8BC</a>	28                       	PLP
<a name="LE8BD">$E8BD</a>	AD 5B 02                 	LDA   $025B
<a name="LE8C0">$E8C0</a>	F0 11                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE8D3">$E8D3</a>                             	Not Verifying data.
<a name="LE8C2">$E8C2</a>	AE 5C 02                 	LDX   $025C                             	Print number of verify errors.
<a name="LE8C5">$E8C5</a>	AD 5D 02                 	LDA   $025D
<a name="LE8C8">$E8C8</a>	20 C5 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0C5">$E0C5</a>
<a name="LE8CB">$E8CB</a>	A9 52                    	LDA   #$52
<a name="LE8CD">$E8CD</a>	A0 E5                    	LDY   #$E5                              	Print "Verify errors
<a name="LE8CF">$E8CF</a>	20 B0 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>                             	detected".
<a name="LE8D2">$E8D2</a>	60                       	RTS
<a name="LE8D3">$E8D3</a>	20 51 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE651">$E651</a>                             	Print filename if there is a
<a name="LE8D6">$E8D6</a>	AD AE 02                 	LDA   $02AE                             	format error.
<a name="LE8D9">$E8D9</a>	F0 0E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE8E9">$E8E9</a>
<a name="LE8DB">$E8DB</a>	AD AD 02                 	LDA   $02AD                             	Jump to start of machine code
<a name="LE8DE">$E8DE</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE8E8">$E8E8</a>                             	program if correct file type
<a name="LE8E0">$E8E0</a>	AD B1 02                 	LDA   $02B1                             	and there are no loading errors.
<a name="LE8E3">$E8E3</a>	EA                       	NOP
<a name="LE8E4">$E8E4</a>	EA                       	NOP
<a name="LE8E5">$E8E5</a>	6C A9 02                 	JMP   ($02A9)
<a name="LE8E8">$E8E8</a>	60                       	RTS
<a name="LE8E9">$E8E9</a>	AE AB 02                 	LDX   $02AB                             	Transfer end of Basic to zero
<a name="LE8EC">$E8EC</a>	AD AC 02                 	LDA   $02AC                             	page pointer.
<a name="LE8EF">$E8EF</a>	86 9C                    	STX   $9C
<a name="LE8F1">$E8F1</a>	85 9D                    	STA   $9D
<a name="LE8F3">$E8F3</a>	20 5F C5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC55F">$C55F</a>                             	Set up line link pointers.
<a name="LE8F6">$E8F6</a>	AD AD 02                 	LDA   $02AD
<a name="LE8F9">$E8F9</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE903">$E903</a>                             	Not AUTO run.
<a name="LE8FB">$E8FB</a>	AD B1 02                 	LDA   $02B1
<a name="LE8FE">$E8FE</a>	EA                       	NOP
<a name="LE8FF">$E8FF</a>	EA                       	NOP
<a name="LE900">$E900</a>	4C 08 C7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC708">$C708</a>                             	Jump to CLEAR &amp; run program.

CLEAR
<a name="LE903">$E903</a>	20 08 C7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC708">$C708</a>                             	CLEAR
<a name="LE906">$E906</a>	4C A8 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4A8">$C4A8</a>                             	Restart Basic.

CSAVE
<a name="LE909">$E909</a>	A5 9A                    	LDA   $9A                               	CSAVE
<a name="LE90B">$E90B</a>	A4 9B                    	LDY   $9B                               	Transfer Start Basic pointer -
<a name="LE90D">$E90D</a>	8D A9 02                 	STA   $02A9                             	start of data.
<a name="LE910">$E910</a>	8C AA 02                 	STY   $02AA
<a name="LE913">$E913</a>	A5 9C                    	LDA   $9C                               	Transfer End Basic pointer -
<a name="LE915">$E915</a>	A4 9D                    	LDY   $9D                               	end of data.
<a name="LE917">$E917</a>	8D AB 02                 	STA   $02AB
<a name="LE91A">$E91A</a>	8C AC 02                 	STY   $02AC
<a name="LE91D">$E91D</a>	08                       	PHP
<a name="LE91E">$E91E</a>	20 B2 E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7B2">$E7B2</a>                             	Process rest of statement.
<a name="LE921">$E921</a>	AD 5A 02                 	LDA   $025A                             	Give error if trying to JOIN
<a name="LE924">$E924</a>	0D 5B 02                 	ORA   $025B                             	and VERIFY program together.
<a name="LE927">$E927</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE92C">$E92C</a>
<a name="LE929">$E929</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".
<a name="LE92C">$E92C</a>	20 6A E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE76A">$E76A</a>                             	Set 6522 for cassette routine.
<a name="LE92F">$E92F</a>	20 85 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE585">$E585</a>                             	Print "Saving"
<a name="LE932">$E932</a>	20 07 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE607">$E607</a>                             	Output file header.
<a name="LE935">$E935</a>	20 2E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE62E">$E62E</a>                             	Output data to cassette.
<a name="LE938">$E938</a>	20 3D E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE93D">$E93D</a>                             	Reset cassette status.
<a name="LE93B">$E93B</a>	28                       	PLP
<a name="LE93C">$E93C</a>	60                       	RTS
<a name="LE93D">$E93D</a>	20 F5 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE5F5">$E5F5</a>                             	Reset cassette status by
<a name="LE940">$E940</a>	20 AA F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF9AA">$F9AA</a>                             	clearing status line, reset
<a name="LE943">$E943</a>	4C E0 ED                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDE0">$EDE0</a>                             	6522 and the 16 bit counters.

CALL
<a name="LE946">$E946</a>	20 53 E8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE853">$E853</a>                             	CALL Evaluate numeric
<a name="LE949">$E949</a>	6C 33 00                 	JMP   ($0033)                           	integer and jump through it.
<a name="LE94C">$E94C</a>	A2 00                    	LDX   #$00                              	Get hex number into A and Y.
<a name="LE94E">$E94E</a>	86 0C                    	STX   $0C                               	Set initial value to 0.
<a name="LE950">$E950</a>	86 0D                    	STX   $0D
<a name="LE952">$E952</a>	F0 13                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE967">$E967</a>
<a name="LE954">$E954</a>	A2 03                    	LDX   #$03                              	Set bit counter.
<a name="LE956">$E956</a>	0A                       	ASL                                     	Shift digit into top nibble.
<a name="LE957">$E957</a>	0A                       	ASL
<a name="LE958">$E958</a>	0A                       	ASL
<a name="LE959">$E959</a>	0A                       	ASL
<a name="LE95A">$E95A</a>	0A                       	ASL
<a name="LE95B">$E95B</a>	26 0C                    	ROL   $0C                               	Shift bit into number.
<a name="LE95D">$E95D</a>	26 0D                    	ROL   $0D
<a name="LE95F">$E95F</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE964">$E964</a>
<a name="LE961">$E961</a>	4C 39 DC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDC39">$DC39</a>                             	"OVERFLOW ERROR".
<a name="LE964">$E964</a>	CA                       	DEX                                     	If another bit then do
<a name="LE965">$E965</a>	10 F3                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE95A">$E95A</a>                             	another shift.
<a name="LE967">$E967</a>	20 E2 00                 	JSR   $00E2                             	Get next char.
<a name="LE96A">$E96A</a>	C9 80                    	CMP   #$80
<a name="LE96C">$E96C</a>	B0 0E                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE97C">$E97C</a>                             	Exit if token.
<a name="LE96E">$E96E</a>	09 80                    	ORA   #$80
<a name="LE970">$E970</a>	49 B0                    	EOR   #$B0                              	Reduce to digit range.
<a name="LE972">$E972</a>	C9 0A                    	CMP   #$0A
<a name="LE974">$E974</a>	90 DE                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE954">$E954</a>                             	If 0-9 then put in hex digit.
<a name="LE976">$E976</a>	69 88                    	ADC   #$88
<a name="LE978">$E978</a>	C9 FA                    	CMP   #$FA                              	If A-F then put in hex digit.
<a name="LE97A">$E97A</a>	B0 D8                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE954">$E954</a>
<a name="LE97C">$E97C</a>	A5 0D                    	LDA   $0D                               	Exit with number in A (MSB)
<a name="LE97E">$E97E</a>	A4 0C                    	LDY   $0C                               	and Y (LSB).
<a name="LE980">$E980</a>	60                       	RTS
<a name="LE981">$E981</a>	20 4C E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE94C">$E94C</a>                             	Get hex number and put it into
<a name="LE984">$E984</a>	4C 40 DF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LDF40">$DF40</a>                             	main Floating Point Acc.

STORE
<a name="LE987">$E987</a>	08                       	PHP                                     	STORE
<a name="LE988">$E988</a>	20 57 EA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA57">$EA57</a>                             	Process rest of statement.
<a name="LE98B">$E98B</a>	A9 40                    	LDA   #$40                              	Set type of data.
<a name="LE98D">$E98D</a>	8D AE 02                 	STA   $02AE
<a name="LE990">$E990</a>	A5 28                    	LDA   $28                               	Set type of Array.
<a name="LE992">$E992</a>	8D AF 02                 	STA   $02AF
<a name="LE995">$E995</a>	A5 29                    	LDA   $29
<a name="LE997">$E997</a>	8D B0 02                 	STA   $02B0
<a name="LE99A">$E99A</a>	20 85 E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE585">$E585</a>                             	Print "Saving".
<a name="LE99D">$E99D</a>	20 07 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE607">$E607</a>                             	Output file header.
<a name="LE9A0">$E9A0</a>	20 9E EA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA9E">$EA9E</a>
<a name="LE9A3">$E9A3</a>	20 2E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE62E">$E62E</a>                             	Transfer data.
<a name="LE9A6">$E9A6</a>	24 28                    	BIT   $28
<a name="LE9A8">$E9A8</a>	10 22                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9CC">$E9CC</a>                             	Not string type.
<a name="LE9AA">$E9AA</a>	A0 00                    	LDY   #$00
<a name="LE9AC">$E9AC</a>	B1 0C                    	LDA   ($0C),Y
<a name="LE9AE">$E9AE</a>	F0 17                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9C7">$E9C7</a>
<a name="LE9B0">$E9B0</a>	AA                       	TAX
<a name="LE9B1">$E9B1</a>	A0 02                    	LDY   #$02
<a name="LE9B3">$E9B3</a>	B1 0C                    	LDA   ($0C),Y
<a name="LE9B5">$E9B5</a>	99 D0 00                 	STA   $00D0,Y
<a name="LE9B8">$E9B8</a>	88                       	DEY
<a name="LE9B9">$E9B9</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9B3">$E9B3</a>
<a name="LE9BB">$E9BB</a>	E8                       	INX
<a name="LE9BC">$E9BC</a>	CA                       	DEX
<a name="LE9BD">$E9BD</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9C7">$E9C7</a>
<a name="LE9BF">$E9BF</a>	B1 D1                    	LDA   ($D1),Y                           	Output next string from array
<a name="LE9C1">$E9C1</a>	20 5E E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE65E">$E65E</a>                             	to cassette.
<a name="LE9C4">$E9C4</a>	C8                       	INY
<a name="LE9C5">$E9C5</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9BC">$E9BC</a>
<a name="LE9C7">$E9C7</a>	20 42 EA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA42">$EA42</a>                             	Advance pointer to next string
<a name="LE9CA">$E9CA</a>	90 DE                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9AA">$E9AA</a>                             	pointer. Branch if more.
<a name="LE9CC">$E9CC</a>	20 3D E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE93D">$E93D</a>                             	Reset cassette status.
<a name="LE9CF">$E9CF</a>	28                       	PLP
<a name="LE9D0">$E9D0</a>	60                       	RTS

RECALL
<a name="LE9D1">$E9D1</a>	20 50 D6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD650">$D650</a>                             	RECALL Attempt Garbage
<a name="LE9D4">$E9D4</a>	08                       	PHP                                     	Collection.
<a name="LE9D5">$E9D5</a>	20 57 EA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA57">$EA57</a>                             	Get parameters &amp; test syntax.
<a name="LE9D8">$E9D8</a>	20 7D E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE57D">$E57D</a>                             	Print "Searching".
<a name="LE9DB">$E9DB</a>	20 AC E4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4AC">$E4AC</a>                             	Get in sync with tape.
<a name="LE9DE">$E9DE</a>	2C AE 02                 	BIT   $02AE
<a name="LE9E1">$E9E1</a>	50 F8                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9DB">$E9DB</a>
<a name="LE9E3">$E9E3</a>	AD AF 02                 	LDA   $02AF
<a name="LE9E6">$E9E6</a>	45 28                    	EOR   $28                               	String array flags do not
<a name="LE9E8">$E9E8</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9DB">$E9DB</a>                             	match.
<a name="LE9EA">$E9EA</a>	AD B0 02                 	LDA   $02B0
<a name="LE9ED">$E9ED</a>	45 29                    	EOR   $29                               	Integer array flags do not
<a name="LE9EF">$E9EF</a>	D0 EA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE9DB">$E9DB</a>                             	match.
<a name="LE9F1">$E9F1</a>	20 9B E5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE59B">$E59B</a>                             	"Loading/Verifying" filename.
<a name="LE9F4">$E9F4</a>	A0 02                    	LDY   #$02
<a name="LE9F6">$E9F6</a>	B1 CE                    	LDA   ($CE),Y
<a name="LE9F8">$E9F8</a>	CD A9 02                 	CMP   $02A9
<a name="LE9FB">$E9FB</a>	C8                       	INY
<a name="LE9FC">$E9FC</a>	B1 CE                    	LDA   ($CE),Y                           	Test if there is enough space
<a name="LE9FE">$E9FE</a>	ED AA 02                 	SBC   $02AA                             	to load in array.
<a name="LEA01">$EA01</a>	B0 06                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA09">$EA09</a>
<a name="LEA03">$EA03</a>	20 3D E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE93D">$E93D</a>                             	Reset cassette status.
<a name="LEA06">$EA06</a>	4C 7C C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>                             	Print "OUT OF MEMORY ERROR".
<a name="LEA09">$EA09</a>	20 9E EA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA9E">$EA9E</a>
<a name="LEA0C">$EA0C</a>	20 E0 E4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE4E0">$E4E0</a>                             	Load/Verify the data.
<a name="LEA0F">$EA0F</a>	24 28                    	BIT   $28
<a name="LEA11">$EA11</a>	10 27                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA3A">$EA3A</a>
<a name="LEA13">$EA13</a>	A0 00                    	LDY   #$00
<a name="LEA15">$EA15</a>	B1 0C                    	LDA   ($0C),Y
<a name="LEA17">$EA17</a>	F0 1C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA35">$EA35</a>
<a name="LEA19">$EA19</a>	20 AB D5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD5AB">$D5AB</a>                             	Get space for string.
<a name="LEA1C">$EA1C</a>	A0 00                    	LDY   #$00
<a name="LEA1E">$EA1E</a>	AA                       	TAX
<a name="LEA1F">$EA1F</a>	E8                       	INX
<a name="LEA20">$EA20</a>	CA                       	DEX
<a name="LEA21">$EA21</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA2B">$EA2B</a>
<a name="LEA23">$EA23</a>	20 C9 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE6C9">$E6C9</a>                             	Read and save next string from
<a name="LEA26">$EA26</a>	91 D1                    	STA   ($D1),Y                           	cassette and put it into the
<a name="LEA28">$EA28</a>	C8                       	INY                                     	array.
<a name="LEA29">$EA29</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA20">$EA20</a>
<a name="LEA2B">$EA2B</a>	A0 02                    	LDY   #$02
<a name="LEA2D">$EA2D</a>	B9 D0 00                 	LDA   $00D0,Y
<a name="LEA30">$EA30</a>	91 0C                    	STA   ($0C),Y
<a name="LEA32">$EA32</a>	88                       	DEY
<a name="LEA33">$EA33</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA2D">$EA2D</a>
<a name="LEA35">$EA35</a>	20 42 EA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA42">$EA42</a>                             	Advance pointer in array to
<a name="LEA38">$EA38</a>	90 D9                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA13">$EA13</a>                             	next string pointer.
<a name="LEA3A">$EA3A</a>	20 3D E9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE93D">$E93D</a>                             	Reset 6522.
<a name="LEA3D">$EA3D</a>	20 51 E6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE651">$E651</a>                             	Print out string name if there
<a name="LEA40">$EA40</a>	28                       	PLP                                     	is a format error.
<a name="LEA41">$EA41</a>	60                       	RTS
<a name="LEA42">$EA42</a>	18                       	CLC                                     	Advance pointer at $0C/$0D to
<a name="LEA43">$EA43</a>	A9 03                    	LDA   #$03                              	point to next string pointer
<a name="LEA45">$EA45</a>	65 0C                    	ADC   $0C                               	in array and test if all
<a name="LEA47">$EA47</a>	85 0C                    	STA   $0C                               	loaded yet.
<a name="LEA49">$EA49</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA4D">$EA4D</a>
<a name="LEA4B">$EA4B</a>	E6 0D                    	INC   $0D
<a name="LEA4D">$EA4D</a>	A8                       	TAY
<a name="LEA4E">$EA4E</a>	A5 0D                    	LDA   $0D
<a name="LEA50">$EA50</a>	CC AB 02                 	CPY   $02AB
<a name="LEA53">$EA53</a>	ED AC 02                 	SBC   $02AC
<a name="LEA56">$EA56</a>	60                       	RTS                                     	C=0 if more strings to load.
<a name="LEA57">$EA57</a>	A9 40                    	LDA   #$40                              	Set STORE/RECALL flag.
<a name="LEA59">$EA59</a>	85 2B                    	STA   $2B
<a name="LEA5B">$EA5B</a>	20 88 D1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD188">$D188</a>                             	Get variable from text.
<a name="LEA5E">$EA5E</a>	A9 00                    	LDA   #$00                              	Clear STORE/RECALL flag.
<a name="LEA60">$EA60</a>	85 2B                    	STA   $2B
<a name="LEA62">$EA62</a>	A0 03                    	LDY   #$03                              	Load $02A9/$02AA with start of
<a name="LEA64">$EA64</a>	B1 CE                    	LDA   ($CE),Y                           	data.
<a name="LEA66">$EA66</a>	8D AA 02                 	STA   $02AA
<a name="LEA69">$EA69</a>	88                       	DEY
<a name="LEA6A">$EA6A</a>	B1 CE                    	LDA   ($CE),Y
<a name="LEA6C">$EA6C</a>	8D A9 02                 	STA   $02A9
<a name="LEA6F">$EA6F</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA74">$EA74</a>
<a name="LEA71">$EA71</a>	CE AA 02                 	DEC   $02AA                             	Decrement address.
<a name="LEA74">$EA74</a>	CE A9 02                 	DEC   $02A9
<a name="LEA77">$EA77</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Test comma.
<a name="LEA7A">$EA7A</a>	A5 29                    	LDA   $29                               	Save Variable type bytes.
<a name="LEA7C">$EA7C</a>	48                       	PHA
<a name="LEA7D">$EA7D</a>	A5 28                    	LDA   $28
<a name="LEA7F">$EA7F</a>	48                       	PHA
<a name="LEA80">$EA80</a>	20 B2 E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE7B2">$E7B2</a>                             	Process syntax of rest of
<a name="LEA83">$EA83</a>	68                       	PLA                                     	command.
<a name="LEA84">$EA84</a>	85 28                    	STA   $28
<a name="LEA86">$EA86</a>	68                       	PLA                                     	Restore variable type bytes.
<a name="LEA87">$EA87</a>	85 29                    	STA   $29
<a name="LEA89">$EA89</a>	AD 5B 02                 	LDA   $025B                             	Ensure that incorrect
<a name="LEA8C">$EA8C</a>	0D AD 02                 	ORA   $02AD                             	combinations of join, verify,
<a name="LEA8F">$EA8F</a>	0D AE 02                 	ORA   $02AE                             	AUTO are not allowed - can
<a name="LEA92">$EA92</a>	0D 5A 02                 	ORA   $025A                             	have default values.
<a name="LEA95">$EA95</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA9A">$EA9A</a>
<a name="LEA97">$EA97</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Print "SYNTAX ERROR".
<a name="LEA9A">$EA9A</a>	20 6A E7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE76A">$E76A</a>                             	Set 6522 for cassette system.
<a name="LEA9D">$EA9D</a>	60                       	RTS
<a name="LEA9E">$EA9E</a>	18                       	CLC
<a name="LEA9F">$EA9F</a>	A5 CE                    	LDA   $CE
<a name="LEAA1">$EAA1</a>	6D A9 02                 	ADC   $02A9
<a name="LEAA4">$EAA4</a>	8D AB 02                 	STA   $02AB
<a name="LEAA7">$EAA7</a>	A5 CF                    	LDA   $CF
<a name="LEAA9">$EAA9</a>	6D AA 02                 	ADC   $02AA
<a name="LEAAC">$EAAC</a>	8D AC 02                 	STA   $02AC
<a name="LEAAF">$EAAF</a>	A0 04                    	LDY   #$04
<a name="LEAB1">$EAB1</a>	B1 CE                    	LDA   ($CE),Y
<a name="LEAB3">$EAB3</a>	20 88 D2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD288">$D288</a>
<a name="LEAB6">$EAB6</a>	8D A9 02                 	STA   $02A9
<a name="LEAB9">$EAB9</a>	8C AA 02                 	STY   $02AA
<a name="LEABC">$EABC</a>	85 0C                    	STA   $0C
<a name="LEABE">$EABE</a>	84 0D                    	STY   $0D
<a name="LEAC0">$EAC0</a>	60                       	RTS
<a name="LEAC1">$EAC1</a>	3F FB 17 FC CF FB C7 F0  	BYT   $3F,$FB,$17,$FC,$CF,$FB,$C7,$F0   	This table holds the start
<a name="LEAC9">$EAC9</a>	FC F0 0F F1 7E F3 1C F1  	BYT   $FC,$F0,$0F,$F1,$7E,$F3,$1C,$F1   	addresses less 1 for the
<a name="LEAD1">$EAD1</a>	67 F2 2C F1 03 F2 0F F2  	BYT   $67,$F2,$2C,$F1,$03,$F2,$0F,$F2   	sound and hires commands. They
<a name="LEAD9">$EAD9</a>	03 04 04 03 03 03 02 01  	BYT   $03,$04,$04,$03,$03,$03,$02,$01   	are in order of token value.
<a name="LEAE1">$EAE1</a>	03 03 01 01 00 00 00 00  	BYT   $03,$03,$01,$01,$00,$00,$00,$00   	The second part holds data
<a name="LEAE9">$EAE9</a>	01 01 00 00 00 00 00     	BYT   $01,$01,$00,$00,$00,$00,$00       	associated with each routine.

HIRESTEST
<a name="LEAF0">$EAF0</a>	AD C0 02                 	LDA   $02C0                             	Entry point for the hires
<a name="LEAF3">$EAF3</a>	29 01                    	AND   #$01                              	screen commands. Test that one
<a name="LEAF5">$EAF5</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEAFC">$EAFC</a>                             	is in hires first- else print
<a name="LEAF7">$EAF7</a>	A2 A3                    	LDX   #$A3                              	DISP TYPE MISMATCH.
<a name="LEAF9">$EAF9</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>
<a name="LEAFC">$EAFC</a>	C0 4E                    	CPY   #$4E                              	Entry point for sound commands
<a name="LEAFE">$EAFE</a>	B0 03                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB03">$EB03</a>                             	No need to test if in hires.
<a name="LEB00">$EB00</a>	4C 70 D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD070">$D070</a>                             	Test that tokens are in
<a name="LEB03">$EB03</a>	C0 66                    	CPY   #$66                              	correct range - else error.
<a name="LEB05">$EB05</a>	B0 F9                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB00">$EB00</a>
<a name="LEB07">$EB07</a>	98                       	TYA                                     	Use the token value to look
<a name="LEB08">$EB08</a>	38                       	SEC                                     	up the start address of the
<a name="LEB09">$EB09</a>	E9 4E                    	SBC   #$4E                              	appropriate routine. The
<a name="LEB0B">$EB0B</a>	A8                       	TAY                                     	address -1 is used as it is
<a name="LEB0C">$EB0C</a>	B9 C2 EA                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEAC2">$EAC2</a>,Y                           	saved on the stack and an
<a name="LEB0F">$EB0F</a>	48                       	PHA                                     	RTS is done which increments
<a name="LEB10">$EB10</a>	B9 C1 EA                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEAC1">$EAC1</a>,Y                           	the address pulled of stack.
<a name="LEB13">$EB13</a>	48                       	PHA
<a name="LEB14">$EB14</a>	98                       	TYA                                     	Halve the value in Y and use
<a name="LEB15">$EB15</a>	4A                       	LSR                                     	it to load the number of
<a name="LEB16">$EB16</a>	A8                       	TAY                                     	parameters for each command
<a name="LEB17">$EB17</a>	B9 D9 EA                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEAD9">$EAD9</a>,Y                           	and whether the hires cursor
<a name="LEB1A">$EB1A</a>	48                       	PHA                                     	is to be moved relative to its
<a name="LEB1B">$EB1B</a>	B9 E5 EA                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEAE5">$EAE5</a>,Y                           	current position or not
<a name="LEB1E">$EB1E</a>	8D C3 02                 	STA   $02C3                             	respectively.
<a name="LEB21">$EB21</a>	A9 00                    	LDA   #$00
<a name="LEB23">$EB23</a>	8D F0 02                 	STA   $02F0
<a name="LEB26">$EB26</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	Evaluate next argument.
<a name="LEB29">$EB29</a>	AD C3 02                 	LDA   $02C3
<a name="LEB2C">$EB2C</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB34">$EB34</a>
<a name="LEB2E">$EB2E</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	Convert Floating point accumulator
<a name="LEB31">$EB31</a>	4C 3B EB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB3B">$EB3B</a>                             	to integer.
<a name="LEB34">$EB34</a>	A5 D0                    	LDA   $D0
<a name="LEB36">$EB36</a>	C9 90                    	CMP   #$90
<a name="LEB38">$EB38</a>	20 2A D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD92A">$D92A</a>
<a name="LEB3B">$EB3B</a>	AC F0 02                 	LDY   $02F0                             	Place the next argument into
<a name="LEB3E">$EB3E</a>	A5 33                    	LDA   $33                               	its correct place in the
<a name="LEB40">$EB40</a>	99 E1 02                 	STA   $02E1,Y                           	parameter block starting at
<a name="LEB43">$EB43</a>	A5 34                    	LDA   $34                               	#02E1.
<a name="LEB45">$EB45</a>	99 E2 02                 	STA   $02E2,Y
<a name="LEB48">$EB48</a>	C8                       	INY                                     	#02F0 now points just beyond
<a name="LEB49">$EB49</a>	C8                       	INY                                     	the last parameter placed in
<a name="LEB4A">$EB4A</a>	8C F0 02                 	STY   $02F0                             	block at #02E1.
<a name="LEB4D">$EB4D</a>	68                       	PLA
<a name="LEB4E">$EB4E</a>	A8                       	TAY                                     	Decrement the counter of the
<a name="LEB4F">$EB4F</a>	88                       	DEY                                     	number of parameters to be
<a name="LEB50">$EB50</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB5A">$EB5A</a>                             	evaluated. Continue evaluation
<a name="LEB52">$EB52</a>	98                       	TYA                                     	until the appropriate number
<a name="LEB53">$EB53</a>	48                       	PHA                                     	is done.
<a name="LEB54">$EB54</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Search for comma, return only
<a name="LEB57">$EB57</a>	4C 26 EB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB26">$EB26</a>                             	if found. Continue argument evaluation.
<a name="LEB5A">$EB5A</a>	A9 00                    	LDA   #$00                              	Initialise the error status.
<a name="LEB5C">$EB5C</a>	8D E0 02                 	STA   $02E0
<a name="LEB5F">$EB5F</a>	68                       	PLA                                     	This section inserts on to the
<a name="LEB60">$EB60</a>	AA                       	TAX                                     	stack an address such that
<a name="LEB61">$EB61</a>	68                       	PLA                                     	when the appropriate sound /
<a name="LEB62">$EB62</a>	A8                       	TAY                                     	graphics command is finished,
<a name="LEB63">$EB63</a>	A9 EB                    	LDA   #$EB                              	the next RTS instruction will
<a name="LEB65">$EB65</a>	48                       	PHA                                     	take the program to a routine
<a name="LEB66">$EB66</a>	A9 6D                    	LDA   #$6D                              	that checks the error status
<a name="LEB68">$EB68</a>	48                       	PHA                                     	of #02E0.
<a name="LEB69">$EB69</a>	98                       	TYA
<a name="LEB6A">$EB6A</a>	48                       	PHA
<a name="LEB6B">$EB6B</a>	8A                       	TXA
<a name="LEB6C">$EB6C</a>	48                       	PHA                                     	The RTS is used as a means
<a name="LEB6D">$EB6D</a>	60                       	RTS                                     	of doing an indirect jump.
<a name="LEB6E">$EB6E</a>	A9 01                    	LDA   #$01                              	If contents of #02E0 is not
<a name="LEB70">$EB70</a>	2C E0 02                 	BIT   $02E0                             	zero then print ILLEGAL
<a name="LEB73">$EB73</a>	F0 F8                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB6D">$EB6D</a>                             	QUANTITY ERROR.
<a name="LEB75">$EB75</a>	4C 36 D3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD336">$D336</a>

CHECKKBD
<a name="LEB78">$EB78</a>	AD DF 02                 	LDA   $02DF                             	This routine checks whether a
<a name="LEB7B">$EB7B</a>	10 0B                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB88">$EB88</a>                             	new key is ready to be
<a name="LEB7D">$EB7D</a>	08                       	PHP                                     	processed. If there is, the
<a name="LEB7E">$EB7E</a>	29 7F                    	AND   #$7F                              	ASCII char for it is loaded
<a name="LEB80">$EB80</a>	48                       	PHA                                     	into A and #02DF cleared.
<a name="LEB81">$EB81</a>	A9 00                    	LDA   #$00
<a name="LEB83">$EB83</a>	8D DF 02                 	STA   $02DF                             	If N=0 at exit then no new
<a name="LEB86">$EB86</a>	68                       	PLA                                     	key has been received.
<a name="LEB87">$EB87</a>	28                       	PLP
<a name="LEB88">$EB88</a>	60                       	RTS
<a name="LEB89">$EB89</a>	C4 9D                    	CPY   $9D                               	Test if new Himem is not
<a name="LEB8B">$EB8B</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB8F">$EB8F</a>                             	below end of Basic pointer.
<a name="LEB8D">$EB8D</a>	38                       	SEC                                     	C=1 if Himem is too low.
<a name="LEB8E">$EB8E</a>	60                       	RTS
<a name="LEB8F">$EB8F</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB97">$EB97</a>                             	Test if low half of new
<a name="LEB91">$EB91</a>	C5 9C                    	CMP   $9C                               	Himem is below end Basic.
<a name="LEB93">$EB93</a>	90 F9                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB8E">$EB8E</a>                             	The branches are in error,
<a name="LEB95">$EB95</a>	F0 F7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB8E">$EB8E</a>                             	they should go to #EB8D !
<a name="LEB97">$EB97</a>	20 B5 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBB5">$EBB5</a>                             	Test if Hires screen could be
<a name="LEB9A">$EB9A</a>	90 F2                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB8E">$EB8E</a>                             	affected and branch if not.
<a name="LEB9C">$EB9C</a>	AA                       	TAX
<a name="LEB9D">$EB9D</a>	AD C0 02                 	LDA   $02C0
<a name="LEBA0">$EBA0</a>	29 02                    	AND   #$02                              	An error will be given if
<a name="LEBA2">$EBA2</a>	08                       	PHP                                     	one tries to put HIMEM beyond
<a name="LEBA3">$EBA3</a>	8A                       	TXA                                     	character sets when in hires
<a name="LEBA4">$EBA4</a>	28                       	PLP                                     	mode.
<a name="LEBA5">$EBA5</a>	D0 E6                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB8D">$EB8D</a>
<a name="LEBA7">$EBA7</a>	98                       	TYA                                     	This section tests whether
<a name="LEBA8">$EBA8</a>	48                       	PHA                                     	the character sets of the text
<a name="LEBA9">$EBA9</a>	38                       	SEC                                     	mode would be lower than the
<a name="LEBAA">$EBAA</a>	E9 1C                    	SBC   #$1C                              	new Himem. The appropriate
<a name="LEBAC">$EBAC</a>	A8                       	TAY                                     	value of the C flag is left in
<a name="LEBAD">$EBAD</a>	8A                       	TXA                                     	the status register at the end
<a name="LEBAE">$EBAE</a>	20 B5 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBB5">$EBB5</a>                             	of the routine.
<a name="LEBB1">$EBB1</a>	68                       	PLA
<a name="LEBB2">$EBB2</a>	A8                       	TAY
<a name="LEBB3">$EBB3</a>	8A                       	TXA
<a name="LEBB4">$EBB4</a>	60                       	RTS
<a name="LEBB5">$EBB5</a>	CC C2 02                 	CPY   $02C2                             	This routine tests whether the
<a name="LEBB8">$EBB8</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBBC">$EBBC</a>                             	address in A (low) and Y
<a name="LEBBA">$EBBA</a>	F0 01                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBBD">$EBBD</a>                             	(high) is greater than that of
<a name="LEBBC">$EBBC</a>	60                       	RTS                                     	the character sets in hires
<a name="LEBBD">$EBBD</a>	CD C1 02                 	CMP   $02C1                             	mode. C is set if A,Y are
<a name="LEBC0">$EBC0</a>	60                       	RTS                                     	greater.
<a name="LEBC1">$EBC1</a>	AC C2 02                 	LDY   $02C2                             	This routine loads A (low)
<a name="LEBC4">$EBC4</a>	AD C1 02                 	LDA   $02C1                             	and Y (high) with the address
<a name="LEBC7">$EBC7</a>	D0 01                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBCA">$EBCA</a>                             	of the start of the character
<a name="LEBC9">$EBC9</a>	88                       	DEY                                     	sets in the hires mode and
<a name="LEBCA">$EBCA</a>	38                       	SEC                                     	then subtracts 1 from that
<a name="LEBCB">$EBCB</a>	E9 01                    	SBC   #$01                              	address.
<a name="LEBCD">$EBCD</a>	60                       	RTS

HIMEM
<a name="LEBCE">$EBCE</a>	20 03 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF03">$CF03</a>                             	HIMEM
<a name="LEBD1">$EBD1</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	Evaluate argument and convert
<a name="LEBD4">$EBD4</a>	A5 33                    	LDA   $33                               	it to a 2 byte integer.
<a name="LEBD6">$EBD6</a>	A4 34                    	LDY   $34
<a name="LEBD8">$EBD8</a>	20 89 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB89">$EB89</a>                             	Test and branch if sufficient
<a name="LEBDB">$EBDB</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBE0">$EBE0</a>                             	memory to allow new Himem.
<a name="LEBDD">$EBDD</a>	4C 7C C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47C">$C47C</a>                             	Print "OUT OF MEMORY ERROR".
<a name="LEBE0">$EBE0</a>	85 A6                    	STA   $A6                               	Update current HIMEM pointer.
<a name="LEBE2">$EBE2</a>	84 A7                    	STY   $A7
<a name="LEBE4">$EBE4</a>	4C 0F C7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC70F">$C70F</a>                             	Clear up pointers and finish.
<a name="LEBE7">$EBE7</a>	AD 60 02                 	LDA   $0260                             	GRAB
<a name="LEBEA">$EBEA</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBDD">$EBDD</a>
<a name="LEBEC">$EBEC</a>	AD C0 02                 	LDA   $02C0                             	Load Screen status. Give error
<a name="LEBEF">$EBEF</a>	48                       	PHA                                     	if already in hires mode.
<a name="LEBF0">$EBF0</a>	29 01                    	AND   #$01
<a name="LEBF2">$EBF2</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBF9">$EBF9</a>
<a name="LEBF4">$EBF4</a>	A2 A3                    	LDX   #$A3                              	Print "DISP TYPE MISMATCH
<a name="LEBF6">$EBF6</a>	4C 7E C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC47E">$C47E</a>                             	ERROR".
<a name="LEBF9">$EBF9</a>	68                       	PLA
<a name="LEBFA">$EBFA</a>	29 FD                    	AND   #$FD                              	Set screen to GRAB status.
<a name="LEBFC">$EBFC</a>	8D C0 02                 	STA   $02C0
<a name="LEBFF">$EBFF</a>	20 C1 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBC1">$EBC1</a>                             	Load A and Y with the address
<a name="LEC02">$EC02</a>	48                       	PHA                                     	before the start of the hires
<a name="LEC03">$EC03</a>	98                       	TYA                                     	character set
<a name="LEC04">$EC04</a>	18                       	CLC
<a name="LEC05">$EC05</a>	69 1C                    	ADC   #$1C
<a name="LEC07">$EC07</a>	A8                       	TAY
<a name="LEC08">$EC08</a>	68                       	PLA
<a name="LEC09">$EC09</a>	4C E0 EB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBE0">$EBE0</a>

RELEASE
<a name="LEC0C">$EC0C</a>	20 C1 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBC1">$EBC1</a>                             	RELEASE
<a name="LEC0F">$EC0F</a>	20 89 EB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB89">$EB89</a>                             	Load address of byte below
<a name="LEC12">$EC12</a>	B0 C9                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBDD">$EBDD</a>                             	start of hires char set and
<a name="LEC14">$EC14</a>	48                       	PHA                                     	test that it is not below end
<a name="LEC15">$EC15</a>	AD C0 02                 	LDA   $02C0                             	of Basic. Set screen status
<a name="LEC18">$EC18</a>	09 02                    	ORA   #$02                              	to allow hires mode. Finally
<a name="LEC1A">$EC1A</a>	8D C0 02                 	STA   $02C0                             	write the new value of HIMEM.
<a name="LEC1D">$EC1D</a>	68                       	PLA
<a name="LEC1E">$EC1E</a>	4C E0 EB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBE0">$EBE0</a>

TEXT
<a name="LEC21">$EC21</a>	AD C0 02                 	LDA   $02C0                             	TEXT
<a name="LEC24">$EC24</a>	A8                       	TAY
<a name="LEC25">$EC25</a>	29 01                    	AND   #$01
<a name="LEC27">$EC27</a>	F0 09                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEC32">$EC32</a>                             	Already in text mode.
<a name="LEC29">$EC29</a>	98                       	TYA
<a name="LEC2A">$EC2A</a>	29 FE                    	AND   #$FE                              	Set screen status to text.
<a name="LEC2C">$EC2C</a>	8D C0 02                 	STA   $02C0
<a name="LEC2F">$EC2F</a>	20 67 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF967">$F967</a>                             	Set screen to text.
<a name="LEC32">$EC32</a>	60                       	RTS

HIRES
<a name="LEC33">$EC33</a>	AD C0 02                 	LDA   $02C0                             	HIRES
<a name="LEC36">$EC36</a>	48                       	PHA
<a name="LEC37">$EC37</a>	29 02                    	AND   #$02                              	Error if hires mode cannot be
<a name="LEC39">$EC39</a>	F0 B9                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEBF4">$EBF4</a>                             	entered.
<a name="LEC3B">$EC3B</a>	68                       	PLA                                     	Set status to indicate hires
<a name="LEC3C">$EC3C</a>	09 01                    	ORA   #$01                              	mode.
<a name="LEC3E">$EC3E</a>	8D C0 02                 	STA   $02C0
<a name="LEC41">$EC41</a>	20 20 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF920">$F920</a>                             	Set screen to hires mode.
<a name="LEC44">$EC44</a>	60                       	RTS

POINT
<a name="LEC45">$EC45</a>	20 62 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD062">$D062</a>                             	POINT
<a name="LEC48">$EC48</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Check '(' is present; if so
<a name="LEC4B">$EC4B</a>	A5 34                    	LDA   $34                               	then evaluate the X parameter.
<a name="LEC4D">$EC4D</a>	48                       	PHA                                     	Save contents of #33 and #34
<a name="LEC4E">$EC4E</a>	A5 33                    	LDA   $33                               	on the stack.
<a name="LEC50">$EC50</a>	48                       	PHA
<a name="LEC51">$EC51</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	Convert X parameter to integer
<a name="LEC54">$EC54</a>	A5 33                    	LDA   $33                               	and transfer result to page 2.
<a name="LEC56">$EC56</a>	8D E1 02                 	STA   $02E1
<a name="LEC59">$EC59</a>	A5 34                    	LDA   $34
<a name="LEC5B">$EC5B</a>	8D E2 02                 	STA   $02E2
<a name="LEC5E">$EC5E</a>	68                       	PLA                                     	Restore values in #33 and #34.
<a name="LEC5F">$EC5F</a>	85 33                    	STA   $33
<a name="LEC61">$EC61</a>	68                       	PLA
<a name="LEC62">$EC62</a>	85 34                    	STA   $34
<a name="LEC64">$EC64</a>	20 65 D0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD065">$D065</a>                             	Search for ','
<a name="LEC67">$EC67</a>	20 17 CF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCF17">$CF17</a>                             	Evaluate Y parameter.
<a name="LEC6A">$EC6A</a>	A5 34                    	LDA   $34                               	Save contents of #33 and #34
<a name="LEC6C">$EC6C</a>	48                       	PHA                                     	on the stack. Must be done
<a name="LEC6D">$EC6D</a>	A5 33                    	LDA   $33                               	twice in case of error in
<a name="LEC6F">$EC6F</a>	48                       	PHA                                     	searching for ',' etc..
<a name="LEC70">$EC70</a>	20 22 D9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD922">$D922</a>                             	Convert Y parameter to integer
<a name="LEC73">$EC73</a>	A5 34                    	LDA   $34                               	and transfer result to page 2.
<a name="LEC75">$EC75</a>	8D E4 02                 	STA   $02E4
<a name="LEC78">$EC78</a>	A5 33                    	LDA   $33
<a name="LEC7A">$EC7A</a>	8D E3 02                 	STA   $02E3
<a name="LEC7D">$EC7D</a>	68                       	PLA                                     	Restore contents of #33 and
<a name="LEC7E">$EC7E</a>	85 33                    	STA   $33                               	#34 to original state.
<a name="LEC80">$EC80</a>	68                       	PLA
<a name="LEC81">$EC81</a>	85 34                    	STA   $34
<a name="LEC83">$EC83</a>	20 C8 F1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF1C8">$F1C8</a>                             	Test pixel in question.
<a name="LEC86">$EC86</a>	AC E1 02                 	LDY   $02E1
<a name="LEC89">$EC89</a>	AD E0 02                 	LDA   $02E0
<a name="LEC8C">$EC8C</a>	29 01                    	AND   #$01
<a name="LEC8E">$EC8E</a>	D0 09                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEC99">$EC99</a>                             	Error found.
<a name="LEC90">$EC90</a>	AD E2 02                 	LDA   $02E2
<a name="LEC93">$EC93</a>	20 99 D4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD499">$D499</a>                             	Put signed integer in FPA.
<a name="LEC96">$EC96</a>	4C 5F D0                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD05F">$D05F</a>                             	Jump to test for '('.
<a name="LEC99">$EC99</a>	4C C2 D8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LD8C2">$D8C2</a>                             	"ILLEGAL QUANTITY ERROR".
<a name="LEC9C">$EC9C</a>	E6 E9                    	INC   $E9                               	This is data for the routine
<a name="LEC9E">$EC9E</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECA2">$ECA2</a>                             	which gets copied into page
<a name="LECA0">$ECA0</a>	E6 EA                    	INC   $EA                               	zero of memory at $E2. It
<a name="LECA2">$ECA2</a>	AD 60 EA                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA60">$EA60</a>                             	holds the current program
<a name="LECA5">$ECA5</a>	C9 20                    	CMP   #$20                              	position and is used to step
<a name="LECA7">$ECA7</a>	F0 F3                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEC9C">$EC9C</a>                             	through the spaces in a
<a name="LECA9">$ECA9</a>	20 B9 EC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECB9">$ECB9</a>                             	program until a non-space char
<a name="LECAC">$ECAC</a>	60                       	RTS                                     	is found.
<a name="LECAD">$ECAD</a>	2C 60 EA                 	BIT   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA60">$EA60</a>
<a name="LECB0">$ECB0</a>	2C 60 EA                 	BIT   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEA60">$EA60</a>
<a name="LECB3">$ECB3</a>	60                       	RTS
<a name="LECB4">$ECB4</a>	80 4F C7 52 58           	BYT   $80,$4F,$C7,$52,$58               	Initial random number.
<a name="LECB9">$ECB9</a>	C9 C8                    	CMP   #$C8                              	Routine to test for statement
<a name="LECBB">$ECBB</a>	F0 0E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECCB">$ECCB</a>                             	delimiter or a number.
<a name="LECBD">$ECBD</a>	C9 27                    	CMP   #$27
<a name="LECBF">$ECBF</a>	F0 0A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECCB">$ECCB</a>
<a name="LECC1">$ECC1</a>	C9 3A                    	CMP   #$3A
<a name="LECC3">$ECC3</a>	B0 06                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECCB">$ECCB</a>
<a name="LECC5">$ECC5</a>	38                       	SEC
<a name="LECC6">$ECC6</a>	E9 30                    	SBC   #$30
<a name="LECC8">$ECC8</a>	38                       	SEC                                     	Z is set if colon or null
<a name="LECC9">$ECC9</a>	E9 D0                    	SBC   #$D0                              	found, C is cleared if digit
<a name="LECCB">$ECCB</a>	60                       	RTS                                     	between 0-9 found.

STARTBASIC
<a name="LECCC">$ECCC</a>	D8                       	CLD                                     	START OF BASIC
<a name="LECCD">$ECCD</a>	A2 FF                    	LDX   #$FF
<a name="LECCF">$ECCF</a>	86 A9                    	STX   $A9                               	Set immediate mode.
<a name="LECD1">$ECD1</a>	9A                       	TXS                                     	Set stack pointer.
<a name="LECD2">$ECD2</a>	A9 CC                    	LDA   #$CC                              	Set up address of start of
<a name="LECD4">$ECD4</a>	A0 EC                    	LDY   #$EC                              	Basic as a jump at #1A.
<a name="LECD6">$ECD6</a>	85 1B                    	STA   $1B
<a name="LECD8">$ECD8</a>	84 1C                    	STY   $1C
<a name="LECDA">$ECDA</a>	A9 4C                    	LDA   #$4C
<a name="LECDC">$ECDC</a>	85 1A                    	STA   $1A
<a name="LECDE">$ECDE</a>	85 C3                    	STA   $C3                               	Set up jump opcodes for USR, &amp;
<a name="LECE0">$ECE0</a>	85 21                    	STA   $21                               	and numeric function executer.
<a name="LECE2">$ECE2</a>	8D FB 02                 	STA   $02FB
<a name="LECE5">$ECE5</a>	A9 36                    	LDA   #$36
<a name="LECE7">$ECE7</a>	A0 D3                    	LDY   #$D3
<a name="LECE9">$ECE9</a>	85 22                    	STA   $22                               	Set up default USR address -
<a name="LECEB">$ECEB</a>	84 23                    	STY   $23                               	to give ILLEGAL QUANTITY
<a name="LECED">$ECED</a>	8D FC 02                 	STA   $02FC                             	ERROR. Do same for &amp; command
<a name="LECF0">$ECF0</a>	8C FD 02                 	STY   $02FD                             	and ! command.
<a name="LECF3">$ECF3</a>	8D F5 02                 	STA   $02F5
<a name="LECF6">$ECF6</a>	8C F6 02                 	STY   $02F6
<a name="LECF9">$ECF9</a>	A2 1C                    	LDX   #$1C                              	Copy the self-modifying-code
<a name="LECFB">$ECFB</a>	BD 9B EC                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEC9B">$EC9B</a>,X                           	routine into zero page. It is
<a name="LECFE">$ECFE</a>	95 E1                    	STA   $E1,X                             	used to step through the
<a name="LED00">$ED00</a>	CA                       	DEX                                     	commands being executed (in
<a name="LED01">$ED01</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECFB">$ECFB</a>                             	program or immediate mode).
<a name="LED03">$ED03</a>	A9 03                    	LDA   #$03
<a name="LED05">$ED05</a>	85 C2                    	STA   $C2                               	This section sets up a series
<a name="LED07">$ED07</a>	8A                       	TXA                                     	of variables.
<a name="LED08">$ED08</a>	85 D7                    	STA   $D7                               	Clear sign extend byte.
<a name="LED0A">$ED0A</a>	85 87                    	STA   $87                               	Clear top active string pointer.
<a name="LED0C">$ED0C</a>	85 2F                    	STA   $2F                               	Clear next byte to tape.
<a name="LED0E">$ED0E</a>	48                       	PHA
<a name="LED0F">$ED0F</a>	85 2E                    	STA   $2E                               	Clear CTRL O flag.
<a name="LED11">$ED11</a>	8D F2 02                 	STA   $02F2                             	Clear EDIT flag.
<a name="LED14">$ED14</a>	A2 88                    	LDX   #$88                              	Set string block pointer.
<a name="LED16">$ED16</a>	86 85                    	STX   $85
<a name="LED18">$ED18</a>	A8                       	TAY
<a name="LED19">$ED19</a>	A9 02                    	LDA   #$02                              	Set screen to text.
<a name="LED1B">$ED1B</a>	8D C0 02                 	STA   $02C0
<a name="LED1E">$ED1E</a>	A9 28                    	LDA   #$28                              	Set up line width on screen.
<a name="LED20">$ED20</a>	8D 57 02                 	STA   $0257
<a name="LED23">$ED23</a>	A9 50                    	LDA   #$50                              	Set up line width on printer.
<a name="LED25">$ED25</a>	8D 56 02                 	STA   $0256
<a name="LED28">$ED28</a>	A9 00                    	LDA   #$00                              	Set up TAB positon of cursor.
<a name="LED2A">$ED2A</a>	85 30                    	STA   $30                               	Set Basic's cursor column.
<a name="LED2C">$ED2C</a>	8D 58 02                 	STA   $0258                             	Clear printer cursor position.
<a name="LED2F">$ED2F</a>	8D 59 02                 	STA   $0259                             	Clear screen cursor position.
<a name="LED32">$ED32</a>	20 3E C8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC83E">$C83E</a>                             	Printer off &amp; set variables.
<a name="LED35">$ED35</a>	20 CE CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCCE">$CCCE</a>                             	CLS command.
<a name="LED38">$ED38</a>	A9 96                    	LDA   #$96                              	Load start address of initial
<a name="LED3A">$ED3A</a>	A0 ED                    	LDY   #$ED                              	message printed on screen.
<a name="LED3C">$ED3C</a>	20 B0 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>                             	Print message "ORIC EXT..."
<a name="LED3F">$ED3F</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>
<a name="LED42">$ED42</a>	A2 00                    	LDX   #$00                              	Set up Start Basic pointer to
<a name="LED44">$ED44</a>	A0 05                    	LDY   #$05                              	#0500.
<a name="LED46">$ED46</a>	86 9A                    	STX   $9A
<a name="LED48">$ED48</a>	84 9B                    	STY   $9B
<a name="LED4A">$ED4A</a>	A0 00                    	LDY   #$00
<a name="LED4C">$ED4C</a>	98                       	TYA
<a name="LED4D">$ED4D</a>	91 9A                    	STA   ($9A),Y                           	Zero the first byte in Basic
<a name="LED4F">$ED4F</a>	E6 9A                    	INC   $9A                               	and increment Start Basic
<a name="LED51">$ED51</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LED55">$ED55</a>                             	pointer by 1.
<a name="LED53">$ED53</a>	E6 9B                    	INC   $9B
<a name="LED55">$ED55</a>	20 F0 C6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC6F0">$C6F0</a>                             	Set up other Basic Pointers.
<a name="LED58">$ED58</a>	A5 9A                    	LDA   $9A
<a name="LED5A">$ED5A</a>	A4 9B                    	LDY   $9B                               	Test if Begin Basic is beyond
<a name="LED5C">$ED5C</a>	20 44 C4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC444">$C444</a>                             	last string allocated.
<a name="LED5F">$ED5F</a>	20 F0 CB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCBF0">$CBF0</a>
<a name="LED62">$ED62</a>	A5 A6                    	LDA   $A6
<a name="LED64">$ED64</a>	38                       	SEC                                     	Calculate amount of free
<a name="LED65">$ED65</a>	E5 9A                    	SBC   $9A                               	memory between Start Basic
<a name="LED67">$ED67</a>	AA                       	TAX                                     	and Himem. Then print it on
<a name="LED68">$ED68</a>	A5 A7                    	LDA   $A7                               	the screen in decimal.
<a name="LED6A">$ED6A</a>	E5 9B                    	SBC   $9B
<a name="LED6C">$ED6C</a>	20 C5 E0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LE0C5">$E0C5</a>
<a name="LED6F">$ED6F</a>	A9 88                    	LDA   #$88                              	Load address of message "BYTES
<a name="LED71">$ED71</a>	A0 ED                    	LDY   #$ED                              	FREE"
<a name="LED73">$ED73</a>	20 B0 CC                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LCCB0">$CCB0</a>                             	Print above message.
<a name="LED76">$ED76</a>	A9 B0                    	LDA   #$B0
<a name="LED78">$ED78</a>	A0 CC                    	LDY   #$CC                              	Alter jump location at #1A to
<a name="LED7A">$ED7A</a>	85 1B                    	STA   $1B                               	be able to print "Ready"
<a name="LED7C">$ED7C</a>	84 1C                    	STY   $1C                               	messages.
<a name="LED7E">$ED7E</a>	A9 10                    	LDA   #$10
<a name="LED80">$ED80</a>	8D F8 02                 	STA   $02F8
<a name="LED83">$ED83</a>	4C A8 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC4A8">$C4A8</a>                             	Go to main part of Basic.
<a name="LED86">$ED86</a>	00 00 20 42 59 54 45 53  	BYT   $00,$00,$20,$42,$59,$54,$45,$53   	.. BYTES
<a name="LED8E">$ED8E</a>	20 46 52 45 45 0A 0D 00  	BYT   $20,$46,$52,$45,$45,$0A,$0D,$00   	FREE...
<a name="LED96">$ED96</a>	4F 52 49 43 20 45 58 54  	BYT   $4F,$52,$49,$43,$20,$45,$58,$54   	ORIC EXT
<a name="LED9E">$ED9E</a>	45 4E 44 45 44 20 42 41  	BYT   $45,$4E,$44,$45,$44,$20,$42,$41   	ENDED BA
<a name="LEDA6">$EDA6</a>	53 49 43 20 56 31 2E 31  	BYT   $53,$49,$43,$20,$56,$31,$2E,$31   	SIC V1.1
<a name="LEDAE">$EDAE</a>	0D 0A 60 20 31 39 38 33  	BYT   $0D,$0A,$60,$20,$31,$39,$38,$33   	.. 1983
<a name="LEDB6">$EDB6</a>	20 54 41 4E 47 45 52 49  	BYT   $20,$54,$41,$4E,$47,$45,$52,$49   	TANGERI
<a name="LEDBE">$EDBE</a>	4E 45 0D 0A 00 00        	BYT   $4E,$45,$0D,$0A,$00,$00           	NE

COPYMEM
<a name="LEDC4">$EDC4</a>	A2 00                    	LDX   #$00                              	This routine transfers a block
<a name="LEDC6">$EDC6</a>	A0 00                    	LDY   #$00                              	of data using #0C as the
<a name="LEDC8">$EDC8</a>	C4 10                    	CPY   $10                               	source pointer and #0E as the
<a name="LEDCA">$EDCA</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDD0">$EDD0</a>                             	destination pointer. The
<a name="LEDCC">$EDCC</a>	E4 11                    	CPX   $11                               	length of data to be moved is
<a name="LEDCE">$EDCE</a>	F0 0F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDDF">$EDDF</a>                             	held in locations #10/#11.
<a name="LEDD0">$EDD0</a>	B1 0C                    	LDA   ($0C),Y
<a name="LEDD2">$EDD2</a>	91 0E                    	STA   ($0E),Y
<a name="LEDD4">$EDD4</a>	C8                       	INY
<a name="LEDD5">$EDD5</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDC8">$EDC8</a>
<a name="LEDD7">$EDD7</a>	E6 0D                    	INC   $0D
<a name="LEDD9">$EDD9</a>	E6 0F                    	INC   $0F
<a name="LEDDB">$EDDB</a>	E8                       	INX
<a name="LEDDC">$EDDC</a>	4C C8 ED                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDC8">$EDC8</a>
<a name="LEDDF">$EDDF</a>	60                       	RTS

SETUPTIMER
<a name="LEDE0">$EDE0</a>	48                       	PHA                                     	This routine sets the three 16
<a name="LEDE1">$EDE1</a>	20 8C EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE8C">$EE8C</a>                             	bit counters (#0272/3, #0274/5 &amp;
<a name="LEDE4">$EDE4</a>	A9 00                    	LDA   #$00                              	#0276/7) after setting them to
<a name="LEDE6">$EDE6</a>	A2 00                    	LDX   #$00                              	zero.
<a name="LEDE8">$EDE8</a>	A0 03                    	LDY   #$03                              	#0272/3 is set to 3 and is used
<a name="LEDEA">$EDEA</a>	20 AB EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEAB">$EEAB</a>                             	as a counter for keyboard
<a name="LEDED">$EDED</a>	A9 01                    	LDA   #$01                              	scanning. #0274/5 is set to 25
<a name="LEDEF">$EDEF</a>	A0 19                    	LDY   #$19                              	and is used as a counter for
<a name="LEDF1">$EDF1</a>	20 AB EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEAB">$EEAB</a>                             	toggling the cursor. #0276/7 is
<a name="LEDF4">$EDF4</a>	A9 00                    	LDA   #$00                              	not set here but is used in
<a name="LEDF6">$EDF6</a>	8D 71 02                 	STA   $0271                             	the WAIT command.
<a name="LEDF9">$EDF9</a>	AD 0B 03                 	LDA   $030B
<a name="LEDFC">$EDFC</a>	29 7F                    	AND   #$7F                              	This section sets up the 6522
<a name="LEDFE">$EDFE</a>	09 40                    	ORA   #$40                              	to generate interrupts from
<a name="LEE00">$EE00</a>	8D 0B 03                 	STA   $030B                             	timer 1 every 10mS (in its
<a name="LEE03">$EE03</a>	A9 C0                    	LDA   #$C0                              	free running mode).
<a name="LEE05">$EE05</a>	8D 0E 03                 	STA   $030E
<a name="LEE08">$EE08</a>	A9 10                    	LDA   #$10
<a name="LEE0A">$EE0A</a>	8D 06 03                 	STA   $0306
<a name="LEE0D">$EE0D</a>	8D 04 03                 	STA   $0304
<a name="LEE10">$EE10</a>	A9 27                    	LDA   #$27
<a name="LEE12">$EE12</a>	8D 07 03                 	STA   $0307
<a name="LEE15">$EE15</a>	8D 05 03                 	STA   $0305
<a name="LEE18">$EE18</a>	68                       	PLA
<a name="LEE19">$EE19</a>	60                       	RTS

STOPTIMER
<a name="LEE1A">$EE1A</a>	48                       	PHA                                     	Disable timer 1 interrupts
<a name="LEE1B">$EE1B</a>	A9 40                    	LDA   #$40                              	from the 6522. This routine
<a name="LEE1D">$EE1D</a>	8D 0E 03                 	STA   $030E                             	is used by the cassette
<a name="LEE20">$EE20</a>	68                       	PLA                                     	commands.
<a name="LEE21">$EE21</a>	60                       	RTS

IRQ
<a name="LEE22">$EE22</a>	48                       	PHA                                     	IRQ HANDLER
<a name="LEE23">$EE23</a>	AD 0D 03                 	LDA   $030D                             	Test that timer 1 has timed
<a name="LEE26">$EE26</a>	29 40                    	AND   #$40                              	out; if so then go to service
<a name="LEE28">$EE28</a>	F0 06                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE30">$EE30</a>                             	subroutine. The interrupt
<a name="LEE2A">$EE2A</a>	8D 0D 03                 	STA   $030D                             	routine is terminated by
<a name="LEE2D">$EE2D</a>	20 34 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE34">$EE34</a>                             	jumping to the RTI instruction
<a name="LEE30">$EE30</a>	68                       	PLA                                     	at #024A.
<a name="LEE31">$EE31</a>	4C 4A 02                 	JMP   $024A
<a name="LEE34">$EE34</a>	48                       	PHA
<a name="LEE35">$EE35</a>	8A                       	TXA
<a name="LEE36">$EE36</a>	48                       	PHA
<a name="LEE37">$EE37</a>	98                       	TYA
<a name="LEE38">$EE38</a>	48                       	PHA
<a name="LEE39">$EE39</a>	A0 00                    	LDY   #$00                              	This section decrements each
<a name="LEE3B">$EE3B</a>	B9 72 02                 	LDA   $0272,Y                           	of the three 16 bit counters
<a name="LEE3E">$EE3E</a>	38                       	SEC                                     	in page 2 by 1.
<a name="LEE3F">$EE3F</a>	E9 01                    	SBC   #$01
<a name="LEE41">$EE41</a>	99 72 02                 	STA   $0272,Y
<a name="LEE44">$EE44</a>	C8                       	INY
<a name="LEE45">$EE45</a>	B9 72 02                 	LDA   $0272,Y
<a name="LEE48">$EE48</a>	E9 00                    	SBC   #$00
<a name="LEE4A">$EE4A</a>	99 72 02                 	STA   $0272,Y
<a name="LEE4D">$EE4D</a>	C8                       	INY
<a name="LEE4E">$EE4E</a>	C0 06                    	CPY   #$06
<a name="LEE50">$EE50</a>	D0 E9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE3B">$EE3B</a>
<a name="LEE52">$EE52</a>	A9 00                    	LDA   #$00                              	Load X (high) and Y (low) with
<a name="LEE54">$EE54</a>	20 9D EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE9D">$EE9D</a>                             	content of first counter. If
<a name="LEE57">$EE57</a>	C0 00                    	CPY   #$00                              	has reached zero then reload
<a name="LEE59">$EE59</a>	D0 10                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE6B">$EE6B</a>                             	it with the value of 3.
<a name="LEE5B">$EE5B</a>	A2 00                    	LDX   #$00
<a name="LEE5D">$EE5D</a>	A0 03                    	LDY   #$03
<a name="LEE5F">$EE5F</a>	20 AB EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEAB">$EEAB</a>                             	After each countdown to zero
<a name="LEE62">$EE62</a>	20 95 F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF495">$F495</a>                             	strobe the keyboard; the
<a name="LEE65">$EE65</a>	8A                       	TXA                                     	result will be in X and bit 7
<a name="LEE66">$EE66</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE6B">$EE6B</a>                             	set if a valid key.
<a name="LEE68">$EE68</a>	8E DF 02                 	STX   $02DF                             	Save the new key.
<a name="LEE6B">$EE6B</a>	A9 01                    	LDA   #$01                              	Load X and Y with content of
<a name="LEE6D">$EE6D</a>	20 9D EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE9D">$EE9D</a>                             	the second 16 bit counter. If
<a name="LEE70">$EE70</a>	C0 00                    	CPY   #$00                              	it has reached zero then
<a name="LEE72">$EE72</a>	D0 12                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE86">$EE86</a>                             	reload it with the value of
<a name="LEE74">$EE74</a>	A2 00                    	LDX   #$00                              	25. When zero, toggle the
<a name="LEE76">$EE76</a>	A0 19                    	LDY   #$19                              	cursor flag in #0271.
<a name="LEE78">$EE78</a>	20 AB EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEAB">$EEAB</a>                             	Then place a copy of cursor
<a name="LEE7B">$EE7B</a>	AD 71 02                 	LDA   $0271                             	on screen if it is enabled.
<a name="LEE7E">$EE7E</a>	49 01                    	EOR   #$01
<a name="LEE80">$EE80</a>	8D 71 02                 	STA   $0271
<a name="LEE83">$EE83</a>	20 01 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF801">$F801</a>
<a name="LEE86">$EE86</a>	68                       	PLA
<a name="LEE87">$EE87</a>	A8                       	TAY
<a name="LEE88">$EE88</a>	68                       	PLA
<a name="LEE89">$EE89</a>	AA                       	TAX
<a name="LEE8A">$EE8A</a>	68                       	PLA
<a name="LEE8B">$EE8B</a>	60                       	RTS

RESETTIMER
<a name="LEE8C">$EE8C</a>	48                       	PHA                                     	This routine sets to zero
<a name="LEE8D">$EE8D</a>	98                       	TYA                                     	the three 16 bit counters
<a name="LEE8E">$EE8E</a>	48                       	PHA                                     	at #272/3, #274/5 and #276/7.
<a name="LEE8F">$EE8F</a>	A0 05                    	LDY   #$05
<a name="LEE91">$EE91</a>	A9 00                    	LDA   #$00
<a name="LEE93">$EE93</a>	99 72 02                 	STA   $0272,Y
<a name="LEE96">$EE96</a>	88                       	DEY
<a name="LEE97">$EE97</a>	10 FA                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE93">$EE93</a>
<a name="LEE99">$EE99</a>	68                       	PLA
<a name="LEE9A">$EE9A</a>	A8                       	TAY
<a name="LEE9B">$EE9B</a>	68                       	PLA
<a name="LEE9C">$EE9C</a>	60                       	RTS

GETTIMER
<a name="LEE9D">$EE9D</a>	48                       	PHA                                     	This routine loads X (high)
<a name="LEE9E">$EE9E</a>	0A                       	ASL                                     	and Y (low) with the content
<a name="LEE9F">$EE9F</a>	A8                       	TAY                                     	of the 16 bit counter
<a name="LEEA0">$EEA0</a>	78                       	SEI                                     	specified by the content of A.
<a name="LEEA1">$EEA1</a>	B9 72 02                 	LDA   $0272,Y                           	The valid values of A are 0, 1
<a name="LEEA4">$EEA4</a>	BE 73 02                 	LDX   $0273,Y                           	and 2 which load the 1st, 2nd
<a name="LEEA7">$EEA7</a>	58                       	CLI                                     	and 3rd counters respectively.
<a name="LEEA8">$EEA8</a>	A8                       	TAY
<a name="LEEA9">$EEA9</a>	68                       	PLA
<a name="LEEAA">$EEAA</a>	60                       	RTS

SETTIMER
<a name="LEEAB">$EEAB</a>	48                       	PHA                                     	This routine loads the 16 bit
<a name="LEEAC">$EEAC</a>	8A                       	TXA                                     	counter specified by A with
<a name="LEEAD">$EEAD</a>	48                       	PHA                                     	the contents of X (high) and
<a name="LEEAE">$EEAE</a>	98                       	TYA                                     	Y (low).
<a name="LEEAF">$EEAF</a>	48                       	PHA                                     	Values of 0, 1 and 2 in A
<a name="LEEB0">$EEB0</a>	BA                       	TSX                                     	access the 1st, 2nd and 3rd
<a name="LEEB1">$EEB1</a>	BD 03 01                 	LDA   $0103,X                           	counters respectively.
<a name="LEEB4">$EEB4</a>	0A                       	ASL
<a name="LEEB5">$EEB5</a>	A8                       	TAY
<a name="LEEB6">$EEB6</a>	68                       	PLA
<a name="LEEB7">$EEB7</a>	48                       	PHA
<a name="LEEB8">$EEB8</a>	78                       	SEI
<a name="LEEB9">$EEB9</a>	99 72 02                 	STA   $0272,Y
<a name="LEEBC">$EEBC</a>	BD 02 01                 	LDA   $0102,X
<a name="LEEBF">$EEBF</a>	99 73 02                 	STA   $0273,Y
<a name="LEEC2">$EEC2</a>	58                       	CLI
<a name="LEEC3">$EEC3</a>	68                       	PLA
<a name="LEEC4">$EEC4</a>	A8                       	TAY
<a name="LEEC5">$EEC5</a>	68                       	PLA
<a name="LEEC6">$EEC6</a>	AA                       	TAX
<a name="LEEC7">$EEC7</a>	68                       	PLA
<a name="LEEC8">$EEC8</a>	60                       	RTS

DELAY
<a name="LEEC9">$EEC9</a>	20 AB EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEAB">$EEAB</a>                             	Load the 16 bit counter
<a name="LEECC">$EECC</a>	20 9D EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE9D">$EE9D</a>                             	specified by A with the
<a name="LEECF">$EECF</a>	C0 00                    	CPY   #$00                              	contents of X and Y and then
<a name="LEED1">$EED1</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEECC">$EECC</a>                             	wait until that counter has
<a name="LEED3">$EED3</a>	E0 00                    	CPX   #$00                              	decremented to zero.
<a name="LEED5">$EED5</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEECC">$EECC</a>
<a name="LEED7">$EED7</a>	60                       	RTS
<a name="LEED8">$EED8</a>	AD 13 02                 	LDA   $0213                             	Transfer the FB code from bits
<a name="LEEDB">$EEDB</a>	8D 14 02                 	STA   $0214                             	0 and 1 to bits 6 and 7 of
<a name="LEEDE">$EEDE</a>	4E 12 02                 	LSR   $0212                             	#0212. The pattern code is
<a name="LEEE1">$EEE1</a>	6E 12 02                 	ROR   $0212                             	transferred to a works
<a name="LEEE4">$EEE4</a>	6E 12 02                 	ROR   $0212                             	register at $0214.
<a name="LEEE7">$EEE7</a>	60                       	RTS

WRITEPIXEL
<a name="LEEE8">$EEE8</a>	48                       	PHA                                     	Write a pixel to the hires
<a name="LEEE9">$EEE9</a>	98                       	TYA                                     	screen.
<a name="LEEEA">$EEEA</a>	48                       	PHA                                     	Calculate the address of the
<a name="LEEEB">$EEEB</a>	20 DE EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEDE">$EEDE</a>                             	byte to write to the screen,
<a name="LEEEE">$EEEE</a>	20 49 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF049">$F049</a>                             	the position of the pixel in
<a name="LEEF1">$EEF1</a>	20 24 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF024">$F024</a>                             	that byte and the FB code.
<a name="LEEF4">$EEF4</a>	68                       	PLA
<a name="LEEF5">$EEF5</a>	A8                       	TAY
<a name="LEEF6">$EEF6</a>	68                       	PLA
<a name="LEEF7">$EEF7</a>	60                       	RTS

DRAWLINE
<a name="LEEF8">$EEF8</a>	D8                       	CLD                                     	This routine puts lines on the
<a name="LEEF9">$EEF9</a>	20 D8 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEED8">$EED8</a>                             	screen for the DRAW command.
<a name="LEEFC">$EEFC</a>	2C E2 02                 	BIT   $02E2                             	Test and branch if X argument is
<a name="LEEFF">$EEFF</a>	10 0A                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF0B">$EF0B</a>                             	a positive number.
<a name="LEF01">$EF01</a>	A9 FF                    	LDA   #$FF                              	Gets 2's complement of the low
<a name="LEF03">$EF03</a>	4D E1 02                 	EOR   $02E1                             	byte of X argument.
<a name="LEF06">$EF06</a>	AA                       	TAX
<a name="LEF07">$EF07</a>	E8                       	INX
<a name="LEF08">$EF08</a>	8E E1 02                 	STX   $02E1
<a name="LEF0B">$EF0B</a>	2C E4 02                 	BIT   $02E4
<a name="LEF0E">$EF0E</a>	10 0A                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF1A">$EF1A</a>                             	Y argument is positive.
<a name="LEF10">$EF10</a>	A9 FF                    	LDA   #$FF                              	Get 2's complement of the low
<a name="LEF12">$EF12</a>	4D E3 02                 	EOR   $02E3                             	byte of the Y argument.
<a name="LEF15">$EF15</a>	AA                       	TAX
<a name="LEF16">$EF16</a>	E8                       	INX
<a name="LEF17">$EF17</a>	8E E3 02                 	STX   $02E3
<a name="LEF1A">$EF1A</a>	AD E1 02                 	LDA   $02E1
<a name="LEF1D">$EF1D</a>	CD E3 02                 	CMP   $02E3                             	X argument is smaller than
<a name="LEF20">$EF20</a>	90 0F                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF31">$EF31</a>                             	that of Y.
<a name="LEF22">$EF22</a>	AE E1 02                 	LDX   $02E1
<a name="LEF25">$EF25</a>	F0 09                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF30">$EF30</a>                             	Both X and Y arguments are zero.
<a name="LEF27">$EF27</a>	AD E3 02                 	LDA   $02E3                             	Calculate the slope Y/X of the
<a name="LEF2A">$EF2A</a>	20 40 EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF40">$EF40</a>                             	line.
<a name="LEF2D">$EF2D</a>	20 84 EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF84">$EF84</a>                             	Draw the line.
<a name="LEF30">$EF30</a>	60                       	RTS
<a name="LEF31">$EF31</a>	AE E3 02                 	LDX   $02E3
<a name="LEF34">$EF34</a>	F0 09                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF3F">$EF3F</a>                             	Both X and Y arguments are zero.
<a name="LEF36">$EF36</a>	AD E1 02                 	LDA   $02E1                             	Calculate the slope X/Y of the
<a name="LEF39">$EF39</a>	20 40 EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF40">$EF40</a>                             	line.
<a name="LEF3C">$EF3C</a>	20 5C EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF5C">$EF5C</a>                             	Draw the line.
<a name="LEF3F">$EF3F</a>	60                       	RTS
<a name="LEF40">$EF40</a>	85 0D                    	STA   $0D                               	Set up the variables for the
<a name="LEF42">$EF42</a>	8E 00 02                 	STX   $0200                             	division routine to find the
<a name="LEF45">$EF45</a>	A9 00                    	LDA   #$00                              	slope of the line.
<a name="LEF47">$EF47</a>	85 0C                    	STA   $0C
<a name="LEF49">$EF49</a>	8D 01 02                 	STA   $0201
<a name="LEF4C">$EF4C</a>	20 C8 EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFC8">$EFC8</a>                             	Calculate slope.
<a name="LEF4F">$EF4F</a>	20 FA EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFFA">$EFFA</a>                             	Round up answer.
<a name="LEF52">$EF52</a>	A9 00                    	LDA   #$00                              	Clear remainder and divisor.
<a name="LEF54">$EF54</a>	85 0E                    	STA   $0E
<a name="LEF56">$EF56</a>	85 0F                    	STA   $0F
<a name="LEF58">$EF58</a>	8D 00 02                 	STA   $0200
<a name="LEF5B">$EF5B</a>	60                       	RTS
<a name="LEF5C">$EF5C</a>	2C E4 02                 	BIT   $02E4                             	Draw line for the case Y &gt; X.
<a name="LEF5F">$EF5F</a>	10 06                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF67">$EF67</a>                             	Y is positive.
<a name="LEF61">$EF61</a>	20 95 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF095">$F095</a>                             	Move cursor up a line.
<a name="LEF64">$EF64</a>	4C 6A EF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF6A">$EF6A</a>
<a name="LEF67">$EF67</a>	20 89 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF089">$F089</a>                             	Move cursor down a line.
<a name="LEF6A">$EF6A</a>	20 AC EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFAC">$EFAC</a>
<a name="LEF6D">$EF6D</a>	F0 0E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF7D">$EF7D</a>                             	Line is off target.
<a name="LEF6F">$EF6F</a>	2C E2 02                 	BIT   $02E2
<a name="LEF72">$EF72</a>	10 06                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF7A">$EF7A</a>                             	X argument is positive.
<a name="LEF74">$EF74</a>	20 B2 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0B2">$F0B2</a>                             	Move cursor left a pixel.
<a name="LEF77">$EF77</a>	4C 7D EF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF7D">$EF7D</a>
<a name="LEF7A">$EF7A</a>	20 A1 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0A1">$F0A1</a>                             	Move cursor right a pixel.
<a name="LEF7D">$EF7D</a>	20 16 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF016">$F016</a>                             	Send pixel to screen.
<a name="LEF80">$EF80</a>	CA                       	DEX                                     	Continue until correct number
<a name="LEF81">$EF81</a>	D0 D9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF5C">$EF5C</a>                             	of rows are done.
<a name="LEF83">$EF83</a>	60                       	RTS
<a name="LEF84">$EF84</a>	2C E2 02                 	BIT   $02E2                             	Draw line for the case X &gt; Y.
<a name="LEF87">$EF87</a>	10 06                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF8F">$EF8F</a>                             	X argument is positive.
<a name="LEF89">$EF89</a>	20 B2 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0B2">$F0B2</a>                             	Move cursor left a pixel.
<a name="LEF8C">$EF8C</a>	4C 92 EF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF92">$EF92</a>
<a name="LEF8F">$EF8F</a>	20 A1 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0A1">$F0A1</a>                             	Move cursor right a pixel.
<a name="LEF92">$EF92</a>	20 AC EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFAC">$EFAC</a>
<a name="LEF95">$EF95</a>	F0 0E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFA5">$EFA5</a>                             	Line is off target.
<a name="LEF97">$EF97</a>	2C E4 02                 	BIT   $02E4
<a name="LEF9A">$EF9A</a>	10 06                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFA2">$EFA2</a>                             	Y argument is positive.
<a name="LEF9C">$EF9C</a>	20 95 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF095">$F095</a>                             	Move cursor up a line.
<a name="LEF9F">$EF9F</a>	4C A5 EF                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFA5">$EFA5</a>
<a name="LEFA2">$EFA2</a>	20 89 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF089">$F089</a>                             	Move cursor down a line.
<a name="LEFA5">$EFA5</a>	20 16 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF016">$F016</a>                             	Send pixel to screen.
<a name="LEFA8">$EFA8</a>	CA                       	DEX                                     	Continue until correct number
<a name="LEFA9">$EFA9</a>	D0 D9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEF84">$EF84</a>                             	of columns are done.
<a name="LEFAB">$EFAB</a>	60                       	RTS
<a name="LEFAC">$EFAC</a>	D8                       	CLD                                     	This routine adds the slope of
<a name="LEFAD">$EFAD</a>	18                       	CLC                                     	the line being drawn to #0E/0F.
<a name="LEFAE">$EFAE</a>	A5 0E                    	LDA   $0E                               	This is done so that the
<a name="LEFB0">$EFB0</a>	65 0C                    	ADC   $0C                               	drawing routines can keep the
<a name="LEFB2">$EFB2</a>	85 0E                    	STA   $0E                               	slope of the line on target.
<a name="LEFB4">$EFB4</a>	A5 0F                    	LDA   $0F                               	This is indicated by Z at the
<a name="LEFB6">$EFB6</a>	65 0D                    	ADC   $0D                               	end of the routine; if set
<a name="LEFB8">$EFB8</a>	85 0F                    	STA   $0F                               	the calling routine misses
<a name="LEFBA">$EFBA</a>	24 0E                    	BIT   $0E                               	out drawing a pixel in one
<a name="LEFBC">$EFBC</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFC1">$EFC1</a>                             	direction. On shallow or
<a name="LEFBE">$EFBE</a>	18                       	CLC                                     	steep lines this will give the
<a name="LEFBF">$EFBF</a>	69 01                    	ADC   #$01                              	line a step like appearance.
<a name="LEFC1">$EFC1</a>	CD 00 02                 	CMP   $0200
<a name="LEFC4">$EFC4</a>	8D 00 02                 	STA   $0200
<a name="LEFC7">$EFC7</a>	60                       	RTS
<a name="LEFC8">$EFC8</a>	48                       	PHA                                     	This is a division routine
<a name="LEFC9">$EFC9</a>	8A                       	TXA                                     	that is used to calculate the
<a name="LEFCA">$EFCA</a>	48                       	PHA                                     	slope of a line being drawn.
<a name="LEFCB">$EFCB</a>	98                       	TYA
<a name="LEFCC">$EFCC</a>	48                       	PHA                                     	The routine acts on 16 bit
<a name="LEFCD">$EFCD</a>	A9 00                    	LDA   #$00                              	numbers.
<a name="LEFCF">$EFCF</a>	85 0E                    	STA   $0E
<a name="LEFD1">$EFD1</a>	85 0F                    	STA   $0F                               	Divisor is in #0200/1 and
<a name="LEFD3">$EFD3</a>	A2 10                    	LDX   #$10                              	dividend is in #0C/0D. Must be
<a name="LEFD5">$EFD5</a>	06 0C                    	ASL   $0C                               	set before routine is called.
<a name="LEFD7">$EFD7</a>	26 0D                    	ROL   $0D                               	The quotient ends up in #0C/0D
<a name="LEFD9">$EFD9</a>	26 0E                    	ROL   $0E                               	and the remainder in #0E/0F.
<a name="LEFDB">$EFDB</a>	26 0F                    	ROL   $0F
<a name="LEFDD">$EFDD</a>	A5 0E                    	LDA   $0E                               	A, X and Y are unaffected by
<a name="LEFDF">$EFDF</a>	38                       	SEC                                     	this routine.
<a name="LEFE0">$EFE0</a>	ED 00 02                 	SBC   $0200
<a name="LEFE3">$EFE3</a>	A8                       	TAY
<a name="LEFE4">$EFE4</a>	A5 0F                    	LDA   $0F
<a name="LEFE6">$EFE6</a>	ED 01 02                 	SBC   $0201
<a name="LEFE9">$EFE9</a>	90 06                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFF1">$EFF1</a>
<a name="LEFEB">$EFEB</a>	E6 0C                    	INC   $0C
<a name="LEFED">$EFED</a>	84 0E                    	STY   $0E
<a name="LEFEF">$EFEF</a>	85 0F                    	STA   $0F
<a name="LEFF1">$EFF1</a>	CA                       	DEX
<a name="LEFF2">$EFF2</a>	D0 E1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFD5">$EFD5</a>
<a name="LEFF4">$EFF4</a>	68                       	PLA
<a name="LEFF5">$EFF5</a>	A8                       	TAY
<a name="LEFF6">$EFF6</a>	68                       	PLA
<a name="LEFF7">$EFF7</a>	AA                       	TAX
<a name="LEFF8">$EFF8</a>	68                       	PLA
<a name="LEFF9">$EFF9</a>	60                       	RTS
<a name="LEFFA">$EFFA</a>	48                       	PHA                                     	This routine rounds up the
<a name="LEFFB">$EFFB</a>	0E 00 02                 	ASL   $0200                             	quotient of the above routine
<a name="LEFFE">$EFFE</a>	2E 01 02                 	ROL   $0201                             	if twice the divisor is less
<a name="LF001">$F001</a>	AD 00 02                 	LDA   $0200                             	than the remainder.
<a name="LF004">$F004</a>	38                       	SEC
<a name="LF005">$F005</a>	E5 0E                    	SBC   $0E
<a name="LF007">$F007</a>	AD 01 02                 	LDA   $0201
<a name="LF00A">$F00A</a>	E5 0F                    	SBC   $0F
<a name="LF00C">$F00C</a>	B0 06                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF014">$F014</a>
<a name="LF00E">$F00E</a>	E6 0C                    	INC   $0C
<a name="LF010">$F010</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF014">$F014</a>
<a name="LF012">$F012</a>	E6 0D                    	INC   $0D
<a name="LF014">$F014</a>	68                       	PLA
<a name="LF015">$F015</a>	60                       	RTS
<a name="LF016">$F016</a>	2C 14 02                 	BIT   $0214                             	This routine places a pixel
<a name="LF019">$F019</a>	18                       	CLC                                     	on the screen at the current
<a name="LF01A">$F01A</a>	10 04                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF020">$F020</a>                             	cursor position subject to
<a name="LF01C">$F01C</a>	20 24 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF024">$F024</a>                             	the data in the PATTERN
<a name="LF01F">$F01F</a>	38                       	SEC                                     	register (in #0213).
<a name="LF020">$F020</a>	2E 14 02                 	ROL   $0214
<a name="LF023">$F023</a>	60                       	RTS
<a name="LF024">$F024</a>	A0 00                    	LDY   #$00                              	Write a pixel to current
<a name="LF026">$F026</a>	B1 10                    	LDA   ($10),Y                           	cursor position unless cursor
<a name="LF028">$F028</a>	29 40                    	AND   #$40                              	is over a location holding a
<a name="LF02A">$F02A</a>	F0 1C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF048">$F048</a>                             	colour attribute.
<a name="LF02C">$F02C</a>	AD 15 02                 	LDA   $0215                             	Load bit pattern for that byte.
<a name="LF02F">$F02F</a>	2C 12 02                 	BIT   $0212                             	Test and branch if the FB code
<a name="LF032">$F032</a>	30 0E                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF042">$F042</a>                             	is 2 or 3.
<a name="LF034">$F034</a>	70 07                    	BVS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF03D">$F03D</a>                             	FB code is 1.
<a name="LF036">$F036</a>	49 FF                    	EOR   #$FF                              	FB code is 0 therefore set
<a name="LF038">$F038</a>	31 10                    	AND   ($10),Y                           	pixel to background.
<a name="LF03A">$F03A</a>	91 10                    	STA   ($10),Y
<a name="LF03C">$F03C</a>	60                       	RTS
<a name="LF03D">$F03D</a>	11 10                    	ORA   ($10),Y                           	FB code is 1 therefore set
<a name="LF03F">$F03F</a>	91 10                    	STA   ($10),Y                           	pixel to foreground.
<a name="LF041">$F041</a>	60                       	RTS
<a name="LF042">$F042</a>	70 04                    	BVS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF048">$F048</a>                             	Exit if FB code is 3.
<a name="LF044">$F044</a>	51 10                    	EOR   ($10),Y                           	FB code is 2 therefore invert
<a name="LF046">$F046</a>	91 10                    	STA   ($10),Y                           	the current pixel.
<a name="LF048">$F048</a>	60                       	RTS
<a name="LF049">$F049</a>	D8                       	CLD                                     	This routine is entered with
<a name="LF04A">$F04A</a>	48                       	PHA                                     	X and Y holding the horizontal
<a name="LF04B">$F04B</a>	98                       	TYA                                     	and vertical cursor positions
<a name="LF04C">$F04C</a>	48                       	PHA                                     	on the hires screen
<a name="LF04D">$F04D</a>	20 31 F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF731">$F731</a>                             	respectively. This routine
<a name="LF050">$F050</a>	18                       	CLC                                     	calculates the corresponding
<a name="LF051">$F051</a>	69 00                    	ADC   #$00                              	address of the byte on the
<a name="LF053">$F053</a>	85 10                    	STA   $10                               	screen and the position of the
<a name="LF055">$F055</a>	98                       	TYA                                     	cursor in that byte. The
<a name="LF056">$F056</a>	69 A0                    	ADC   #$A0                              	latter is held in #0215.
<a name="LF058">$F058</a>	85 11                    	STA   $11
<a name="LF05A">$F05A</a>	A9 00                    	LDA   #$00                              	The address of the cursor byte
<a name="LF05C">$F05C</a>	85 0D                    	STA   $0D                               	ends up in #10 and #11.
<a name="LF05E">$F05E</a>	8D 01 02                 	STA   $0201
<a name="LF061">$F061</a>	86 0C                    	STX   $0C
<a name="LF063">$F063</a>	A9 06                    	LDA   #$06
<a name="LF065">$F065</a>	8D 00 02                 	STA   $0200
<a name="LF068">$F068</a>	20 C8 EF                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEFC8">$EFC8</a>
<a name="LF06B">$F06B</a>	18                       	CLC
<a name="LF06C">$F06C</a>	A5 0C                    	LDA   $0C
<a name="LF06E">$F06E</a>	65 10                    	ADC   $10
<a name="LF070">$F070</a>	85 10                    	STA   $10
<a name="LF072">$F072</a>	A9 00                    	LDA   #$00
<a name="LF074">$F074</a>	65 11                    	ADC   $11
<a name="LF076">$F076</a>	85 11                    	STA   $11
<a name="LF078">$F078</a>	A9 20                    	LDA   #$20
<a name="LF07A">$F07A</a>	A4 0E                    	LDY   $0E
<a name="LF07C">$F07C</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF082">$F082</a>
<a name="LF07E">$F07E</a>	4A                       	LSR
<a name="LF07F">$F07F</a>	88                       	DEY
<a name="LF080">$F080</a>	90 FA                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF07C">$F07C</a>
<a name="LF082">$F082</a>	8D 15 02                 	STA   $0215
<a name="LF085">$F085</a>	68                       	PLA
<a name="LF086">$F086</a>	A8                       	TAY
<a name="LF087">$F087</a>	68                       	PLA
<a name="LF088">$F088</a>	60                       	RTS
<a name="LF089">$F089</a>	18                       	CLC                                     	This routine moves the address
<a name="LF08A">$F08A</a>	A5 10                    	LDA   $10                               	of the cursor to the
<a name="LF08C">$F08C</a>	69 28                    	ADC   #$28                              	corresponding position on the
<a name="LF08E">$F08E</a>	85 10                    	STA   $10                               	line below.
<a name="LF090">$F090</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF094">$F094</a>
<a name="LF092">$F092</a>	E6 11                    	INC   $11
<a name="LF094">$F094</a>	60                       	RTS
<a name="LF095">$F095</a>	38                       	SEC                                     	This routine moves the address
<a name="LF096">$F096</a>	A5 10                    	LDA   $10                               	of the cursor to the
<a name="LF098">$F098</a>	E9 28                    	SBC   #$28                              	corresponding position on the
<a name="LF09A">$F09A</a>	85 10                    	STA   $10                               	line above.
<a name="LF09C">$F09C</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0A0">$F0A0</a>
<a name="LF09E">$F09E</a>	C6 11                    	DEC   $11
<a name="LF0A0">$F0A0</a>	60                       	RTS
<a name="LF0A1">$F0A1</a>	4E 15 02                 	LSR   $0215                             	Move the pixel position within
<a name="LF0A4">$F0A4</a>	90 0B                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0B1">$F0B1</a>                             	the byte on the hires screen
<a name="LF0A6">$F0A6</a>	A9 20                    	LDA   #$20                              	one place to the right. Wrap-
<a name="LF0A8">$F0A8</a>	8D 15 02                 	STA   $0215                             	around will occur.
<a name="LF0AB">$F0AB</a>	E6 10                    	INC   $10
<a name="LF0AD">$F0AD</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0B1">$F0B1</a>
<a name="LF0AF">$F0AF</a>	E6 11                    	INC   $11
<a name="LF0B1">$F0B1</a>	60                       	RTS
<a name="LF0B2">$F0B2</a>	0E 15 02                 	ASL   $0215                             	Move the pixel positon within
<a name="LF0B5">$F0B5</a>	2C 15 02                 	BIT   $0215                             	the byte on the hires screen
<a name="LF0B8">$F0B8</a>	50 0D                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0C7">$F0C7</a>                             	one place to the left. Wrap-
<a name="LF0BA">$F0BA</a>	A9 01                    	LDA   #$01                              	around will occur.
<a name="LF0BC">$F0BC</a>	8D 15 02                 	STA   $0215
<a name="LF0BF">$F0BF</a>	A5 10                    	LDA   $10
<a name="LF0C1">$F0C1</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0C5">$F0C5</a>
<a name="LF0C3">$F0C3</a>	C6 11                    	DEC   $11
<a name="LF0C5">$F0C5</a>	C6 10                    	DEC   $10
<a name="LF0C7">$F0C7</a>	60                       	RTS

CURSET
<a name="LF0C8">$F0C8</a>	A9 04                    	LDA   #$04                              	CURSET
<a name="LF0CA">$F0CA</a>	A2 E5                    	LDX   #$E5
<a name="LF0CC">$F0CC</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Test FB code range.
<a name="LF0CF">$F0CF</a>	B0 28                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0F9">$F0F9</a>                             	FB code is out of range.
<a name="LF0D1">$F0D1</a>	AD E5 02                 	LDA   $02E5                             	Transfer FB code to a work's
<a name="LF0D4">$F0D4</a>	8D 12 02                 	STA   $0212                             	byte.
<a name="LF0D7">$F0D7</a>	A9 F0                    	LDA   #$F0
<a name="LF0D9">$F0D9</a>	A2 E1                    	LDX   #$E1
<a name="LF0DB">$F0DB</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Test and branch if X coordinate
<a name="LF0DE">$F0DE</a>	B0 19                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0F9">$F0F9</a>                             	is out of range.
<a name="LF0E0">$F0E0</a>	A9 C8                    	LDA   #$C8
<a name="LF0E2">$F0E2</a>	A2 E3                    	LDX   #$E3
<a name="LF0E4">$F0E4</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Test Y co-ordinate range.
<a name="LF0E7">$F0E7</a>	B0 10                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0F9">$F0F9</a>                             	Y co-ordinate out of range.
<a name="LF0E9">$F0E9</a>	AE E1 02                 	LDX   $02E1                             	Update value of hires cursor
<a name="LF0EC">$F0EC</a>	8E 19 02                 	STX   $0219                             	and call routine that
<a name="LF0EF">$F0EF</a>	AC E3 02                 	LDY   $02E3                             	calculates its new address and
<a name="LF0F2">$F0F2</a>	8C 1A 02                 	STY   $021A                             	writes it on screen.
<a name="LF0F5">$F0F5</a>	20 E8 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEE8">$EEE8</a>
<a name="LF0F8">$F0F8</a>	60                       	RTS
<a name="LF0F9">$F0F9</a>	EE E0 02                 	INC   $02E0                             	Indicate error.
<a name="LF0FC">$F0FC</a>	60                       	RTS

CURMOV
<a name="LF0FD">$F0FD</a>	20 0A F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF30A">$F30A</a>                             	CURMOV
<a name="LF100">$F100</a>	B0 0A                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF10C">$F10C</a>                             	Calculate destination cursor
<a name="LF102">$F102</a>	AE 19 02                 	LDX   $0219                             	position; if C is 1 then it is
<a name="LF105">$F105</a>	AC 1A 02                 	LDY   $021A                             	out of range. Update cursor
<a name="LF108">$F108</a>	20 E8 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEE8">$EEE8</a>                             	position and write cursor to
<a name="LF10B">$F10B</a>	60                       	RTS                                     	screen.
<a name="LF10C">$F10C</a>	EE E0 02                 	INC   $02E0                             	Indicates error.
<a name="LF10F">$F10F</a>	60                       	RTS

DRAW
<a name="LF110">$F110</a>	20 0A F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF30A">$F30A</a>                             	DRAW
<a name="LF113">$F113</a>	B0 04                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF119">$F119</a>                             	Calculate cursor destination
<a name="LF115">$F115</a>	20 F8 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEF8">$EEF8</a>                             	and call a routine to draw
<a name="LF118">$F118</a>	60                       	RTS                                     	line on screen.
<a name="LF119">$F119</a>	EE E0 02                 	INC   $02E0                             	Indicates error.
<a name="LF11C">$F11C</a>	60                       	RTS

PATTERN
<a name="LF11D">$F11D</a>	AE E2 02                 	LDX   $02E2                             	PATTERN
<a name="LF120">$F120</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF129">$F129</a>                             	Branch if pattern argument is
<a name="LF122">$F122</a>	AE E1 02                 	LDX   $02E1                             	over 255 otherwise update
<a name="LF125">$F125</a>	8E 13 02                 	STX   $0213                             	pattern register.
<a name="LF128">$F128</a>	60                       	RTS
<a name="LF129">$F129</a>	EE E0 02                 	INC   $02E0                             	Indicates error.
<a name="LF12C">$F12C</a>	60                       	RTS

CHAR
<a name="LF12D">$F12D</a>	AE E2 02                 	LDX   $02E2                             	CHAR
<a name="LF130">$F130</a>	D0 3B                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>                             	Error if character is out of
<a name="LF132">$F132</a>	AE E1 02                 	LDX   $02E1                             	range or is a control char.
<a name="LF135">$F135</a>	E0 20                    	CPX   #$20
<a name="LF137">$F137</a>	90 34                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>
<a name="LF139">$F139</a>	E0 80                    	CPX   #$80
<a name="LF13B">$F13B</a>	B0 30                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>
<a name="LF13D">$F13D</a>	A9 02                    	LDA   #$02                              	Set parameter limit to 2.
<a name="LF13F">$F13F</a>	A2 E3                    	LDX   #$E3                              	Error if character set
<a name="LF141">$F141</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	indicator is out of range.
<a name="LF144">$F144</a>	B0 27                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>
<a name="LF146">$F146</a>	A9 04                    	LDA   #$04
<a name="LF148">$F148</a>	A2 E5                    	LDX   #$E5
<a name="LF14A">$F14A</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Check FB code range.
<a name="LF14D">$F14D</a>	B0 1E                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>                             	FB code is out of range.
<a name="LF14F">$F14F</a>	AD 19 02                 	LDA   $0219                             	Check that the character will
<a name="LF152">$F152</a>	C9 EB                    	CMP   #$EB                              	fit on the screen, i.e. it is
<a name="LF154">$F154</a>	B0 17                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>                             	not too close to the edge.
<a name="LF156">$F156</a>	AD 1A 02                 	LDA   $021A
<a name="LF159">$F159</a>	C9 C1                    	CMP   #$C1
<a name="LF15B">$F15B</a>	B0 10                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF16D">$F16D</a>
<a name="LF15D">$F15D</a>	20 71 F1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF171">$F171</a>                             	Get start address of char code
<a name="LF160">$F160</a>	20 9B F1                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF19B">$F19B</a>                             	and write it to the screen.
<a name="LF163">$F163</a>	AE 19 02                 	LDX   $0219                             	Write new cursor position to
<a name="LF166">$F166</a>	AC 1A 02                 	LDY   $021A                             	the screen.
<a name="LF169">$F169</a>	20 49 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF049">$F049</a>
<a name="LF16C">$F16C</a>	60                       	RTS
<a name="LF16D">$F16D</a>	EE E0 02                 	INC   $02E0                             	Indicates error.
<a name="LF170">$F170</a>	60                       	RTS
<a name="LF171">$F171</a>	D8                       	CLD                                     	Calculate start address of
<a name="LF172">$F172</a>	AD E5 02                 	LDA   $02E5                             	character's bit pattern.
<a name="LF175">$F175</a>	8D 12 02                 	STA   $0212                             	Transfer FB code to bits 6 and
<a name="LF178">$F178</a>	20 DE EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEDE">$EEDE</a>                             	7 of #212.
<a name="LF17B">$F17B</a>	AD E1 02                 	LDA   $02E1                             	Transfer character code to #0C
<a name="LF17E">$F17E</a>	85 0C                    	STA   $0C                               	and multiply it by 8 since
<a name="LF180">$F180</a>	A9 00                    	LDA   #$00                              	each character has 8 bytes of
<a name="LF182">$F182</a>	85 0D                    	STA   $0D                               	pattern information.
<a name="LF184">$F184</a>	A2 03                    	LDX   #$03
<a name="LF186">$F186</a>	06 0C                    	ASL   $0C
<a name="LF188">$F188</a>	26 0D                    	ROL   $0D
<a name="LF18A">$F18A</a>	CA                       	DEX
<a name="LF18B">$F18B</a>	D0 F9                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF186">$F186</a>
<a name="LF18D">$F18D</a>	AD E3 02                 	LDA   $02E3                             	If alternate char set is used
<a name="LF190">$F190</a>	0A                       	ASL                                     	then add length of standard
<a name="LF191">$F191</a>	0A                       	ASL                                     	character set.
<a name="LF192">$F192</a>	18                       	CLC
<a name="LF193">$F193</a>	69 98                    	ADC   #$98                              	Add start address of standard
<a name="LF195">$F195</a>	18                       	CLC                                     	char set; #0C/0D now holds
<a name="LF196">$F196</a>	65 0D                    	ADC   $0D                               	start address of bit pattern
<a name="LF198">$F198</a>	85 0D                    	STA   $0D                               	for that character.
<a name="LF19A">$F19A</a>	60                       	RTS
<a name="LF19B">$F19B</a>	D8                       	CLD                                     	This routine writes to the
<a name="LF19C">$F19C</a>	A0 00                    	LDY   #$00                              	hires screen the char whose
<a name="LF19E">$F19E</a>	84 0F                    	STY   $0F                               	bit pattern start address is
<a name="LF1A0">$F1A0</a>	B1 0C                    	LDA   ($0C),Y                           	in #0C/0D.
<a name="LF1A2">$F1A2</a>	85 0E                    	STA   $0E                               	Store bit pattern for row.
<a name="LF1A4">$F1A4</a>	20 5D F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35D">$F35D</a>                             	Save current hires cursor.
<a name="LF1A7">$F1A7</a>	26 0E                    	ROL   $0E                               	Shift bit pattern in to top
<a name="LF1A9">$F1A9</a>	26 0E                    	ROL   $0E                               	6 bits of #0E.
<a name="LF1AB">$F1AB</a>	A2 06                    	LDX   #$06                              	Used as a pixel counter.
<a name="LF1AD">$F1AD</a>	26 0E                    	ROL   $0E                               	Branch if next pixel is off,
<a name="LF1AF">$F1AF</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF1B4">$F1B4</a>                             	no need to print it to screen.
<a name="LF1B1">$F1B1</a>	20 24 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF024">$F024</a>                             	Print pixel to screen.
<a name="LF1B4">$F1B4</a>	20 A1 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0A1">$F0A1</a>                             	Shift right pixel position.
<a name="LF1B7">$F1B7</a>	CA                       	DEX
<a name="LF1B8">$F1B8</a>	D0 F3                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF1AD">$F1AD</a>                             	Continue until end of row.
<a name="LF1BA">$F1BA</a>	20 6E F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF36E">$F36E</a>                             	Restore original hires cursor.
<a name="LF1BD">$F1BD</a>	20 89 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF089">$F089</a>                             	Move cursor down a line.
<a name="LF1C0">$F1C0</a>	A4 0F                    	LDY   $0F
<a name="LF1C2">$F1C2</a>	C8                       	INY
<a name="LF1C3">$F1C3</a>	C0 08                    	CPY   #$08                              	Repeat for 8 rows.
<a name="LF1C5">$F1C5</a>	D0 D7                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF19E">$F19E</a>
<a name="LF1C7">$F1C7</a>	60                       	RTS
<a name="LF1C8">$F1C8</a>	A9 F0                    	LDA   #$F0                              	Main routine for 'POINT '
<a name="LF1CA">$F1CA</a>	A2 E1                    	LDX   #$E1
<a name="LF1CC">$F1CC</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Test X parameter.
<a name="LF1CF">$F1CF</a>	B0 2F                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF200">$F200</a>                             	Out of range - over 239.
<a name="LF1D1">$F1D1</a>	A9 C8                    	LDA   #$C8
<a name="LF1D3">$F1D3</a>	A2 E3                    	LDX   #$E3
<a name="LF1D5">$F1D5</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Test Y parameter.
<a name="LF1D8">$F1D8</a>	B0 26                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF200">$F200</a>                             	Out of range - over 199.
<a name="LF1DA">$F1DA</a>	AE E1 02                 	LDX   $02E1                             	Set hires cursor location to
<a name="LF1DD">$F1DD</a>	8E 19 02                 	STX   $0219                             	position given.
<a name="LF1E0">$F1E0</a>	AC E3 02                 	LDY   $02E3
<a name="LF1E3">$F1E3</a>	8C 1A 02                 	STY   $021A
<a name="LF1E6">$F1E6</a>	20 49 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF049">$F049</a>                             	Calculate address of cursor.
<a name="LF1E9">$F1E9</a>	A0 00                    	LDY   #$00
<a name="LF1EB">$F1EB</a>	B1 10                    	LDA   ($10),Y                           	Load pixel byte.
<a name="LF1ED">$F1ED</a>	2D 15 02                 	AND   $0215                             	Isolate pixel.
<a name="LF1F0">$F1F0</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF1F7">$F1F7</a>                             	Pixel is background.
<a name="LF1F2">$F1F2</a>	A9 FF                    	LDA   #$FF                              	Load A for result of -1.
<a name="LF1F4">$F1F4</a>	4C F9 F1                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF1F9">$F1F9</a>
<a name="LF1F7">$F1F7</a>	A9 00                    	LDA   #$00
<a name="LF1F9">$F1F9</a>	8D E1 02                 	STA   $02E1                             	Result is 0 if background and
<a name="LF1FC">$F1FC</a>	8D E2 02                 	STA   $02E2                             	-1 if foreground.
<a name="LF1FF">$F1FF</a>	60                       	RTS
<a name="LF200">$F200</a>	EE E0 02                 	INC   $02E0                             	Indicate error.
<a name="LF203">$F203</a>	60                       	RTS

PAPER
<a name="LF204">$F204</a>	A9 10                    	LDA   #$10                              	PAPER
<a name="LF206">$F206</a>	85 0C                    	STA   $0C                               	Content of #0C is added to the
<a name="LF208">$F208</a>	A9 00                    	LDA   #$00                              	paper colour to give attribute
<a name="LF20A">$F20A</a>	85 0D                    	STA   $0D                               	code. #0D=0 indicates paper.
<a name="LF20C">$F20C</a>	20 1C F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF21C">$F21C</a>                             	Process argument and write new
<a name="LF20F">$F20F</a>	60                       	RTS                                     	paper colour to screen.

INK
<a name="LF210">$F210</a>	A9 00                    	LDA   #$00                              	INK
<a name="LF212">$F212</a>	85 0C                    	STA   $0C                               	Content of #0C is added to the
<a name="LF214">$F214</a>	A9 01                    	LDA   #$01                              	ink colour to give attribute
<a name="LF216">$F216</a>	85 0D                    	STA   $0D                               	code. #0D=1 indicates ink.
<a name="LF218">$F218</a>	20 1C F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF21C">$F21C</a>                             	Process argument and write new
<a name="LF21B">$F21B</a>	60                       	RTS                                     	ink colour to screen.
<a name="LF21C">$F21C</a>	A9 08                    	LDA   #$08                              	Set parameter limit to 8.
<a name="LF21E">$F21E</a>	A2 E1                    	LDX   #$E1
<a name="LF220">$F220</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	Test paper/ink value given.
<a name="LF223">$F223</a>	B0 3F                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF264">$F264</a>                             	Out of range.
<a name="LF225">$F225</a>	20 5D F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35D">$F35D</a>                             	Save hires cursor location.
<a name="LF228">$F228</a>	AD E1 02                 	LDA   $02E1
<a name="LF22B">$F22B</a>	05 0C                    	ORA   $0C                               	Produce and save the correct
<a name="LF22D">$F22D</a>	8D 02 02                 	STA   $0202                             	paper/ink attribute code.
<a name="LF230">$F230</a>	AE 1F 02                 	LDX   $021F
<a name="LF233">$F233</a>	D0 12                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF247">$F247</a>                             	In Hires mode.
<a name="LF235">$F235</a>	A6 0D                    	LDX   $0D                               	Save the paper/ink colour in
<a name="LF237">$F237</a>	9D 6B 02                 	STA   $026B,X                           	appropriate location.
<a name="LF23A">$F23A</a>	A9 A8                    	LDA   #$A8                              	Set X to low half of address
<a name="LF23C">$F23C</a>	18                       	CLC                                     	of first row on text screen to
<a name="LF23D">$F23D</a>	65 0D                    	ADC   $0D                               	have its paper/ink changed.
<a name="LF23F">$F23F</a>	AA                       	TAX                                     	Load A with number of rows to
<a name="LF240">$F240</a>	A0 BB                    	LDY   #$BB                              	be changed and Y with high
<a name="LF242">$F242</a>	A9 1B                    	LDA   #$1B                              	byte of start address.
<a name="LF244">$F244</a>	4C 51 F2                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF251">$F251</a>
<a name="LF247">$F247</a>	A9 00                    	LDA   #$00                              	Set X and Y to the low and
<a name="LF249">$F249</a>	18                       	CLC                                     	high halves of the first row
<a name="LF24A">$F24A</a>	65 0D                    	ADC   $0D                               	to have ink/paper changed.
<a name="LF24C">$F24C</a>	AA                       	TAX                                     	Load A with number of rows to
<a name="LF24D">$F24D</a>	A0 A0                    	LDY   #$A0                              	be done for hires screen.
<a name="LF24F">$F24F</a>	A9 C8                    	LDA   #$C8
<a name="LF251">$F251</a>	8D 00 02                 	STA   $0200
<a name="LF254">$F254</a>	86 10                    	STX   $10
<a name="LF256">$F256</a>	84 11                    	STY   $11
<a name="LF258">$F258</a>	A9 01                    	LDA   #$01
<a name="LF25A">$F25A</a>	8D 01 02                 	STA   $0201                             	Fill the appropriate number
<a name="LF25D">$F25D</a>	20 CD F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2CD">$F2CD</a>                             	of rows with new ink/paper.
<a name="LF260">$F260</a>	20 6E F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF36E">$F36E</a>                             	Restore old hires cursor
<a name="LF263">$F263</a>	60                       	RTS                                     	address.
<a name="LF264">$F264</a>	EE E0 02                 	INC   $02E0                             	Indicates error.
<a name="LF267">$F267</a>	60                       	RTS

FILL
<a name="LF268">$F268</a>	D8                       	CLD                                     	FILL
<a name="LF269">$F269</a>	AD E3 02                 	LDA   $02E3                             	Parameters passed in block
<a name="LF26C">$F26C</a>	8D 01 02                 	STA   $0201                             	at $02E1.
<a name="LF26F">$F26F</a>	F0 58                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>                             	Error, can't fill 0 columns.
<a name="LF271">$F271</a>	A0 00                    	LDY   #$00
<a name="LF273">$F273</a>	AD 19 02                 	LDA   $0219                             	Horizontal cursor position.
<a name="LF276">$F276</a>	38                       	SEC
<a name="LF277">$F277</a>	E9 06                    	SBC   #$06                              	Find byte position of cursor
<a name="LF279">$F279</a>	90 04                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF27F">$F27F</a>                             	in row by repeated subtraction
<a name="LF27B">$F27B</a>	C8                       	INY                                     	of 6 until 0 is passed.
<a name="LF27C">$F27C</a>	4C 76 F2                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF276">$F276</a>
<a name="LF27F">$F27F</a>	98                       	TYA
<a name="LF280">$F280</a>	18                       	CLC
<a name="LF281">$F281</a>	6D E3 02                 	ADC   $02E3                             	Test if the final column
<a name="LF284">$F284</a>	A8                       	TAY                                     	of fill will go off screen.
<a name="LF285">$F285</a>	AD E4 02                 	LDA   $02E4                             	Generate error if so.
<a name="LF288">$F288</a>	69 00                    	ADC   #$00
<a name="LF28A">$F28A</a>	D0 3D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>
<a name="LF28C">$F28C</a>	C0 29                    	CPY   #$29
<a name="LF28E">$F28E</a>	B0 39                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>                             	Third parameter (the byte to
<a name="LF290">$F290</a>	AD E6 02                 	LDA   $02E6                             	be written to screen) must not
<a name="LF293">$F293</a>	D0 34                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>                             	be over 255.
<a name="LF295">$F295</a>	AD E1 02                 	LDA   $02E1                             	Transfer number of rows to be
<a name="LF298">$F298</a>	8D 00 02                 	STA   $0200                             	filled.
<a name="LF29B">$F29B</a>	F0 2C                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>                             	Error, can't fill 0 rows.
<a name="LF29D">$F29D</a>	18                       	CLC
<a name="LF29E">$F29E</a>	6D 1A 02                 	ADC   $021A
<a name="LF2A1">$F2A1</a>	A8                       	TAY
<a name="LF2A2">$F2A2</a>	AD E2 02                 	LDA   $02E2                             	Check that the final row will
<a name="LF2A5">$F2A5</a>	69 00                    	ADC   #$00                              	not go off bottom of screen.
<a name="LF2A7">$F2A7</a>	D0 20                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>
<a name="LF2A9">$F2A9</a>	C0 C9                    	CPY   #$C9                              	Test that final row is not 201
<a name="LF2AB">$F2AB</a>	B0 1C                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2C9">$F2C9</a>                             	or greater.
<a name="LF2AD">$F2AD</a>	C0 C8                    	CPY   #$C8
<a name="LF2AF">$F2AF</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2B3">$F2B3</a>                             	Set row to 0 if it would
<a name="LF2B1">$F2B1</a>	A0 00                    	LDY   #$00                              	otherwise end up at row 200.
<a name="LF2B3">$F2B3</a>	8C 1A 02                 	STY   $021A                             	Save final Y cursor position.
<a name="LF2B6">$F2B6</a>	AD E5 02                 	LDA   $02E5                             	Transfer byte to be written
<a name="LF2B9">$F2B9</a>	8D 02 02                 	STA   $0202                             	on screen.
<a name="LF2BC">$F2BC</a>	20 CD F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2CD">$F2CD</a>                             	Fill each row until finished.
<a name="LF2BF">$F2BF</a>	AC 1A 02                 	LDY   $021A
<a name="LF2C2">$F2C2</a>	AE 19 02                 	LDX   $0219                             	Write current hires cursor
<a name="LF2C5">$F2C5</a>	20 49 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF049">$F049</a>                             	position to screen.
<a name="LF2C8">$F2C8</a>	60                       	RTS
<a name="LF2C9">$F2C9</a>	EE E0 02                 	INC   $02E0                             	Indicates error in routine.
<a name="LF2CC">$F2CC</a>	60                       	RTS
<a name="LF2CD">$F2CD</a>	D8                       	CLD                                     	This routine puts the bit
<a name="LF2CE">$F2CE</a>	AD 02 02                 	LDA   $0202                             	pattern held in $0202 on the
<a name="LF2D1">$F2D1</a>	A0 00                    	LDY   #$00                              	screen. This is repeated
<a name="LF2D3">$F2D3</a>	91 10                    	STA   ($10),Y                           	on the following row until
<a name="LF2D5">$F2D5</a>	C8                       	INY                                     	the content of $0200 is
<a name="LF2D6">$F2D6</a>	CC 01 02                 	CPY   $0201                             	decremented to zero.
<a name="LF2D9">$F2D9</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2D3">$F2D3</a>
<a name="LF2DB">$F2DB</a>	20 89 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF089">$F089</a>
<a name="LF2DE">$F2DE</a>	CE 00 02                 	DEC   $0200
<a name="LF2E1">$F2E1</a>	D0 EB                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2CE">$F2CE</a>
<a name="LF2E3">$F2E3</a>	60                       	RTS
<a name="LF2E4">$F2E4</a>	8D 04 02                 	STA   $0204                             	This routine tests whether
<a name="LF2E7">$F2E7</a>	BD 01 02                 	LDA   $0201,X                           	the content of $0204 is
<a name="LF2EA">$F2EA</a>	D0 0A                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F6">$F2F6</a>                             	greater than the content of
<a name="LF2EC">$F2EC</a>	BD 00 02                 	LDA   $0200,X                           	indexed location. This
<a name="LF2EF">$F2EF</a>	F0 05                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F6">$F2F6</a>                             	routine is used in range
<a name="LF2F1">$F2F1</a>	CD 04 02                 	CMP   $0204                             	checking of arguments. The
<a name="LF2F4">$F2F4</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F7">$F2F7</a>                             	argument is given the error
<a name="LF2F6">$F2F6</a>	38                       	SEC                                     	status (C=1) if zero.
<a name="LF2F7">$F2F7</a>	60                       	RTS
<a name="LF2F8">$F2F8</a>	8D 04 02                 	STA   $0204                             	This routine operates in the
<a name="LF2FB">$F2FB</a>	BD 01 02                 	LDA   $0201,X                           	same way as the one above
<a name="LF2FE">$F2FE</a>	D0 08                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF308">$F308</a>                             	but does not set the error
<a name="LF300">$F300</a>	BD 00 02                 	LDA   $0200,X                           	condition if the argument is
<a name="LF303">$F303</a>	CD 04 02                 	CMP   $0204                             	zero.
<a name="LF306">$F306</a>	90 01                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF309">$F309</a>
<a name="LF308">$F308</a>	38                       	SEC
<a name="LF309">$F309</a>	60                       	RTS
<a name="LF30A">$F30A</a>	A9 04                    	LDA   #$04                              	This routine is used by DRAW
<a name="LF30C">$F30C</a>	A2 E5                    	LDX   #$E5                              	and CURMOV to calculate the
<a name="LF30E">$F30E</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>                             	destination of the hires
<a name="LF311">$F311</a>	B0 49                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35C">$F35C</a>                             	cursor. Each parameter is
<a name="LF313">$F313</a>	18                       	CLC                                     	checked so that the cursor
<a name="LF314">$F314</a>	AD E1 02                 	LDA   $02E1                             	does not go off the screen
<a name="LF317">$F317</a>	6D 19 02                 	ADC   $0219                             	and that the wrong FB code is
<a name="LF31A">$F31A</a>	8D 00 02                 	STA   $0200                             	used.
<a name="LF31D">$F31D</a>	AD E2 02                 	LDA   $02E2                             	$02E1/2 and $02E3/4 hold the
<a name="LF320">$F320</a>	69 00                    	ADC   #$00                              	respective X and Y arguments.
<a name="LF322">$F322</a>	8D 01 02                 	STA   $0201
<a name="LF325">$F325</a>	A2 00                    	LDX   #$00                              	The address of the hires
<a name="LF327">$F327</a>	A9 F0                    	LDA   #$F0                              	cursor is not calculated.
<a name="LF329">$F329</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>
<a name="LF32C">$F32C</a>	B0 2E                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35C">$F35C</a>
<a name="LF32E">$F32E</a>	18                       	CLC
<a name="LF32F">$F32F</a>	AD E3 02                 	LDA   $02E3
<a name="LF332">$F332</a>	6D 1A 02                 	ADC   $021A
<a name="LF335">$F335</a>	8D 02 02                 	STA   $0202
<a name="LF338">$F338</a>	AD E4 02                 	LDA   $02E4
<a name="LF33B">$F33B</a>	69 00                    	ADC   #$00
<a name="LF33D">$F33D</a>	8D 03 02                 	STA   $0203
<a name="LF340">$F340</a>	A2 02                    	LDX   #$02
<a name="LF342">$F342</a>	A9 C8                    	LDA   #$C8
<a name="LF344">$F344</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>
<a name="LF347">$F347</a>	B0 13                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35C">$F35C</a>
<a name="LF349">$F349</a>	AD E5 02                 	LDA   $02E5
<a name="LF34C">$F34C</a>	8D 12 02                 	STA   $0212
<a name="LF34F">$F34F</a>	AD 00 02                 	LDA   $0200
<a name="LF352">$F352</a>	8D 19 02                 	STA   $0219
<a name="LF355">$F355</a>	AD 02 02                 	LDA   $0202
<a name="LF358">$F358</a>	8D 1A 02                 	STA   $021A
<a name="LF35B">$F35B</a>	18                       	CLC
<a name="LF35C">$F35C</a>	60                       	RTS
<a name="LF35D">$F35D</a>	A5 10                    	LDA   $10                               	This routine saves the
<a name="LF35F">$F35F</a>	8D 16 02                 	STA   $0216                             	address of the hires cursor
<a name="LF362">$F362</a>	A5 11                    	LDA   $11                               	at locations $0216/7. The
<a name="LF364">$F364</a>	8D 17 02                 	STA   $0217                             	pixel byte ($0215) is also
<a name="LF367">$F367</a>	AD 15 02                 	LDA   $0215                             	saved at $0218.
<a name="LF36A">$F36A</a>	8D 18 02                 	STA   $0218
<a name="LF36D">$F36D</a>	60                       	RTS
<a name="LF36E">$F36E</a>	AD 16 02                 	LDA   $0216                             	This routine restores the
<a name="LF371">$F371</a>	85 10                    	STA   $10                               	hires cursor and pixel
<a name="LF373">$F373</a>	AD 17 02                 	LDA   $0217                             	position to their original
<a name="LF376">$F376</a>	85 11                    	STA   $11                               	positions. Used in
<a name="LF378">$F378</a>	AD 18 02                 	LDA   $0218                             	conjunction with routine
<a name="LF37B">$F37B</a>	8D 15 02                 	STA   $0215                             	above.
<a name="LF37E">$F37E</a>	60                       	RTS

CIRCLE
<a name="LF37F">$F37F</a>	D8                       	CLD                                     	CIRCLE
<a name="LF380">$F380</a>	AD E2 02                 	LDA   $02E2                             	Check that radius is not 0 or
<a name="LF383">$F383</a>	D0 3D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>                             	over 255.
<a name="LF385">$F385</a>	AD E1 02                 	LDA   $02E1
<a name="LF388">$F388</a>	F0 38                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>
<a name="LF38A">$F38A</a>	AD 19 02                 	LDA   $0219                             	Check that the circle will fit
<a name="LF38D">$F38D</a>	CD E1 02                 	CMP   $02E1                             	on the screen horizontally.
<a name="LF390">$F390</a>	90 30                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>
<a name="LF392">$F392</a>	18                       	CLC
<a name="LF393">$F393</a>	6D E1 02                 	ADC   $02E1
<a name="LF396">$F396</a>	C9 F0                    	CMP   #$F0
<a name="LF398">$F398</a>	B0 28                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>
<a name="LF39A">$F39A</a>	AD 1A 02                 	LDA   $021A                             	Check that the cursor will fit
<a name="LF39D">$F39D</a>	CD E1 02                 	CMP   $02E1                             	on the screen vertically.
<a name="LF3A0">$F3A0</a>	90 20                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>
<a name="LF3A2">$F3A2</a>	18                       	CLC
<a name="LF3A3">$F3A3</a>	6D E1 02                 	ADC   $02E1
<a name="LF3A6">$F3A6</a>	C9 C8                    	CMP   #$C8
<a name="LF3A8">$F3A8</a>	B0 18                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>
<a name="LF3AA">$F3AA</a>	A2 E3                    	LDX   #$E3                              	Check that the FB code is not
<a name="LF3AC">$F3AC</a>	A9 04                    	LDA   #$04                              	out of range.
<a name="LF3AE">$F3AE</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>
<a name="LF3B1">$F3B1</a>	B0 0F                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C2">$F3C2</a>
<a name="LF3B3">$F3B3</a>	AD E3 02                 	LDA   $02E3
<a name="LF3B6">$F3B6</a>	8D 12 02                 	STA   $0212
<a name="LF3B9">$F3B9</a>	20 D8 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEED8">$EED8</a>                             	Put FB in bits 6,7 of $0212.
<a name="LF3BC">$F3BC</a>	20 C6 F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C6">$F3C6</a>                             	Draw the circle.
<a name="LF3BF">$F3BF</a>	4C C5 F3                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3C5">$F3C5</a>
<a name="LF3C2">$F3C2</a>	EE E0 02                 	INC   $02E0
<a name="LF3C5">$F3C5</a>	60                       	RTS
<a name="LF3C6">$F3C6</a>	20 5D F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35D">$F35D</a>                             	Save hires cursor address.
<a name="LF3C9">$F3C9</a>	AD 1A 02                 	LDA   $021A
<a name="LF3CC">$F3CC</a>	38                       	SEC                                     	Calculate smallest Y co-ord.
<a name="LF3CD">$F3CD</a>	ED E1 02                 	SBC   $02E1
<a name="LF3D0">$F3D0</a>	A8                       	TAY
<a name="LF3D1">$F3D1</a>	AE 19 02                 	LDX   $0219                             	Load horizontal cursor.
<a name="LF3D4">$F3D4</a>	20 49 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF049">$F049</a>                             	Draw cursor at top of circle.
<a name="LF3D7">$F3D7</a>	AD E1 02                 	LDA   $02E1
<a name="LF3DA">$F3DA</a>	85 0F                    	STA   $0F
<a name="LF3DC">$F3DC</a>	20 85 F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF485">$F485</a>
<a name="LF3DF">$F3DF</a>	A9 80                    	LDA   #$80
<a name="LF3E1">$F3E1</a>	8D 1B 02                 	STA   $021B
<a name="LF3E4">$F3E4</a>	8D 1D 02                 	STA   $021D
<a name="LF3E7">$F3E7</a>	A9 00                    	LDA   #$00
<a name="LF3E9">$F3E9</a>	8D 1C 02                 	STA   $021C
<a name="LF3EC">$F3EC</a>	AD E1 02                 	LDA   $02E1
<a name="LF3EF">$F3EF</a>	8D 1E 02                 	STA   $021E
<a name="LF3F2">$F3F2</a>	A9 00                    	LDA   #$00
<a name="LF3F4">$F3F4</a>	85 0F                    	STA   $0F
<a name="LF3F6">$F3F6</a>	20 14 F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF414">$F414</a>
<a name="LF3F9">$F3F9</a>	20 44 F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF444">$F444</a>
<a name="LF3FC">$F3FC</a>	A5 0F                    	LDA   $0F
<a name="LF3FE">$F3FE</a>	F0 03                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF403">$F403</a>
<a name="LF400">$F400</a>	20 16 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF016">$F016</a>
<a name="LF403">$F403</a>	AD 1C 02                 	LDA   $021C
<a name="LF406">$F406</a>	D0 EA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3F2">$F3F2</a>
<a name="LF408">$F408</a>	AD 1E 02                 	LDA   $021E
<a name="LF40B">$F40B</a>	CD E1 02                 	CMP   $02E1
<a name="LF40E">$F40E</a>	D0 E2                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF3F2">$F3F2</a>
<a name="LF410">$F410</a>	20 6E F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF36E">$F36E</a>
<a name="LF413">$F413</a>	60                       	RTS
<a name="LF414">$F414</a>	AD 1D 02                 	LDA   $021D
<a name="LF417">$F417</a>	AE 1E 02                 	LDX   $021E
<a name="LF41A">$F41A</a>	20 74 F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF474">$F474</a>
<a name="LF41D">$F41D</a>	A5 0C                    	LDA   $0C
<a name="LF41F">$F41F</a>	18                       	CLC
<a name="LF420">$F420</a>	6D 1B 02                 	ADC   $021B
<a name="LF423">$F423</a>	8D 1B 02                 	STA   $021B
<a name="LF426">$F426</a>	AD 1C 02                 	LDA   $021C
<a name="LF429">$F429</a>	85 0C                    	STA   $0C
<a name="LF42B">$F42B</a>	65 0D                    	ADC   $0D
<a name="LF42D">$F42D</a>	8D 1C 02                 	STA   $021C
<a name="LF430">$F430</a>	C5 0C                    	CMP   $0C
<a name="LF432">$F432</a>	F0 0F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF443">$F443</a>
<a name="LF434">$F434</a>	B0 06                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF43C">$F43C</a>
<a name="LF436">$F436</a>	20 A1 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0A1">$F0A1</a>
<a name="LF439">$F439</a>	4C 3F F4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF43F">$F43F</a>
<a name="LF43C">$F43C</a>	20 B2 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF0B2">$F0B2</a>
<a name="LF43F">$F43F</a>	A9 01                    	LDA   #$01
<a name="LF441">$F441</a>	85 0F                    	STA   $0F
<a name="LF443">$F443</a>	60                       	RTS
<a name="LF444">$F444</a>	AD 1B 02                 	LDA   $021B
<a name="LF447">$F447</a>	AE 1C 02                 	LDX   $021C
<a name="LF44A">$F44A</a>	20 74 F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF474">$F474</a>
<a name="LF44D">$F44D</a>	38                       	SEC
<a name="LF44E">$F44E</a>	AD 1D 02                 	LDA   $021D
<a name="LF451">$F451</a>	E5 0C                    	SBC   $0C
<a name="LF453">$F453</a>	8D 1D 02                 	STA   $021D
<a name="LF456">$F456</a>	AD 1E 02                 	LDA   $021E
<a name="LF459">$F459</a>	85 0C                    	STA   $0C
<a name="LF45B">$F45B</a>	E5 0D                    	SBC   $0D
<a name="LF45D">$F45D</a>	8D 1E 02                 	STA   $021E
<a name="LF460">$F460</a>	C5 0C                    	CMP   $0C
<a name="LF462">$F462</a>	F0 0F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF473">$F473</a>
<a name="LF464">$F464</a>	B0 06                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF46C">$F46C</a>
<a name="LF466">$F466</a>	20 89 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF089">$F089</a>
<a name="LF469">$F469</a>	4C 6F F4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF46F">$F46F</a>
<a name="LF46C">$F46C</a>	20 95 F0                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF095">$F095</a>
<a name="LF46F">$F46F</a>	A9 01                    	LDA   #$01
<a name="LF471">$F471</a>	85 0F                    	STA   $0F
<a name="LF473">$F473</a>	60                       	RTS
<a name="LF474">$F474</a>	85 0C                    	STA   $0C                               	This routine does an
<a name="LF476">$F476</a>	86 0D                    	STX   $0D                               	arithmetic shift right on the
<a name="LF478">$F478</a>	A6 0E                    	LDX   $0E                               	16 bit integer in $0C and $0D.
<a name="LF47A">$F47A</a>	A5 0D                    	LDA   $0D                               	This is repeated according to
<a name="LF47C">$F47C</a>	2A                       	ROL                                     	the content of $0E.
<a name="LF47D">$F47D</a>	66 0D                    	ROR   $0D
<a name="LF47F">$F47F</a>	66 0C                    	ROR   $0C
<a name="LF481">$F481</a>	CA                       	DEX
<a name="LF482">$F482</a>	D0 F6                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF47A">$F47A</a>
<a name="LF484">$F484</a>	60                       	RTS
<a name="LF485">$F485</a>	E6 0F                    	INC   $0F                               	Set A to 2 raised to the
<a name="LF487">$F487</a>	A9 00                    	LDA   #$00                              	power of the content of $0F.
<a name="LF489">$F489</a>	85 0E                    	STA   $0E                               	$0E used as a counter.
<a name="LF48B">$F48B</a>	A9 01                    	LDA   #$01
<a name="LF48D">$F48D</a>	0A                       	ASL
<a name="LF48E">$F48E</a>	E6 0E                    	INC   $0E
<a name="LF490">$F490</a>	C5 0F                    	CMP   $0F
<a name="LF492">$F492</a>	90 F9                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF48D">$F48D</a>
<a name="LF494">$F494</a>	60                       	RTS

READKBD
<a name="LF495">$F495</a>	48                       	PHA                                     	STROBE KEYBOARD
<a name="LF496">$F496</a>	08                       	PHP
<a name="LF497">$F497</a>	98                       	TYA
<a name="LF498">$F498</a>	48                       	PHA
<a name="LF499">$F499</a>	D8                       	CLD
<a name="LF49A">$F49A</a>	AD 08 02                 	LDA   $0208
<a name="LF49D">$F49D</a>	10 1E                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4BD">$F4BD</a>                             	No key pressed from last time.
<a name="LF49F">$F49F</a>	29 87                    	AND   #$87
<a name="LF4A1">$F4A1</a>	8D 10 02                 	STA   $0210                             	Test if same key is still
<a name="LF4A4">$F4A4</a>	AE 0A 02                 	LDX   $020A                             	pressed.
<a name="LF4A7">$F4A7</a>	20 61 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF561">$F561</a>
<a name="LF4AA">$F4AA</a>	CD 10 02                 	CMP   $0210
<a name="LF4AD">$F4AD</a>	D0 0E                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4BD">$F4BD</a>                             	Key is no longer pressed.
<a name="LF4AF">$F4AF</a>	CE 0E 02                 	DEC   $020E                             	Decrement repeat counter.
<a name="LF4B2">$F4B2</a>	D0 33                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4E7">$F4E7</a>
<a name="LF4B4">$F4B4</a>	AD 4F 02                 	LDA   $024F                             	Reload repeat counter for
<a name="LF4B7">$F4B7</a>	8D 0E 02                 	STA   $020E                             	following repeat.
<a name="LF4BA">$F4BA</a>	4C C6 F4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4C6">$F4C6</a>
<a name="LF4BD">$F4BD</a>	AD 4E 02                 	LDA   $024E                             	Reset repeat counter for
<a name="LF4C0">$F4C0</a>	8D 0E 02                 	STA   $020E                             	first repeat.
<a name="LF4C3">$F4C3</a>	20 23 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF523">$F523</a>                             	Find key.
<a name="LF4C6">$F4C6</a>	20 EF F4                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4EF">$F4EF</a>                             	Convert key to ASCII code.
<a name="LF4C9">$F4C9</a>	AA                       	TAX
<a name="LF4CA">$F4CA</a>	10 1D                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4E9">$F4E9</a>                             	Unrecognised key.
<a name="LF4CC">$F4CC</a>	48                       	PHA
<a name="LF4CD">$F4CD</a>	AD 6A 02                 	LDA   $026A
<a name="LF4D0">$F4D0</a>	29 08                    	AND   #$08
<a name="LF4D2">$F4D2</a>	D0 0F                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4E3">$F4E3</a>                             	Keyclick disabled.
<a name="LF4D4">$F4D4</a>	68                       	PLA
<a name="LF4D5">$F4D5</a>	48                       	PHA
<a name="LF4D6">$F4D6</a>	C9 A0                    	CMP   #$A0
<a name="LF4D8">$F4D8</a>	90 06                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4E0">$F4E0</a>                             	Change keyclick if CTRL char.
<a name="LF4DA">$F4DA</a>	20 14 FB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB14">$FB14</a>                             	High pitch keyclick.
<a name="LF4DD">$F4DD</a>	4C E3 F4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4E3">$F4E3</a>
<a name="LF4E0">$F4E0</a>	20 2A FB                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB2A">$FB2A</a>                             	Low pitch keyclick.
<a name="LF4E3">$F4E3</a>	68                       	PLA
<a name="LF4E4">$F4E4</a>	4C E9 F4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4E9">$F4E9</a>
<a name="LF4E7">$F4E7</a>	A9 00                    	LDA   #$00                              	X holds the ASCII code of the
<a name="LF4E9">$F4E9</a>	AA                       	TAX                                     	key pressed and bit 7 will be
<a name="LF4EA">$F4EA</a>	68                       	PLA                                     	set. If no key is pressed then
<a name="LF4EB">$F4EB</a>	A8                       	TAY                                     	bit 7 of X will be clear.
<a name="LF4EC">$F4EC</a>	28                       	PLP
<a name="LF4ED">$F4ED</a>	68                       	PLA                                     	A, Y and P are unaffected.
<a name="LF4EE">$F4EE</a>	60                       	RTS

KEY2ASCII
<a name="LF4EF">$F4EF</a>	AD 09 02                 	LDA   $0209                             	CONVERT KEY TO ASCII CODE
<a name="LF4F2">$F4F2</a>	A8                       	TAY                                     	Test if the shift keys are
<a name="LF4F3">$F4F3</a>	A9 00                    	LDA   #$00                              	pressed. If so then add #40
<a name="LF4F5">$F4F5</a>	C0 A4                    	CPY   #$A4                              	to the keycode.
<a name="LF4F7">$F4F7</a>	F0 04                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF4FD">$F4FD</a>
<a name="LF4F9">$F4F9</a>	C0 A7                    	CPY   #$A7
<a name="LF4FB">$F4FB</a>	D0 03                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF500">$F500</a>
<a name="LF4FD">$F4FD</a>	18                       	CLC
<a name="LF4FE">$F4FE</a>	69 40                    	ADC   #$40
<a name="LF500">$F500</a>	18                       	CLC
<a name="LF501">$F501</a>	6D 08 02                 	ADC   $0208
<a name="LF504">$F504</a>	10 1C                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF522">$F522</a>
<a name="LF506">$F506</a>	29 7F                    	AND   #$7F                              	Transfer keycode to X for use
<a name="LF508">$F508</a>	AA                       	TAX                                     	as an index into look up
<a name="LF509">$F509</a>	BD 78 FF                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFF78">$FF78</a>,X                           	table.
<a name="LF50C">$F50C</a>	2D 0C 02                 	AND   $020C
<a name="LF50F">$F50F</a>	10 03                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF514">$F514</a>                             	CAPS is off.
<a name="LF511">$F511</a>	38                       	SEC
<a name="LF512">$F512</a>	E9 20                    	SBC   #$20                              	Alter code if CAPS is on.
<a name="LF514">$F514</a>	29 7F                    	AND   #$7F
<a name="LF516">$F516</a>	C0 A2                    	CPY   #$A2
<a name="LF518">$F518</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF520">$F520</a>                             	CTRL key is not pressed.
<a name="LF51A">$F51A</a>	C9 40                    	CMP   #$40                              	Don't convert characters
<a name="LF51C">$F51C</a>	30 02                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF520">$F520</a>                             	before @ in the ASCII set to
<a name="LF51E">$F51E</a>	29 1F                    	AND   #$1F                              	control characters.
<a name="LF520">$F520</a>	09 80                    	ORA   #$80                              	Set bit 7 to indicate valid
<a name="LF522">$F522</a>	60                       	RTS                                     	ASCII code.

FINDKEY
<a name="LF523">$F523</a>	A9 38                    	LDA   #$38                              	FIND KEY
<a name="LF525">$F525</a>	8D 0D 02                 	STA   $020D                             	Initialise counters.
<a name="LF528">$F528</a>	8D 08 02                 	STA   $0208
<a name="LF52B">$F52B</a>	8D 09 02                 	STA   $0209
<a name="LF52E">$F52E</a>	A9 7F                    	LDA   #$7F                              	Set up first column.
<a name="LF530">$F530</a>	48                       	PHA
<a name="LF531">$F531</a>	68                       	PLA
<a name="LF532">$F532</a>	48                       	PHA
<a name="LF533">$F533</a>	AA                       	TAX                                     	X holds column data.
<a name="LF534">$F534</a>	A9 07                    	LDA   #$07
<a name="LF536">$F536</a>	20 61 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF561">$F561</a>                             	Send X to 8912 I/O port.
<a name="LF539">$F539</a>	0D 0D 02                 	ORA   $020D
<a name="LF53C">$F53C</a>	10 12                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF550">$F550</a>
<a name="LF53E">$F53E</a>	A2 00                    	LDX   #$00
<a name="LF540">$F540</a>	A0 20                    	LDY   #$20
<a name="LF542">$F542</a>	CC 0D 02                 	CPY   $020D
<a name="LF545">$F545</a>	D0 01                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF548">$F548</a>                             	Column 4 of KB not being used.
<a name="LF547">$F547</a>	E8                       	INX                                     	Save the code of the pressed
<a name="LF548">$F548</a>	9D 08 02                 	STA   $0208,X                           	key, different location is
<a name="LF54B">$F54B</a>	68                       	PLA                                     	used if key is SHIFT/CTRL.
<a name="LF54C">$F54C</a>	48                       	PHA
<a name="LF54D">$F54D</a>	9D 0A 02                 	STA   $020A,X
<a name="LF550">$F550</a>	38                       	SEC
<a name="LF551">$F551</a>	68                       	PLA                                     	Shift the zero bit in A to
<a name="LF552">$F552</a>	6A                       	ROR                                     	select the next column.
<a name="LF553">$F553</a>	48                       	PHA
<a name="LF554">$F554</a>	38                       	SEC
<a name="LF555">$F555</a>	AD 0D 02                 	LDA   $020D                             	Decrement key counter by 8
<a name="LF558">$F558</a>	E9 08                    	SBC   #$08                              	so as to obtain start of next
<a name="LF55A">$F55A</a>	8D 0D 02                 	STA   $020D                             	column. Continue until all 8
<a name="LF55D">$F55D</a>	10 D2                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF531">$F531</a>
<a name="LF55F">$F55F</a>	68                       	PLA                                     	columns have been done.
<a name="LF560">$F560</a>	60                       	RTS

READKBDCOL
<a name="LF561">$F561</a>	48                       	PHA                                     	TEST KEYS IN COLUMN HELD IN X
<a name="LF562">$F562</a>	A9 0E                    	LDA   #$0E                              	Set A to I/O register E.
<a name="LF564">$F564</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	Write X to register A.
<a name="LF567">$F567</a>	68                       	PLA
<a name="LF568">$F568</a>	29 07                    	AND   #$07
<a name="LF56A">$F56A</a>	AA                       	TAX                                     	Send content of A to the row/
<a name="LF56B">$F56B</a>	8D 11 02                 	STA   $0211                             	multiplexer which is accessed
<a name="LF56E">$F56E</a>	09 B8                    	ORA   #$B8                              	via bits 0-2 of port B of the
<a name="LF570">$F570</a>	8D 00 03                 	STA   $0300                             	6522 (at $300).
<a name="LF573">$F573</a>	A0 04                    	LDY   #$04                              	Pause for a while.
<a name="LF575">$F575</a>	88                       	DEY
<a name="LF576">$F576</a>	D0 FD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF575">$F575</a>
<a name="LF578">$F578</a>	AD 00 03                 	LDA   $0300                             	Read in input and test if
<a name="LF57B">$F57B</a>	29 08                    	AND   #$08                              	that key is pressed.
<a name="LF57D">$F57D</a>	D0 0D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF58C">$F58C</a>                             	Key is pressed.
<a name="LF57F">$F57F</a>	CA                       	DEX
<a name="LF580">$F580</a>	8A                       	TXA                                     	Continue with other rows
<a name="LF581">$F581</a>	29 07                    	AND   #$07                              	until a key is found or end
<a name="LF583">$F583</a>	AA                       	TAX                                     	of row is reached.
<a name="LF584">$F584</a>	CD 11 02                 	CMP   $0211
<a name="LF587">$F587</a>	D0 E5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF56E">$F56E</a>
<a name="LF589">$F589</a>	A9 00                    	LDA   #$00                              	Set bit 7 of A to 0 to
<a name="LF58B">$F58B</a>	60                       	RTS                                     	indicate key not found.
<a name="LF58C">$F58C</a>	8A                       	TXA
<a name="LF58D">$F58D</a>	09 80                    	ORA   #$80                              	Set bit 7 of A to 1 to
<a name="LF58F">$F58F</a>	60                       	RTS                                     	indicate key found.

WRITETOAY
<a name="LF590">$F590</a>	08                       	PHP                                     	WRITE X TO REGISTER A OF 8912
<a name="LF591">$F591</a>	78                       	SEI
<a name="LF592">$F592</a>	8D 0F 03                 	STA   $030F                             	Send A to port A of 6522.
<a name="LF595">$F595</a>	A8                       	TAY
<a name="LF596">$F596</a>	8A                       	TXA
<a name="LF597">$F597</a>	C0 07                    	CPY   #$07                              	If writing to register 7, set
<a name="LF599">$F599</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF59D">$F59D</a>                             	1/0 port to output.
<a name="LF59B">$F59B</a>	09 40                    	ORA   #$40
<a name="LF59D">$F59D</a>	48                       	PHA
<a name="LF59E">$F59E</a>	AD 0C 03                 	LDA   $030C                             	Set CA2 (BC1 of 8912) to 1,
<a name="LF5A1">$F5A1</a>	09 EE                    	ORA   #$EE                              	set CB2 (BDIR of 8912) to 1.
<a name="LF5A3">$F5A3</a>	8D 0C 03                 	STA   $030C                             	8912 latches the address.
<a name="LF5A6">$F5A6</a>	29 11                    	AND   #$11                              	Set CA2 and CB2 to 0, BC1 and
<a name="LF5A8">$F5A8</a>	09 CC                    	ORA   #$CC                              	BDIR in inactive state.
<a name="LF5AA">$F5AA</a>	8D 0C 03                 	STA   $030C
<a name="LF5AD">$F5AD</a>	AA                       	TAX
<a name="LF5AE">$F5AE</a>	68                       	PLA
<a name="LF5AF">$F5AF</a>	8D 0F 03                 	STA   $030F                             	Send data to 8912 register.
<a name="LF5B2">$F5B2</a>	8A                       	TXA
<a name="LF5B3">$F5B3</a>	09 EC                    	ORA   #$EC                              	Set CA2 to 0 and CB2 to 1,
<a name="LF5B5">$F5B5</a>	8D 0C 03                 	STA   $030C                             	8912 latches data.
<a name="LF5B8">$F5B8</a>	29 11                    	AND   #$11                              	Set CA2 and CB2 to 0, BC1 and
<a name="LF5BA">$F5BA</a>	09 CC                    	ORA   #$CC                              	BDIR in inactive state.
<a name="LF5BC">$F5BC</a>	8D 0C 03                 	STA   $030C
<a name="LF5BF">$F5BF</a>	28                       	PLP
<a name="LF5C0">$F5C0</a>	60                       	RTS

PRINTCHAR
<a name="LF5C1">$F5C1</a>	08                       	PHP                                     	SEND CHAR TO PRINTER PORT
<a name="LF5C2">$F5C2</a>	78                       	SEI
<a name="LF5C3">$F5C3</a>	8D 01 03                 	STA   $0301                             	Send A to port A of 6522.
<a name="LF5C6">$F5C6</a>	AD 00 03                 	LDA   $0300
<a name="LF5C9">$F5C9</a>	29 EF                    	AND   #$EF                              	Send the strobe line low.
<a name="LF5CB">$F5CB</a>	8D 00 03                 	STA   $0300
<a name="LF5CE">$F5CE</a>	AD 00 03                 	LDA   $0300
<a name="LF5D1">$F5D1</a>	09 10                    	ORA   #$10                              	Send the strobe line high.
<a name="LF5D3">$F5D3</a>	8D 00 03                 	STA   $0300
<a name="LF5D6">$F5D6</a>	28                       	PLP
<a name="LF5D7">$F5D7</a>	AD 0D 03                 	LDA   $030D                             	Wait in a loop until active
<a name="LF5DA">$F5DA</a>	29 02                    	AND   #$02                              	transition of CA1 -
<a name="LF5DC">$F5DC</a>	F0 F9                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF5D7">$F5D7</a>                             	acknowledging the byte.
<a name="LF5DE">$F5DE</a>	AD 0D 03                 	LDA   $030D
<a name="LF5E1">$F5E1</a>	60                       	RTS
<a name="LF5E2">$F5E2</a>	CF CF CF CF A3 CF A6 CC  	BYT   $CF,$CF,$CF,$CF,$A3,$CF,$A6,$CC   	Offset table for each of the
<a name="LF5EA">$F5EA</a>	00 27 34 0F 66 99 60 CF  	BYT   $00,$27,$34,$0F,$66,$99,$60,$CF   	control character routines.
<a name="LF5F2">$F5F2</a>	A7 B3 CF A8 BE CF CF CF  	BYT   $A7,$B3,$CF,$A8,$BE,$CF,$CF,$CF
<a name="LF5FA">$F5FA</a>	CF CF A5 A5 CF A4 84 CF  	BYT   $CF,$CF,$A5,$A5,$CF,$A4,$84,$CF

CONTROLCHR
<a name="LF602">$F602</a>	29 1F                    	AND   #$1F                              	CONTROL CHARACTER ROUTINE
<a name="LF604">$F604</a>	AA                       	TAX
<a name="LF605">$F605</a>	BD E2 F5                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF5E2">$F5E2</a>,X                           	Use char code to look up
<a name="LF608">$F608</a>	18                       	CLC                                     	routine offset and calculate
<a name="LF609">$F609</a>	69 2F                    	ADC   #$2F                              	an indirect jump address at
<a name="LF60B">$F60B</a>	8D 61 02                 	STA   $0261                             	$0261.
<a name="LF60E">$F60E</a>	A9 00                    	LDA   #$00
<a name="LF610">$F610</a>	69 F6                    	ADC   #$F6
<a name="LF612">$F612</a>	8D 62 02                 	STA   $0262
<a name="LF615">$F615</a>	AD 6A 02                 	LDA   $026A
<a name="LF618">$F618</a>	48                       	PHA
<a name="LF619">$F619</a>	29 FE                    	AND   #$FE                              	Temporarily disable cursor.
<a name="LF61B">$F61B</a>	8D 6A 02                 	STA   $026A
<a name="LF61E">$F61E</a>	68                       	PLA
<a name="LF61F">$F61F</a>	29 01                    	AND   #$01
<a name="LF621">$F621</a>	8D 51 02                 	STA   $0251
<a name="LF624">$F624</a>	A9 00                    	LDA   #$00                              	Turn the cursor off.
<a name="LF626">$F626</a>	20 01 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF801">$F801</a>
<a name="LF629">$F629</a>	38                       	SEC
<a name="LF62A">$F62A</a>	A9 00                    	LDA   #$00
<a name="LF62C">$F62C</a>	6C 61 02                 	JMP   ($0261)                           	Jump to appropriate routine.
<a name="LF62F">$F62F</a>	CE 69 02                 	DEC   $0269                             	Cursor left one place.
<a name="LF632">$F632</a>	30 05                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF639">$F639</a>
<a name="LF634">$F634</a>	20 D7 F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7D7">$F7D7</a>
<a name="LF637">$F637</a>	D0 40                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF679">$F679</a>                             	Finish.
<a name="LF639">$F639</a>	A9 27                    	LDA   #$27
<a name="LF63B">$F63B</a>	8D 69 02                 	STA   $0269
<a name="LF63E">$F63E</a>	AD 68 02                 	LDA   $0268                             	Cursor up one place.
<a name="LF641">$F641</a>	C9 01                    	CMP   #$01
<a name="LF643">$F643</a>	F0 34                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF679">$F679</a>                             	Finish if on top line.
<a name="LF645">$F645</a>	CE 68 02                 	DEC   $0268                             	Cursor row number.
<a name="LF648">$F648</a>	38                       	SEC                                     	Adjust start of line pointer.
<a name="LF649">$F649</a>	A5 12                    	LDA   $12
<a name="LF64B">$F64B</a>	E9 28                    	SBC   #$28
<a name="LF64D">$F64D</a>	85 12                    	STA   $12
<a name="LF64F">$F64F</a>	B0 02                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF653">$F653</a>
<a name="LF651">$F651</a>	C6 13                    	DEC   $13
<a name="LF653">$F653</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF656">$F656</a>	EE 69 02                 	INC   $0269                             	Cursor right one place.
<a name="LF659">$F659</a>	A2 27                    	LDX   #$27
<a name="LF65B">$F65B</a>	EC 69 02                 	CPX   $0269
<a name="LF65E">$F65E</a>	10 19                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF679">$F679</a>
<a name="LF660">$F660</a>	20 0D F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF70D">$F70D</a>
<a name="LF663">$F663</a>	AD 68 02                 	LDA   $0268                             	Cursor down one place.
<a name="LF666">$F666</a>	CD 7E 02                 	CMP   $027E
<a name="LF669">$F669</a>	F0 11                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF67C">$F67C</a>
<a name="LF66B">$F66B</a>	EE 68 02                 	INC   $0268                             	Cursor row number.
<a name="LF66E">$F66E</a>	18                       	CLC                                     	Adjust start of line pointer.
<a name="LF66F">$F66F</a>	A5 12                    	LDA   $12
<a name="LF671">$F671</a>	69 28                    	ADC   #$28
<a name="LF673">$F673</a>	85 12                    	STA   $12
<a name="LF675">$F675</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF679">$F679</a>
<a name="LF677">$F677</a>	E6 13                    	INC   $13
<a name="LF679">$F679</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF67C">$F67C</a>	20 5D F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF35D">$F35D</a>
<a name="LF67F">$F67F</a>	A2 06                    	LDX   #$06
<a name="LF681">$F681</a>	BD 77 02                 	LDA   $0277,X
<a name="LF684">$F684</a>	95 0B                    	STA   $0B,X
<a name="LF686">$F686</a>	CA                       	DEX
<a name="LF687">$F687</a>	D0 F8                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF681">$F681</a>
<a name="LF689">$F689</a>	20 C4 ED                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDC4">$EDC4</a>                             	Block transfer.
<a name="LF68C">$F68C</a>	20 6E F3                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF36E">$F36E</a>
<a name="LF68F">$F68F</a>	20 1A F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF71A">$F71A</a>                             	CTRL N. Clear current row.
<a name="LF692">$F692</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF695">$F695</a>	AE 7E 02                 	LDX   $027E                             	CTRL L. Clear screen.
<a name="LF698">$F698</a>	AD 7A 02                 	LDA   $027A                             	Reset row start address to top
<a name="LF69B">$F69B</a>	85 12                    	STA   $12                               	line.
<a name="LF69D">$F69D</a>	AD 7B 02                 	LDA   $027B
<a name="LF6A0">$F6A0</a>	85 13                    	STA   $13
<a name="LF6A2">$F6A2</a>	20 1A F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF71A">$F71A</a>                             	Clear current line.
<a name="LF6A5">$F6A5</a>	18                       	CLC
<a name="LF6A6">$F6A6</a>	A5 12                    	LDA   $12                               	Adjust start of row pointer.
<a name="LF6A8">$F6A8</a>	69 28                    	ADC   #$28
<a name="LF6AA">$F6AA</a>	85 12                    	STA   $12
<a name="LF6AC">$F6AC</a>	90 02                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6B0">$F6B0</a>
<a name="LF6AE">$F6AE</a>	E6 13                    	INC   $13
<a name="LF6B0">$F6B0</a>	CA                       	DEX                                     	Clear lines until whole
<a name="LF6B1">$F6B1</a>	D0 EF                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6A2">$F6A2</a>                             	screen is done.
<a name="LF6B3">$F6B3</a>	20 0D F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF70D">$F70D</a>                             	Set cursor to start of line.
<a name="LF6B6">$F6B6</a>	A9 01                    	LDA   #$01                              	Set cursor row to top line.
<a name="LF6B8">$F6B8</a>	8D 68 02                 	STA   $0268
<a name="LF6BB">$F6BB</a>	AD 7A 02                 	LDA   $027A                             	Set row start address to that
<a name="LF6BE">$F6BE</a>	85 12                    	STA   $12                               	of top line of text.
<a name="LF6C0">$F6C0</a>	AD 7B 02                 	LDA   $027B
<a name="LF6C3">$F6C3</a>	85 13                    	STA   $13
<a name="LF6C5">$F6C5</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF6C8">$F6C8</a>	20 0D F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF70D">$F70D</a>                             	CTRL M. Carriage return.
<a name="LF6CB">$F6CB</a>	8E 53 02                 	STX   $0253
<a name="LF6CE">$F6CE</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF6D1">$F6D1</a>	2A                       	ROL
<a name="LF6D2">$F6D2</a>	2A                       	ROL                                     	CTRL D.
<a name="LF6D3">$F6D3</a>	2A                       	ROL                                     	CTRL ].
<a name="LF6D4">$F6D4</a>	2A                       	ROL                                     	ESCAPE.
<a name="LF6D5">$F6D5</a>	2A                       	ROL                                     	CTRL F.
<a name="LF6D6">$F6D6</a>	2A                       	ROL                                     	CTRL P.
<a name="LF6D7">$F6D7</a>	2A                       	ROL                                     	CTRL S.
<a name="LF6D8">$F6D8</a>	2A                       	ROL
<a name="LF6D9">$F6D9</a>	4D 6A 02                 	EOR   $026A                             	Toggle appropriate flag in
<a name="LF6DC">$F6DC</a>	8D 6A 02                 	STA   $026A                             	$026A.
<a name="LF6DF">$F6DF</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF6E2">$F6E2</a>	AD 51 02                 	LDA   $0251                             	CTRL Q.
<a name="LF6E5">$F6E5</a>	49 01                    	EOR   #$01
<a name="LF6E7">$F6E7</a>	8D 51 02                 	STA   $0251
<a name="LF6EA">$F6EA</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF6ED">$F6ED</a>	AD 0C 02                 	LDA   $020C                             	CTRL T.
<a name="LF6F0">$F6F0</a>	49 80                    	EOR   #$80                              	Invert CAPS flag.
<a name="LF6F2">$F6F2</a>	8D 0C 02                 	STA   $020C
<a name="LF6F5">$F6F5</a>	20 5A F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF75A">$F75A</a>                             	Write message to status line.
<a name="LF6F8">$F6F8</a>	4C FE F6                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF6FE">$F6FE</a>                             	Finish.
<a name="LF6FB">$F6FB</a>	20 9F FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA9F">$FA9F</a>                             	CTRL G. Calls PING routine.
<a name="LF6FE">$F6FE</a>	AD 6A 02                 	LDA   $026A                             	All control char routines
<a name="LF701">$F701</a>	0D 51 02                 	ORA   $0251                             	end here by restoring the
<a name="LF704">$F704</a>	8D 6A 02                 	STA   $026A                             	original cursor status.
<a name="LF707">$F707</a>	A9 01                    	LDA   #$01
<a name="LF709">$F709</a>	20 01 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF801">$F801</a>
<a name="LF70C">$F70C</a>	60                       	RTS
<a name="LF70D">$F70D</a>	A2 00                    	LDX   #$00                              	This routine sets the cursor
<a name="LF70F">$F70F</a>	20 DE F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7DE">$F7DE</a>                             	to the start of the line,
<a name="LF712">$F712</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF716">$F716</a>                             	taking in to account if the
<a name="LF714">$F714</a>	E8                       	INX                                     	screen is protected or not.
<a name="LF715">$F715</a>	E8                       	INX
<a name="LF716">$F716</a>	8E 69 02                 	STX   $0269
<a name="LF719">$F719</a>	60                       	RTS

CLEARLINE
<a name="LF71A">$F71A</a>	A0 27                    	LDY   #$27                              	CLEAR CURRENT LINE
<a name="LF71C">$F71C</a>	A9 20                    	LDA   #$20                              	This routine writes space
<a name="LF71E">$F71E</a>	91 12                    	STA   ($12),Y                           	characters to the whole line
<a name="LF720">$F720</a>	88                       	DEY                                     	and then writes the PAPER and
<a name="LF721">$F721</a>	10 FB                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF71E">$F71E</a>                             	INK colours to the first two
<a name="LF723">$F723</a>	A0 00                    	LDY   #$00                              	columns.
<a name="LF725">$F725</a>	AD 6B 02                 	LDA   $026B
<a name="LF728">$F728</a>	91 12                    	STA   ($12),Y
<a name="LF72A">$F72A</a>	AD 6C 02                 	LDA   $026C
<a name="LF72D">$F72D</a>	C8                       	INY
<a name="LF72E">$F72E</a>	91 12                    	STA   ($12),Y
<a name="LF730">$F730</a>	60                       	RTS
<a name="LF731">$F731</a>	A0 00                    	LDY   #$00                              	This routine multiplies the
<a name="LF733">$F733</a>	8C 63 02                 	STY   $0263                             	content of the accumulator by
<a name="LF736">$F736</a>	8D 64 02                 	STA   $0264                             	#28 (40). Y holds the high
<a name="LF739">$F739</a>	0A                       	ASL                                     	byte of the result. The page
<a name="LF73A">$F73A</a>	2E 63 02                 	ROL   $0263                             	2 locations store temporary
<a name="LF73D">$F73D</a>	0A                       	ASL                                     	results.
<a name="LF73E">$F73E</a>	2E 63 02                 	ROL   $0263
<a name="LF741">$F741</a>	18                       	CLC
<a name="LF742">$F742</a>	6D 64 02                 	ADC   $0264                             	The result is calculated by
<a name="LF745">$F745</a>	90 03                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF74A">$F74A</a>                             	adding 4 x A to A and then
<a name="LF747">$F747</a>	EE 63 02                 	INC   $0263                             	double the result.
<a name="LF74A">$F74A</a>	0A                       	ASL
<a name="LF74B">$F74B</a>	2E 63 02                 	ROL   $0263
<a name="LF74E">$F74E</a>	0A                       	ASL
<a name="LF74F">$F74F</a>	2E 63 02                 	ROL   $0263
<a name="LF752">$F752</a>	0A                       	ASL
<a name="LF753">$F753</a>	2E 63 02                 	ROL   $0263
<a name="LF756">$F756</a>	AC 63 02                 	LDY   $0263
<a name="LF759">$F759</a>	60                       	RTS
<a name="LF75A">$F75A</a>	AD 0C 02                 	LDA   $020C                             	This routine writes a message
<a name="LF75D">$F75D</a>	10 07                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF766">$F766</a>                             	to the status line depending
<a name="LF75F">$F75F</a>	A9 70                    	LDA   #$70                              	on the state of the CAPS flag.
<a name="LF761">$F761</a>	A0 F7                    	LDY   #$F7
<a name="LF763">$F763</a>	4C 6A F7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF76A">$F76A</a>                             	If CAPS is on then "CAPS" is
<a name="LF766">$F766</a>	A9 76                    	LDA   #$76                              	written to screen otherwise
<a name="LF768">$F768</a>	A0 F7                    	LDY   #$F7                              	cleared by writing spaces in
<a name="LF76A">$F76A</a>	A2 23                    	LDX   #$23                              	same place.
<a name="LF76C">$F76C</a>	20 65 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF865">$F865</a>
<a name="LF76F">$F76F</a>	60                       	RTS
<a name="LF770">$F770</a>	07 43 41 50 53 00        	BYT   $07,$43,$41,$50,$53,$00           	Data for the above routine.
<a name="LF776">$F776</a>	07 20 20 20 20 00        	BYT   $07,$20,$20,$20,$20,$00

CHAR2SCR
<a name="LF77C">$F77C</a>	48                       	PHA                                     	PRINT CHAR TO SCREEN ( in X )
<a name="LF77D">$F77D</a>	08                       	PHP
<a name="LF77E">$F77E</a>	98                       	TYA                                     	Save all registers on stack.
<a name="LF77F">$F77F</a>	48                       	PHA
<a name="LF780">$F780</a>	8A                       	TXA
<a name="LF781">$F781</a>	48                       	PHA                                     	Leave a copy of X in A.
<a name="LF782">$F782</a>	D8                       	CLD
<a name="LF783">$F783</a>	E0 13                    	CPX   #$13                              	Test for CTRL S, T, and F.
<a name="LF785">$F785</a>	F0 46                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7CD">$F7CD</a>                             	If either of them are in X
<a name="LF787">$F787</a>	E0 14                    	CPX   #$14                              	then go to CTRL CHAR routine.
<a name="LF789">$F789</a>	F0 42                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7CD">$F7CD</a>
<a name="LF78B">$F78B</a>	E0 06                    	CPX   #$06
<a name="LF78D">$F78D</a>	F0 3E                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7CD">$F7CD</a>
<a name="LF78F">$F78F</a>	AD 6A 02                 	LDA   $026A
<a name="LF792">$F792</a>	29 02                    	AND   #$02
<a name="LF794">$F794</a>	F0 3A                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7D0">$F7D0</a>                             	Screen printing inhibited.
<a name="LF796">$F796</a>	8A                       	TXA
<a name="LF797">$F797</a>	C9 20                    	CMP   #$20
<a name="LF799">$F799</a>	90 32                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7CD">$F7CD</a>                             	Control character present.
<a name="LF79B">$F79B</a>	AD 6A 02                 	LDA   $026A                             	Test and branch if the
<a name="LF79E">$F79E</a>	29 10                    	AND   #$10                              	ESCAPE key was not the last
<a name="LF7A0">$F7A0</a>	F0 13                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7B5">$F7B5</a>                             	printed.
<a name="LF7A2">$F7A2</a>	8A                       	TXA                                     	If character after ESCAPE is
<a name="LF7A3">$F7A3</a>	38                       	SEC                                     	a CTRL character then print a
<a name="LF7A4">$F7A4</a>	E9 40                    	SBC   #$40                              	space instead. Otherwise
<a name="LF7A6">$F7A6</a>	30 09                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7B1">$F7B1</a>                             	convert key to attribute code
<a name="LF7A8">$F7A8</a>	29 1F                    	AND   #$1F                              	and print to screen.
<a name="LF7AA">$F7AA</a>	20 E4 F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7E4">$F7E4</a>
<a name="LF7AD">$F7AD</a>	A9 1B                    	LDA   #$1B
<a name="LF7AF">$F7AF</a>	D0 1C                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7CD">$F7CD</a>
<a name="LF7B1">$F7B1</a>	A9 20                    	LDA   #$20
<a name="LF7B3">$F7B3</a>	10 F5                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7AA">$F7AA</a>
<a name="LF7B5">$F7B5</a>	E0 7F                    	CPX   #$7F                              	Character is DELete.
<a name="LF7B7">$F7B7</a>	F0 08                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7C1">$F7C1</a>
<a name="LF7B9">$F7B9</a>	68                       	PLA
<a name="LF7BA">$F7BA</a>	48                       	PHA
<a name="LF7BB">$F7BB</a>	20 E4 F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7E4">$F7E4</a>                             	Print accumulator on screen.
<a name="LF7BE">$F7BE</a>	4C D0 F7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7D0">$F7D0</a>
<a name="LF7C1">$F7C1</a>	A9 08                    	LDA   #$08                              	DEL is done by moving cursor
<a name="LF7C3">$F7C3</a>	20 02 F6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF602">$F602</a>                             	back 1 place and printing a
<a name="LF7C6">$F7C6</a>	A9 20                    	LDA   #$20                              	space character, and moving
<a name="LF7C8">$F7C8</a>	20 E4 F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7E4">$F7E4</a>                             	cursor back again 1 place.
<a name="LF7CB">$F7CB</a>	A9 08                    	LDA   #$08
<a name="LF7CD">$F7CD</a>	20 02 F6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF602">$F602</a>
<a name="LF7D0">$F7D0</a>	68                       	PLA
<a name="LF7D1">$F7D1</a>	AA                       	TAX
<a name="LF7D2">$F7D2</a>	68                       	PLA                                     	Registers not affected at
<a name="LF7D3">$F7D3</a>	A8                       	TAY                                     	end of the routine.
<a name="LF7D4">$F7D4</a>	28                       	PLP
<a name="LF7D5">$F7D5</a>	68                       	PLA
<a name="LF7D6">$F7D6</a>	60                       	RTS
<a name="LF7D7">$F7D7</a>	AD 69 02                 	LDA   $0269                             	This routine sets 1=1 if the
<a name="LF7DA">$F7DA</a>	29 FE                    	AND   #$FE                              	cursor is on columns 1 and 2
<a name="LF7DC">$F7DC</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7E3">$F7E3</a>                             	of a protected screen.
<a name="LF7DE">$F7DE</a>	AD 6A 02                 	LDA   $026A
<a name="LF7E1">$F7E1</a>	29 20                    	AND   #$20
<a name="LF7E3">$F7E3</a>	60                       	RTS

PRINTA
<a name="LF7E4">$F7E4</a>	48                       	PHA                                     	PRINT ACCUMULATOR ON SCREEN
<a name="LF7E5">$F7E5</a>	AC 69 02                 	LDY   $0269
<a name="LF7E8">$F7E8</a>	91 12                    	STA   ($12),Y
<a name="LF7EA">$F7EA</a>	2C 6A 02                 	BIT   $026A
<a name="LF7ED">$F7ED</a>	50 0B                    	BVC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF7FA">$F7FA</a>                             	Double height flag is clear.
<a name="LF7EF">$F7EF</a>	AD 69 02                 	LDA   $0269
<a name="LF7F2">$F7F2</a>	18                       	CLC                                     	In double height mode the
<a name="LF7F3">$F7F3</a>	69 28                    	ADC   #$28                              	char is printed on the line
<a name="LF7F5">$F7F5</a>	A8                       	TAY                                     	below in the same column.
<a name="LF7F6">$F7F6</a>	68                       	PLA
<a name="LF7F7">$F7F7</a>	48                       	PHA
<a name="LF7F8">$F7F8</a>	91 12                    	STA   ($12),Y                           	Put A on screen.
<a name="LF7FA">$F7FA</a>	A9 09                    	LDA   #$09                              	Move cursor forward by 1
<a name="LF7FC">$F7FC</a>	20 02 F6                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF602">$F602</a>                             	column.
<a name="LF7FF">$F7FF</a>	68                       	PLA
<a name="LF800">$F800</a>	60                       	RTS
<a name="LF801">$F801</a>	2D 6A 02                 	AND   $026A                             	This routine turns the cursor
<a name="LF804">$F804</a>	4A                       	LSR                                     	on or off depending on value
<a name="LF805">$F805</a>	6A                       	ROR                                     	in A. 0 for off, 1 for on.
<a name="LF806">$F806</a>	8D 65 02                 	STA   $0265                             	Cursor being turned on is
<a name="LF809">$F809</a>	AC 69 02                 	LDY   $0269                             	subject to cursor flag being
<a name="LF80C">$F80C</a>	B1 12                    	LDA   ($12),Y                           	enabled.
<a name="LF80E">$F80E</a>	29 7F                    	AND   #$7F
<a name="LF810">$F810</a>	0D 65 02                 	ORA   $0265
<a name="LF813">$F813</a>	91 12                    	STA   ($12),Y
<a name="LF815">$F815</a>	60                       	RTS

ALTCHARS
<a name="LF816">$F816</a>	A9 00                    	LDA   #$00                              	GENERATE ALTERNATE CHAR SET
<a name="LF818">$F818</a>	85 0C                    	STA   $0C
<a name="LF81A">$F81A</a>	A9 B9                    	LDA   #$B9                              	The set is generated in two
<a name="LF81C">$F81C</a>	85 0D                    	STA   $0D                               	halves with A counting from
<a name="LF81E">$F81E</a>	A9 00                    	LDA   #$00                              	#0 to #1F and then #20 to #3F.
<a name="LF820">$F820</a>	20 2D F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF82D">$F82D</a>
<a name="LF823">$F823</a>	A0 BA                    	LDY   #$BA                              	The set is dumped between
<a name="LF825">$F825</a>	84 0D                    	STY   $0D                               	$B900 and $BAFF.
<a name="LF827">$F827</a>	A9 20                    	LDA   #$20
<a name="LF829">$F829</a>	20 2D F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF82D">$F82D</a>
<a name="LF82C">$F82C</a>	60                       	RTS
<a name="LF82D">$F82D</a>	A0 00                    	LDY   #$00                              	This and the following
<a name="LF82F">$F82F</a>	48                       	PHA                                     	routine create the alternate
<a name="LF830">$F830</a>	20 54 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF854">$F854</a>                             	set by producing all
<a name="LF833">$F833</a>	91 0C                    	STA   ($0C),Y                           	combinations of data and
<a name="LF835">$F835</a>	C8                       	INY                                     	placing it in memory.
<a name="LF836">$F836</a>	68                       	PLA
<a name="LF837">$F837</a>	48                       	PHA
<a name="LF838">$F838</a>	20 52 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF852">$F852</a>
<a name="LF83B">$F83B</a>	68                       	PLA
<a name="LF83C">$F83C</a>	48                       	PHA
<a name="LF83D">$F83D</a>	20 50 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF850">$F850</a>
<a name="LF840">$F840</a>	91 0C                    	STA   ($0C),Y
<a name="LF842">$F842</a>	C8                       	INY
<a name="LF843">$F843</a>	C0 00                    	CPY   #$00
<a name="LF845">$F845</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF84E">$F84E</a>
<a name="LF847">$F847</a>	68                       	PLA
<a name="LF848">$F848</a>	18                       	CLC
<a name="LF849">$F849</a>	69 01                    	ADC   #$01
<a name="LF84B">$F84B</a>	4C 2F F8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF82F">$F82F</a>
<a name="LF84E">$F84E</a>	68                       	PLA
<a name="LF84F">$F84F</a>	60                       	RTS
<a name="LF850">$F850</a>	4A                       	LSR                                     	Part of the routine to
<a name="LF851">$F851</a>	4A                       	LSR                                     	produce the alternate char.
<a name="LF852">$F852</a>	4A                       	LSR                                     	set. Has 2 entry points, at
<a name="LF853">$F853</a>	4A                       	LSR                                     	$F850 and $F854 which copy
<a name="LF854">$F854</a>	29 03                    	AND   #$03                              	the data into two successive
<a name="LF856">$F856</a>	AA                       	TAX                                     	memory locations
<a name="LF857">$F857</a>	BD 61 F8                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF861">$F861</a>,X
<a name="LF85A">$F85A</a>	91 0C                    	STA   ($0C),Y
<a name="LF85C">$F85C</a>	C8                       	INY
<a name="LF85D">$F85D</a>	91 0C                    	STA   ($0C),Y
<a name="LF85F">$F85F</a>	C8                       	INY
<a name="LF860">$F860</a>	60                       	RTS
<a name="LF861">$F861</a>	00 38 07 3F              	BYT   $00,$38,$07,$3F                   	Data for alt. char. set.

PRINTSTATUS
<a name="LF865">$F865</a>	85 0C                    	STA   $0C                               	PRINT TO STATUS LINE
<a name="LF867">$F867</a>	84 0D                    	STY   $0D                               	Subject to the content of
<a name="LF869">$F869</a>	AD 1F 02                 	LDA   $021F                             	$021F being zero, the message
<a name="LF86C">$F86C</a>	D0 0D                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF87B">$F87B</a>                             	whose start address is held
<a name="LF86E">$F86E</a>	A0 00                    	LDY   #$00                              	in A (low) and Y (high) is
<a name="LF870">$F870</a>	B1 0C                    	LDA   ($0C),Y                           	printed on to the status line
<a name="LF872">$F872</a>	F0 07                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF87B">$F87B</a>                             	of the screen starting at
<a name="LF874">$F874</a>	9D 80 BB                 	STA   $BB80,X                           	$BB80. Message must terminate
<a name="LF877">$F877</a>	E8                       	INX                                     	with a zero byte.
<a name="LF878">$F878</a>	C8                       	INY
<a name="LF879">$F879</a>	D0 F5                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF870">$F870</a>
<a name="LF87B">$F87B</a>	60                       	RTS
<a name="LF87C">$F87C</a>	4C 7C F7                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF77C">$F77C</a>                             	This is data that is copied
<a name="LF87F">$F87F</a>	4C 78 EB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEB78">$EB78</a>                             	in to page 2 of memory as
<a name="LF882">$F882</a>	4C C1 F5                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF5C1">$F5C1</a>                             	various jump vectors. Set up
<a name="LF885">$F885</a>	4C 65 F8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF865">$F865</a>                             	by reset of machine.
<a name="LF888">$F888</a>	4C 22 EE                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEE22">$EE22</a>
<a name="LF88B">$F88B</a>	4C B2 F8                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF8B2">$F8B2</a>
<a name="LF88E">$F88E</a>	40                       	RTI

RESET
<a name="LF88F">$F88F</a>	A2 FF                    	LDX   #$FF                              	RESET
<a name="LF891">$F891</a>	9A                       	TXS                                     	Set stack pointer to #FF.
<a name="LF892">$F892</a>	58                       	CLI
<a name="LF893">$F893</a>	D8                       	CLD                                     	Clear decimal mode.
<a name="LF894">$F894</a>	A2 12                    	LDX   #$12                              	Copy the above jump table in
<a name="LF896">$F896</a>	BD 7C F8                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF87C">$F87C</a>,X                           	to page 2 of memory.
<a name="LF899">$F899</a>	9D 38 02                 	STA   $0238,X
<a name="LF89C">$F89C</a>	CA                       	DEX
<a name="LF89D">$F89D</a>	10 F7                    	BPL   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF896">$F896</a>
<a name="LF89F">$F89F</a>	A9 20                    	LDA   #$20                              	Set up initial repeat delay.
<a name="LF8A1">$F8A1</a>	8D 4E 02                 	STA   $024E
<a name="LF8A4">$F8A4</a>	A9 04                    	LDA   #$04                              	Set up successive repeat
<a name="LF8A6">$F8A6</a>	8D 4F 02                 	STA   $024F                             	delay.
<a name="LF8A9">$F8A9</a>	20 14 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA14">$FA14</a>                             	Find quantity and test RAM.
<a name="LF8AC">$F8AC</a>	20 B8 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF8B8">$F8B8</a>                             	Set up system.

BASICSTART
<a name="LF8AF">$F8AF</a>	4C CC EC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LECCC">$ECCC</a>                             	START BASIC
<a name="LF8B2">$F8B2</a>	20 B8 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF8B8">$F8B8</a>                             	NMI service routine.

BASICRESTART
<a name="LF8B5">$F8B5</a>	4C 71 C4                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LC471">$C471</a>                             	RESTART BASIC
<a name="LF8B8">$F8B8</a>	20 AA F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF9AA">$F9AA</a>                             	Set 6522, with no interrupts.
<a name="LF8BB">$F8BB</a>	A9 07                    	LDA   #$07
<a name="LF8BD">$F8BD</a>	A2 40                    	LDX   #$40                              	Set I/O port on 8912 to
<a name="LF8BF">$F8BF</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	output.
<a name="LF8C2">$F8C2</a>	20 E0 ED                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDE0">$EDE0</a>                             	Set the 3 16 bit counters.
<a name="LF8C5">$F8C5</a>	20 0E F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF90E">$F90E</a>                             	Set up paper/ink colours.
<a name="LF8C8">$F8C8</a>	A9 FF                    	LDA   #$FF
<a name="LF8CA">$F8CA</a>	8D 0C 02                 	STA   $020C                             	Set CAPS to on.
<a name="LF8CD">$F8CD</a>	20 C9 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF9C9">$F9C9</a>                             	Set up initial text screen.
<a name="LF8D0">$F8D0</a>	A2 05                    	LDX   #$05                              	Set up the Standard character
<a name="LF8D2">$F8D2</a>	20 82 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF982">$F982</a>                             	set in memory.
<a name="LF8D5">$F8D5</a>	20 16 F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF816">$F816</a>                             	Generate alternate char. set.
<a name="LF8D8">$F8D8</a>	20 5A F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF75A">$F75A</a>                             	Write CAPS status to screen.
<a name="LF8DB">$F8DB</a>	60                       	RTS
<a name="LF8DC">$F8DC</a>	48                       	PHA                                     	Set up some page 2 variables
<a name="LF8DD">$F8DD</a>	8A                       	TXA                                     	for HIRES.
<a name="LF8DE">$F8DE</a>	48                       	PHA
<a name="LF8DF">$F8DF</a>	A9 01                    	LDA   #$01
<a name="LF8E1">$F8E1</a>	8D 1F 02                 	STA   $021F                             	Set hires indicator.
<a name="LF8E4">$F8E4</a>	A9 BF                    	LDA   #$BF
<a name="LF8E6">$F8E6</a>	8D 7B 02                 	STA   $027B                             	Set the address of the first
<a name="LF8E9">$F8E9</a>	8D 79 02                 	STA   $0279                             	line of text section of screen
<a name="LF8EC">$F8EC</a>	A9 68                    	LDA   #$68                              	to $BF68 and that of the
<a name="LF8EE">$F8EE</a>	8D 7A 02                 	STA   $027A                             	second line to $BF90.
<a name="LF8F1">$F8F1</a>	A9 90                    	LDA   #$90
<a name="LF8F3">$F8F3</a>	8D 78 02                 	STA   $0278
<a name="LF8F6">$F8F6</a>	A9 03                    	LDA   #$03                              	Set the maximum number of
<a name="LF8F8">$F8F8</a>	8D 7E 02                 	STA   $027E                             	rows of text available.
<a name="LF8FB">$F8FB</a>	A9 00                    	LDA   #$00
<a name="LF8FD">$F8FD</a>	8D 7D 02                 	STA   $027D                             	Set number of characters used
<a name="LF900">$F900</a>	A9 50                    	LDA   #$50                              	in screen scrolling to 80 -
<a name="LF902">$F902</a>	8D 7C 02                 	STA   $027C                             	two lines worth.
<a name="LF905">$F905</a>	A2 0C                    	LDX   #$0C
<a name="LF907">$F907</a>	20 38 02                 	JSR   $0238                             	Clear screen.
<a name="LF90A">$F90A</a>	68                       	PLA
<a name="LF90B">$F90B</a>	AA                       	TAX
<a name="LF90C">$F90C</a>	68                       	PLA
<a name="LF90D">$F90D</a>	60                       	RTS
<a name="LF90E">$F90E</a>	48                       	PHA                                     	Set up default state of flags
<a name="LF90F">$F90F</a>	A9 03                    	LDA   #$03                              	controlling screen.
<a name="LF911">$F911</a>	8D 6A 02                 	STA   $026A
<a name="LF914">$F914</a>	A9 00                    	LDA   #$00
<a name="LF916">$F916</a>	8D 6C 02                 	STA   $026C                             	Set ink to black.
<a name="LF919">$F919</a>	A9 17                    	LDA   #$17
<a name="LF91B">$F91B</a>	8D 6B 02                 	STA   $026B                             	Set paper to white.
<a name="LF91E">$F91E</a>	68                       	PLA
<a name="LF91F">$F91F</a>	60                       	RTS

HIRESMODE
<a name="LF920">$F920</a>	48                       	PHA                                     	SET SCREEN TO HIRES
<a name="LF921">$F921</a>	AD 1F 02                 	LDA   $021F
<a name="LF924">$F924</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF92B">$F92B</a>
<a name="LF926">$F926</a>	A2 0B                    	LDX   #$0B
<a name="LF928">$F928</a>	20 82 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF982">$F982</a>
<a name="LF92B">$F92B</a>	A9 FE                    	LDA   #$FE                              	Disable cursor.
<a name="LF92D">$F92D</a>	2D 6A 02                 	AND   $026A
<a name="LF930">$F930</a>	8D 6A 02                 	STA   $026A
<a name="LF933">$F933</a>	A9 1E                    	LDA   #$1E                              	Write 50Hz attribute to last
<a name="LF935">$F935</a>	8D DF BF                 	STA   $BFDF                             	location on screen.
<a name="LF938">$F938</a>	A9 40                    	LDA   #$40
<a name="LF93A">$F93A</a>	8D 00 A0                 	STA   $A000
<a name="LF93D">$F93D</a>	A2 17                    	LDX   #$17
<a name="LF93F">$F93F</a>	20 82 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF982">$F982</a>
<a name="LF942">$F942</a>	A9 00                    	LDA   #$00                              	Set X and Y cursor coordinates
<a name="LF944">$F944</a>	8D 19 02                 	STA   $0219                             	to zero.
<a name="LF947">$F947</a>	8D 1A 02                 	STA   $021A
<a name="LF94A">$F94A</a>	85 10                    	STA   $10                               	Set cursor address to #A000.
<a name="LF94C">$F94C</a>	A9 A0                    	LDA   #$A0
<a name="LF94E">$F94E</a>	85 11                    	STA   $11
<a name="LF950">$F950</a>	A9 20                    	LDA   #$20                              	Set cursor position within
<a name="LF952">$F952</a>	8D 15 02                 	STA   $0215                             	byte on screen.
<a name="LF955">$F955</a>	A9 FF                    	LDA   #$FF
<a name="LF957">$F957</a>	8D 13 02                 	STA   $0213                             	Set pattern register.
<a name="LF95A">$F95A</a>	20 DC F8                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF8DC">$F8DC</a>                             	Set up some page 2 variables.
<a name="LF95D">$F95D</a>	A9 01                    	LDA   #$01                              	Re-enable cursor.
<a name="LF95F">$F95F</a>	0D 6A 02                 	ORA   $026A
<a name="LF962">$F962</a>	8D 6A 02                 	STA   $026A
<a name="LF965">$F965</a>	68                       	PLA
<a name="LF966">$F966</a>	60                       	RTS

LORESMODE
<a name="LF967">$F967</a>	48                       	PHA                                     	SET SCREEN TO TEXT
<a name="LF968">$F968</a>	A9 FE                    	LDA   #$FE
<a name="LF96A">$F96A</a>	2D 6A 02                 	AND   $026A                             	Disable cursor.
<a name="LF96D">$F96D</a>	8D 6A 02                 	STA   $026A
<a name="LF970">$F970</a>	A2 11                    	LDX   #$11                              	Copy char sets into original
<a name="LF972">$F972</a>	20 82 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF982">$F982</a>                             	position in memory.
<a name="LF975">$F975</a>	20 C9 F9                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF9C9">$F9C9</a>                             	Set pointers.
<a name="LF978">$F978</a>	A9 01                    	LDA   #$01
<a name="LF97A">$F97A</a>	0D 6A 02                 	ORA   $026A                             	Re-enable cursor.
<a name="LF97D">$F97D</a>	8D 6A 02                 	STA   $026A
<a name="LF980">$F980</a>	68                       	PLA
<a name="LF981">$F981</a>	60                       	RTS
<a name="LF982">$F982</a>	A0 06                    	LDY   #$06                              	This routine writes addresses
<a name="LF984">$F984</a>	BD 92 F9                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF992">$F992</a>,X                           	from table below to locations
<a name="LF987">$F987</a>	99 0B 00                 	STA   $000B,Y                           	#0C to #11 inclusive. The
<a name="LF98A">$F98A</a>	CA                       	DEX                                     	value of X determines which
<a name="LF98B">$F98B</a>	88                       	DEY                                     	part of the table is copied.
<a name="LF98C">$F98C</a>	D0 F6                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF984">$F984</a>                             	The data is then used in a
<a name="LF98E">$F98E</a>	20 C4 ED                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEDC4">$EDC4</a>                             	block transfer routine.
<a name="LF991">$F991</a>	60                       	RTS
<a name="LF992">$F992</a>	78 FC 00 B5 00 03 00 B4  	BYT   $78,$FC,$00,$B5,$00,$03,$00,$B4
<a name="LF99A">$F99A</a>	00 98 80 07 00 98 00 B4  	BYT   $00,$98,$80,$07,$00,$98,$00,$B4
<a name="LF9A2">$F9A2</a>	80 07 00 A0 01 A0 3F 1F  	BYT   $80,$07,$00,$A0,$01,$A0,$3F,$1F

RESETVIA
<a name="LF9AA">$F9AA</a>	A9 FF                    	LDA   #$FF                              	RESET 6522
<a name="LF9AC">$F9AC</a>	8D 03 03                 	STA   $0303                             	Port A all output.
<a name="LF9AF">$F9AF</a>	A9 F7                    	LDA   #$F7                              	Port B all output except
<a name="LF9B1">$F9B1</a>	8D 02 03                 	STA   $0302                             	bit 4.
<a name="LF9B4">$F9B4</a>	A9 B7                    	LDA   #$B7                              	Turn off cassette motor.
<a name="LF9B6">$F9B6</a>	8D 00 03                 	STA   $0300
<a name="LF9B9">$F9B9</a>	A9 DD                    	LDA   #$DD                              	Set CA2 and CB2 to 0 and set
<a name="LF9BB">$F9BB</a>	8D 0C 03                 	STA   $030C                             	CA1 and CB1 active L to H.
<a name="LF9BE">$F9BE</a>	A9 7F                    	LDA   #$7F
<a name="LF9C0">$F9C0</a>	8D 0E 03                 	STA   $030E                             	Disable all interrupts.
<a name="LF9C3">$F9C3</a>	A9 00                    	LDA   #$00
<a name="LF9C5">$F9C5</a>	8D 0B 03                 	STA   $030B                             	Set the ACR.
<a name="LF9C8">$F9C8</a>	60                       	RTS

SETUPTEXT
<a name="LF9C9">$F9C9</a>	A9 1A                    	LDA   #$1A                              	SET UP TEXT SCREEN
<a name="LF9CB">$F9CB</a>	20 07 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA07">$FA07</a>                             	Write 50Hz attribute to last
<a name="LF9CE">$F9CE</a>	A9 20                    	LDA   #$20                              	screen location and clear
<a name="LF9D0">$F9D0</a>	A0 28                    	LDY   #$28                              	line.
<a name="LF9D2">$F9D2</a>	99 7F BB                 	STA   $BB7F,Y
<a name="LF9D5">$F9D5</a>	88                       	DEY
<a name="LF9D6">$F9D6</a>	D0 FA                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF9D2">$F9D2</a>
<a name="LF9D8">$F9D8</a>	A9 00                    	LDA   #$00
<a name="LF9DA">$F9DA</a>	8D 1F 02                 	STA   $021F                             	Set screen status to LORES.
<a name="LF9DD">$F9DD</a>	A9 BB                    	LDA   #$BB
<a name="LF9DF">$F9DF</a>	8D 7B 02                 	STA   $027B                             	Set the address of the first
<a name="LF9E2">$F9E2</a>	8D 79 02                 	STA   $0279                             	line of text to $BBA8 and that
<a name="LF9E5">$F9E5</a>	A9 A8                    	LDA   #$A8                              	of the second to $BBD0.
<a name="LF9E7">$F9E7</a>	8D 7A 02                 	STA   $027A
<a name="LF9EA">$F9EA</a>	A9 D0                    	LDA   #$D0
<a name="LF9EC">$F9EC</a>	8D 78 02                 	STA   $0278
<a name="LF9EF">$F9EF</a>	A9 1B                    	LDA   #$1B                              	Set number of rows of text
<a name="LF9F1">$F9F1</a>	8D 7E 02                 	STA   $027E                             	available to 27.
<a name="LF9F4">$F9F4</a>	A9 04                    	LDA   #$04
<a name="LF9F6">$F9F6</a>	8D 7D 02                 	STA   $027D                             	Set number of characters that
<a name="LF9F9">$F9F9</a>	A9 10                    	LDA   #$10                              	are moved in screen scroll to
<a name="LF9FB">$F9FB</a>	8D 7C 02                 	STA   $027C                             	#0410 (1040 or 26 lines full).
<a name="LF9FE">$F9FE</a>	A2 0C                    	LDX   #$0C
<a name="LFA00">$FA00</a>	20 38 02                 	JSR   $0238                             	Clear screen.
<a name="LFA03">$FA03</a>	20 5A F7                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF75A">$F75A</a>                             	Write CAPS to screen if on.
<a name="LFA06">$FA06</a>	60                       	RTS
<a name="LFA07">$FA07</a>	8D DF BF                 	STA   $BFDF                             	This routine writes A to
<a name="LFA0A">$FA0A</a>	A9 02                    	LDA   #$02                              	very last location on screen
<a name="LFA0C">$FA0C</a>	A2 00                    	LDX   #$00                              	and then waits for 40ms
<a name="LFA0E">$FA0E</a>	A0 03                    	LDY   #$03
<a name="LFA10">$FA10</a>	20 C9 EE                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LEEC9">$EEC9</a>
<a name="LFA13">$FA13</a>	60                       	RTS

RAMTEST
<a name="LFA14">$FA14</a>	A0 00                    	LDY   #$00                              	TEST AND FIND QUANTITY OF RAM
<a name="LFA16">$FA16</a>	8C 60 02                 	STY   $0260
<a name="LFA19">$FA19</a>	8C 20 02                 	STY   $0220
<a name="LFA1C">$FA1C</a>	8C 00 05                 	STY   $0500
<a name="LFA1F">$FA1F</a>	84 0E                    	STY   $0E
<a name="LFA21">$FA21</a>	88                       	DEY
<a name="LFA22">$FA22</a>	84 0C                    	STY   $0C
<a name="LFA24">$FA24</a>	8C 00 45                 	STY   $4500
<a name="LFA27">$FA27</a>	AD 00 05                 	LDA   $0500
<a name="LFA2A">$FA2A</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA30">$FA30</a>                             	Branch if 16k computer.
<a name="LFA2C">$FA2C</a>	A9 C0                    	LDA   #$C0
<a name="LFA2E">$FA2E</a>	D0 05                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA35">$FA35</a>
<a name="LFA30">$FA30</a>	EE 20 02                 	INC   $0220                             	$220=1 for 16k, 0 for 48k.
<a name="LFA33">$FA33</a>	A9 40                    	LDA   #$40                              	A holds high byte of possible
<a name="LFA35">$FA35</a>	85 0F                    	STA   $0F                               	extent of RAM.
<a name="LFA37">$FA37</a>	C8                       	INY
<a name="LFA38">$FA38</a>	A9 03                    	LDA   #$03                              	$0C and $0E are used as to test
<a name="LFA3A">$FA3A</a>	85 0D                    	STA   $0D                               	each byte in turn. $0C is used
<a name="LFA3C">$FA3C</a>	E6 0C                    	INC   $0C                               	as current location and $0E is
<a name="LFA3E">$FA3E</a>	D0 02                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA42">$FA42</a>                             	used as end of memory pointer.
<a name="LFA40">$FA40</a>	E6 0D                    	INC   $0D
<a name="LFA42">$FA42</a>	A5 0C                    	LDA   $0C
<a name="LFA44">$FA44</a>	C5 0E                    	CMP   $0E
<a name="LFA46">$FA46</a>	D0 06                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA4E">$FA4E</a>
<a name="LFA48">$FA48</a>	A5 0D                    	LDA   $0D
<a name="LFA4A">$FA4A</a>	C5 0F                    	CMP   $0F
<a name="LFA4C">$FA4C</a>	F0 0F                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA5D">$FA5D</a>
<a name="LFA4E">$FA4E</a>	A9 AA                    	LDA   #$AA
<a name="LFA50">$FA50</a>	91 0C                    	STA   ($0C),Y
<a name="LFA52">$FA52</a>	D1 0C                    	CMP   ($0C),Y
<a name="LFA54">$FA54</a>	D0 07                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA5D">$FA5D</a>
<a name="LFA56">$FA56</a>	4A                       	LSR
<a name="LFA57">$FA57</a>	91 0C                    	STA   ($0C),Y
<a name="LFA59">$FA59</a>	D1 0C                    	CMP   ($0C),Y
<a name="LFA5B">$FA5B</a>	F0 DF                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA3C">$FA3C</a>
<a name="LFA5D">$FA5D</a>	38                       	SEC
<a name="LFA5E">$FA5E</a>	A5 0F                    	LDA   $0F
<a name="LFA60">$FA60</a>	E9 28                    	SBC   #$28
<a name="LFA62">$FA62</a>	85 0F                    	STA   $0F
<a name="LFA64">$FA64</a>	A5 0E                    	LDA   $0E
<a name="LFA66">$FA66</a>	C5 0C                    	CMP   $0C
<a name="LFA68">$FA68</a>	A5 0F                    	LDA   $0F
<a name="LFA6A">$FA6A</a>	E5 0D                    	SBC   $0D
<a name="LFA6C">$FA6C</a>	90 09                    	BCC   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA77">$FA77</a>
<a name="LFA6E">$FA6E</a>	A5 0C                    	LDA   $0C
<a name="LFA70">$FA70</a>	A4 0D                    	LDY   $0D
<a name="LFA72">$FA72</a>	EE 60 02                 	INC   $0260
<a name="LFA75">$FA75</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA7B">$FA7B</a>
<a name="LFA77">$FA77</a>	A5 0E                    	LDA   $0E
<a name="LFA79">$FA79</a>	A4 0F                    	LDY   $0F
<a name="LFA7B">$FA7B</a>	85 A6                    	STA   $A6
<a name="LFA7D">$FA7D</a>	84 A7                    	STY   $A7
<a name="LFA7F">$FA7F</a>	8D C1 02                 	STA   $02C1
<a name="LFA82">$FA82</a>	8C C2 02                 	STY   $02C2
<a name="LFA85">$FA85</a>	60                       	RTS
<a name="LFA86">$FA86</a>	08                       	PHP                                     	This routine takes X and Y
<a name="LFA87">$FA87</a>	78                       	SEI                                     	as the low and high halves of
<a name="LFA88">$FA88</a>	86 14                    	STX   $14                               	the start address of a table
<a name="LFA8A">$FA8A</a>	84 15                    	STY   $15                               	to send data to the sound
<a name="LFA8C">$FA8C</a>	A0 00                    	LDY   #$00                              	chip from.
<a name="LFA8E">$FA8E</a>	B1 14                    	LDA   ($14),Y                           	14 bytes are sent to the 8912
<a name="LFA90">$FA90</a>	AA                       	TAX                                     	starting with register 0 and
<a name="LFA91">$FA91</a>	98                       	TYA                                     	working up in order until
<a name="LFA92">$FA92</a>	48                       	PHA                                     	register D. The data from
<a name="LFA93">$FA93</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	the table is used starting
<a name="LFA96">$FA96</a>	68                       	PLA                                     	from the low address.
<a name="LFA97">$FA97</a>	A8                       	TAY
<a name="LFA98">$FA98</a>	C8                       	INY                                     	The I/O port is not written
<a name="LFA99">$FA99</a>	C0 0E                    	CPY   #$0E                              	to.
<a name="LFA9B">$FA9B</a>	D0 F1                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA8E">$FA8E</a>
<a name="LFA9D">$FA9D</a>	28                       	PLP
<a name="LFA9E">$FA9E</a>	60                       	RTS

PING
<a name="LFA9F">$FA9F</a>	A2 A7                    	LDX   #$A7                              	PING
<a name="LFAA1">$FAA1</a>	A0 FA                    	LDY   #$FA                              	Sets X and Y to point to the
<a name="LFAA3">$FAA3</a>	20 86 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA86">$FA86</a>                             	data below to generate the
<a name="LFAA6">$FAA6</a>	60                       	RTS                                     	sound.

PINGDATA
<a name="LFAA7">$FAA7</a>	18 00 00 00 00 00 00     	BYT   $18,$00,$00,$00,$00,$00,$00       	Data for PING command.
<a name="LFAAE">$FAAE</a>	3E 10 00 00 00 0F 00     	BYT   $3E,$10,$00,$00,$00,$0F,$00

EXPLODE
<a name="LFAB5">$FAB5</a>	A2 BD                    	LDX   #$BD                              	SHOOT
<a name="LFAB7">$FAB7</a>	A0 FA                    	LDY   #$FA                              	Sets X and Y to point to the
<a name="LFAB9">$FAB9</a>	20 86 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA86">$FA86</a>                             	data below to generate the
<a name="LFABC">$FABC</a>	60                       	RTS                                     	sound.

SHOOTDATA
<a name="LFABD">$FABD</a>	00 00 00 00 00 00 0F     	BYT   $00,$00,$00,$00,$00,$00,$0F       	Data for SHOOT command.
<a name="LFAC4">$FAC4</a>	07 10 10 10 00 08 00     	BYT   $07,$10,$10,$10,$00,$08,$00

EXPLODEDATA
<a name="LFACB">$FACB</a>	A2 D3                    	LDX   #$D3                              	EXPLODE
<a name="LFACD">$FACD</a>	A0 FA                    	LDY   #$FA                              	Sets X and Y to point to the
<a name="LFACF">$FACF</a>	20 86 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA86">$FA86</a>                             	data below to generate the
<a name="LFAD2">$FAD2</a>	60                       	RTS                                     	sound.
<a name="LFAD3">$FAD3</a>	00 00 00 00 00 00 1F     	BYT   $00,$00,$00,$00,$00,$00,$1F       	Data for EXPLODE command.
<a name="LFADA">$FADA</a>	07 10 10 10 00 18 00     	BYT   $07,$10,$10,$10,$00,$18,$00

ZAP
<a name="LFAE1">$FAE1</a>	A2 06                    	LDX   #$06                              	ZAP
<a name="LFAE3">$FAE3</a>	A0 FB                    	LDY   #$FB                              	Send sound data to 8912 as
<a name="LFAE5">$FAE5</a>	20 86 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA86">$FA86</a>                             	in SHOOT etc.
<a name="LFAE8">$FAE8</a>	A9 00                    	LDA   #$00
<a name="LFAEA">$FAEA</a>	AA                       	TAX                                     	This section writes to the
<a name="LFAEB">$FAEB</a>	8A                       	TXA                                     	tone channel A at regular
<a name="LFAEC">$FAEC</a>	48                       	PHA                                     	intervals with increasing
<a name="LFAED">$FAED</a>	A9 00                    	LDA   #$00                              	tone periods. Thus
<a name="LFAEF">$FAEF</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	successively lower frequencies
<a name="LFAF2">$FAF2</a>	A2 00                    	LDX   #$00                              	are produced. The delay loop
<a name="LFAF4">$FAF4</a>	CA                       	DEX                                     	takes about 1.25mS to
<a name="LFAF5">$FAF5</a>	D0 FD                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFAF4">$FAF4</a>                             	execute.
<a name="LFAF7">$FAF7</a>	68                       	PLA
<a name="LFAF8">$FAF8</a>	AA                       	TAX
<a name="LFAF9">$FAF9</a>	E8                       	INX
<a name="LFAFA">$FAFA</a>	E0 70                    	CPX   #$70                              	The main loop is executed 112
<a name="LFAFC">$FAFC</a>	D0 ED                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFAEB">$FAEB</a>                             	times in total.
<a name="LFAFE">$FAFE</a>	A9 08                    	LDA   #$08                              	Zero channel A amplitude.
<a name="LFB00">$FB00</a>	A2 00                    	LDX   #$00
<a name="LFB02">$FB02</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>
<a name="LFB05">$FB05</a>	60                       	RTS

ZAPDATA
<a name="LFB06">$FB06</a>	00 00 00 00 00 00 00     	BYT   $00,$00,$00,$00,$00,$00,$00       	Data for ZAP command.
<a name="LFB0D">$FB0D</a>	3E 0F 00 00 00 00 00     	BYT   $3E,$0F,$00,$00,$00,$00,$00

KEYCLICKH
<a name="LFB14">$FB14</a>	A2 1C                    	LDX   #$1C                              	KEYCLICK ( high pitch )
<a name="LFB16">$FB16</a>	A0 FB                    	LDY   #$FB                              	Sets X and Y to point to the
<a name="LFB18">$FB18</a>	20 86 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA86">$FA86</a>                             	data below to generate the
<a name="LFB1B">$FB1B</a>	60                       	RTS                                     	sound.

KEYCLICKHDATA
<a name="LFB1C">$FB1C</a>	1F 00 00 00 00 00 00     	BYT   $1F,$00,$00,$00,$00,$00,$00       	Data for high pitch keyclick.
<a name="LFB23">$FB23</a>	3E 10 00 00 1F 00 00     	BYT   $3E,$10,$00,$00,$1F,$00,$00

KEYCLICKL
<a name="LFB2A">$FB2A</a>	A2 32                    	LDX   #$32                              	KEYCLICK ( low pitch )
<a name="LFB2C">$FB2C</a>	A0 FB                    	LDY   #$FB                              	Sets X and Y to point to the
<a name="LFB2E">$FB2E</a>	20 86 FA                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFA86">$FA86</a>                             	data below to generate the
<a name="LFB31">$FB31</a>	60                       	RTS                                     	sound.

KEYCLICKLDATA
<a name="LFB32">$FB32</a>	2F 00 00 00 00 00 00     	BYT   $2F,$00,$00,$00,$00,$00,$00       	Data for low pitch keyclick.
<a name="LFB39">$FB39</a>	3E 10 00 00 1F 00 00     	BYT   $3E,$10,$00,$00,$1F,$00,$00

SOUND
<a name="LFB40">$FB40</a>	AD E1 02                 	LDA   $02E1                             	SOUND
<a name="LFB43">$FB43</a>	C9 01                    	CMP   #$01                              	Branch if tone channel A is
<a name="LFB45">$FB45</a>	D0 22                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB69">$FB69</a>                             	not being used.
<a name="LFB47">$FB47</a>	A9 00                    	LDA   #$00                              	Write the tone period for
<a name="LFB49">$FB49</a>	AE E3 02                 	LDX   $02E3                             	channel A to the sound chip
<a name="LFB4C">$FB4C</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	Write low byte of period.
<a name="LFB4F">$FB4F</a>	A9 01                    	LDA   #$01
<a name="LFB51">$FB51</a>	AE E4 02                 	LDX   $02E4
<a name="LFB54">$FB54</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	Write high byte of period.
<a name="LFB57">$FB57</a>	AD E5 02                 	LDA   $02E5                             	Load amplitude and keep it in
<a name="LFB5A">$FB5A</a>	29 0F                    	AND   #$0F                              	the range 0-15. If amplitude
<a name="LFB5C">$FB5C</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB62">$FB62</a>                             	is zero then use envelope
<a name="LFB5E">$FB5E</a>	A2 10                    	LDX   #$10                              	control.
<a name="LFB60">$FB60</a>	D0 01                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB63">$FB63</a>
<a name="LFB62">$FB62</a>	AA                       	TAX
<a name="LFB63">$FB63</a>	A9 08                    	LDA   #$08
<a name="LFB65">$FB65</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>
<a name="LFB68">$FB68</a>	60                       	RTS
<a name="LFB69">$FB69</a>	C9 02                    	CMP   #$02                              	Branch if tone channel B is
<a name="LFB6B">$FB6B</a>	D0 22                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB8F">$FB8F</a>                             	not being used.
<a name="LFB6D">$FB6D</a>	A9 02                    	LDA   #$02
<a name="LFB6F">$FB6F</a>	AE E3 02                 	LDX   $02E3                             	Write low byte of tone period
<a name="LFB72">$FB72</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	to the sound chip.
<a name="LFB75">$FB75</a>	A9 03                    	LDA   #$03
<a name="LFB77">$FB77</a>	AE E4 02                 	LDX   $02E4                             	Write high byte of tone period
<a name="LFB7A">$FB7A</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	to the sound chip.
<a name="LFB7D">$FB7D</a>	AD E5 02                 	LDA   $02E5                             	Load and set amplitude in
<a name="LFB80">$FB80</a>	29 0F                    	AND   #$0F                              	range 0-15.
<a name="LFB82">$FB82</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB88">$FB88</a>
<a name="LFB84">$FB84</a>	A2 10                    	LDX   #$10                              	If amplitude is zero then use
<a name="LFB86">$FB86</a>	D0 01                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB89">$FB89</a>                             	envelope control.
<a name="LFB88">$FB88</a>	AA                       	TAX
<a name="LFB89">$FB89</a>	A9 09                    	LDA   #$09
<a name="LFB8B">$FB8B</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>
<a name="LFB8E">$FB8E</a>	60                       	RTS
<a name="LFB8F">$FB8F</a>	C9 03                    	CMP   #$03                              	Branch if tone channel C is
<a name="LFB91">$FB91</a>	D0 22                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFBB5">$FBB5</a>                             	not being used.
<a name="LFB93">$FB93</a>	A9 04                    	LDA   #$04
<a name="LFB95">$FB95</a>	AE E3 02                 	LDX   $02E3                             	Write low byte of tone period
<a name="LFB98">$FB98</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	to the sound chip.
<a name="LFB9B">$FB9B</a>	A9 05                    	LDA   #$05
<a name="LFB9D">$FB9D</a>	AE E4 02                 	LDX   $02E4                             	Write high byte of tone period
<a name="LFBA0">$FBA0</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	to the sound chip.
<a name="LFBA3">$FBA3</a>	AD E5 02                 	LDA   $02E5                             	Load and set the amplitude in
<a name="LFBA6">$FBA6</a>	29 0F                    	AND   #$0F                              	the range 0-15.
<a name="LFBA8">$FBA8</a>	D0 04                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFBAE">$FBAE</a>
<a name="LFBAA">$FBAA</a>	A2 10                    	LDX   #$10                              	If amplitude is zero then use
<a name="LFBAC">$FBAC</a>	D0 01                    	BNE   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFBAF">$FBAF</a>                             	envelope control.
<a name="LFBAE">$FBAE</a>	AA                       	TAX
<a name="LFBAF">$FBAF</a>	A9 0A                    	LDA   #$0A
<a name="LFBB1">$FBB1</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>
<a name="LFBB4">$FBB4</a>	60                       	RTS
<a name="LFBB5">$FBB5</a>	A9 06                    	LDA   #$06                              	This routine sets up the noise
<a name="LFBB7">$FBB7</a>	AE E3 02                 	LDX   $02E3                             	period to be used.
<a name="LFBBA">$FBBA</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	Sound channels 4, 5 &amp; 6
<a name="LFBBD">$FBBD</a>	AD E1 02                 	LDA   $02E1                             	produce noise on tone channels
<a name="LFBC0">$FBC0</a>	C9 04                    	CMP   #$04                              	A, B &amp; C respectively.
<a name="LFBC2">$FBC2</a>	F0 93                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB57">$FB57</a>
<a name="LFBC4">$FBC4</a>	C9 05                    	CMP   #$05
<a name="LFBC6">$FBC6</a>	F0 B5                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB7D">$FB7D</a>
<a name="LFBC8">$FBC8</a>	C9 06                    	CMP   #$06
<a name="LFBCA">$FBCA</a>	F0 D7                    	BEQ   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFBA3">$FBA3</a>                             	An error is produced if the
<a name="LFBCC">$FBCC</a>	EE E0 02                 	INC   $02E0                             	sound channels are not in
<a name="LFBCF">$FBCF</a>	60                       	RTS                                     	correct range.

PLAY
<a name="LFBD0">$FBD0</a>	AD E3 02                 	LDA   $02E3                             	PLAY
<a name="LFBD3">$FBD3</a>	0A                       	ASL                                     	Combine the tone and sound
<a name="LFBD4">$FBD4</a>	0A                       	ASL                                     	channels into a single byte.
<a name="LFBD5">$FBD5</a>	0A                       	ASL                                     	Invert the result and send it
<a name="LFBD6">$FBD6</a>	0D E1 02                 	ORA   $02E1                             	to the mixer register in the
<a name="LFBD9">$FBD9</a>	49 3F                    	EOR   #$3F                              	sound chip.
<a name="LFBDB">$FBDB</a>	AA                       	TAX
<a name="LFBDC">$FBDC</a>	A9 07                    	LDA   #$07
<a name="LFBDE">$FBDE</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>
<a name="LFBE1">$FBE1</a>	18                       	CLC
<a name="LFBE2">$FBE2</a>	AD E7 02                 	LDA   $02E7                             	Double the duration given in
<a name="LFBE5">$FBE5</a>	0A                       	ASL                                     	the command.
<a name="LFBE6">$FBE6</a>	8D E7 02                 	STA   $02E7
<a name="LFBE9">$FBE9</a>	AD E8 02                 	LDA   $02E8
<a name="LFBEC">$FBEC</a>	2A                       	ROL
<a name="LFBED">$FBED</a>	8D E8 02                 	STA   $02E8
<a name="LFBF0">$FBF0</a>	A9 0B                    	LDA   #$0B
<a name="LFBF2">$FBF2</a>	AE E7 02                 	LDX   $02E7                             	Write low byte of envelope
<a name="LFBF5">$FBF5</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	period to 8912.
<a name="LFBF8">$FBF8</a>	A9 0C                    	LDA   #$0C
<a name="LFBFA">$FBFA</a>	AE E8 02                 	LDX   $02E8                             	Write high byte of envelope
<a name="LFBFD">$FBFD</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>                             	period to 8912.
<a name="LFC00">$FC00</a>	AD E5 02                 	LDA   $02E5
<a name="LFC03">$FC03</a>	29 07                    	AND   #$07
<a name="LFC05">$FC05</a>	A8                       	TAY
<a name="LFC06">$FC06</a>	B9 10 FC                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC10">$FC10</a>,Y                           	Look up envelope pattern
<a name="LFC09">$FC09</a>	AA                       	TAX                                     	using table below.
<a name="LFC0A">$FC0A</a>	A9 0D                    	LDA   #$0D
<a name="LFC0C">$FC0C</a>	20 90 F5                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF590">$F590</a>
<a name="LFC0F">$FC0F</a>	60                       	RTS
<a name="LFC10">$FC10</a>	00 00 04 08 0A 0B 0C 0D  	BYT   $00,$00,$04,$08,$0A,$0B,$0C,$0D   	Envelope patterns used.

MUSIC
<a name="LFC18">$FC18</a>	A2 E1                    	LDX   #$E1                              	MUSIC
<a name="LFC1A">$FC1A</a>	A9 04                    	LDA   #$04                              	Test channel for range.
<a name="LFC1C">$FC1C</a>	20 E4 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2E4">$F2E4</a>
<a name="LFC1F">$FC1F</a>	B0 39                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC5A">$FC5A</a>                             	Channel number out of range.
<a name="LFC21">$FC21</a>	A2 E3                    	LDX   #$E3
<a name="LFC23">$FC23</a>	A9 08                    	LDA   #$08                              	Test octave range.
<a name="LFC25">$FC25</a>	20 F8 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2F8">$F2F8</a>
<a name="LFC28">$FC28</a>	B0 30                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC5A">$FC5A</a>                             	Octave number out of range.
<a name="LFC2A">$FC2A</a>	A2 E5                    	LDX   #$E5
<a name="LFC2C">$FC2C</a>	A9 0D                    	LDA   #$0D                              	Test note range.
<a name="LFC2E">$FC2E</a>	20 E4 F2                 	JSR   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LF2E4">$F2E4</a>
<a name="LFC31">$FC31</a>	B0 27                    	BCS   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC5A">$FC5A</a>                             	Note number is out of range.
<a name="LFC33">$FC33</a>	AC E3 02                 	LDY   $02E3                             	Use the octave and note
<a name="LFC36">$FC36</a>	AE E5 02                 	LDX   $02E5                             	values to look up the tone
<a name="LFC39">$FC39</a>	BD 5E FC                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC5E">$FC5E</a>,X                           	periods in the table below.
<a name="LFC3C">$FC3C</a>	8D E4 02                 	STA   $02E4
<a name="LFC3F">$FC3F</a>	BD 6B FC                 	LDA   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC6B">$FC6B</a>,X
<a name="LFC42">$FC42</a>	8D E3 02                 	STA   $02E3
<a name="LFC45">$FC45</a>	AD E7 02                 	LDA   $02E7
<a name="LFC48">$FC48</a>	8D E5 02                 	STA   $02E5
<a name="LFC4B">$FC4B</a>	88                       	DEY
<a name="LFC4C">$FC4C</a>	30 09                    	BMI   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC57">$FC57</a>
<a name="LFC4E">$FC4E</a>	4E E4 02                 	LSR   $02E4
<a name="LFC51">$FC51</a>	6E E3 02                 	ROR   $02E3
<a name="LFC54">$FC54</a>	4C 4B FC                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFC4B">$FC4B</a>
<a name="LFC57">$FC57</a>	4C 40 FB                 	JMP   <a href="https://iss.sandacite.com/tools/oric-atmos-rom.html#LFB40">$FB40</a>                             	Go to Sound command.
<a name="LFC5A">$FC5A</a>	EE E0 02                 	INC   $02E0
<a name="LFC5D">$FC5D</a>	60                       	RTS

MUSICDATA
<a name="LFC5E">$FC5E</a>	00 07 07 06 06 05 05 05  	BYT   $00,$07,$07,$06,$06,$05,$05,$05   	Data for the Music command.
<a name="LFC66">$FC66</a>	04 04 04 04 03 00 77 0B  	BYT   $04,$04,$04,$04,$03,$00,$77,$0B   	Converts the notes into tone
<a name="LFC6E">$FC6E</a>	A6 47 EC 97 47 FB B3 70  	BYT   $A6,$47,$EC,$97,$47,$FB,$B3,$70   	periods.
<a name="LFC76">$FC76</a>	30 F4                    	BYT   $30,$F4

CHARSET
<a name="LFC78">$FC78</a>	00 00 00 00 00 00 00 00  	BYT   $00,$00,$00,$00,$00,$00,$00,$00   	Space Start of standard
<a name="LFC80">$FC80</a>	08 08 08 08 08 00 08 00  	BYT   $08,$08,$08,$08,$08,$00,$08,$00   	! character set. Each
<a name="LFC88">$FC88</a>	14 14 14 00 00 00 00 00  	BYT   $14,$14,$14,$00,$00,$00,$00,$00   	" row of 8 bytes
<a name="LFC90">$FC90</a>	14 14 3E 14 3E 14 14 00  	BYT   $14,$14,$3E,$14,$3E,$14,$14,$00   	# represents the bit
<a name="LFC98">$FC98</a>	08 1E 28 1C 0A 3C 08 00  	BYT   $08,$1E,$28,$1C,$0A,$3C,$08,$00   	$ pattern for each
<a name="LFCA0">$FCA0</a>	30 32 04 08 10 26 06 00  	BYT   $30,$32,$04,$08,$10,$26,$06,$00   	% character. The first
<a name="LFCA8">$FCA8</a>	10 28 28 10 2A 24 1A 00  	BYT   $10,$28,$28,$10,$2A,$24,$1A,$00   	&amp; byte is the bit
<a name="LFCB0">$FCB0</a>	08 08 08 00 00 00 00 00  	BYT   $08,$08,$08,$00,$00,$00,$00,$00   	' pattern for the top
<a name="LFCB8">$FCB8</a>	08 10 20 20 20 10 08 00  	BYT   $08,$10,$20,$20,$20,$10,$08,$00   	( row and the last is
<a name="LFCC0">$FCC0</a>	08 04 02 02 02 04 08 00  	BYT   $08,$04,$02,$02,$02,$04,$08,$00   	) that for the bottom
<a name="LFCC8">$FCC8</a>	08 2A 1C 08 1C 2A 08 00  	BYT   $08,$2A,$1C,$08,$1C,$2A,$08,$00   	* row. The list works
<a name="LFCD0">$FCD0</a>	00 08 08 3E 08 08 00 00  	BYT   $00,$08,$08,$3E,$08,$08,$00,$00   	+ its way up the ASCII
<a name="LFCD8">$FCD8</a>	00 00 00 00 00 08 08 10  	BYT   $00,$00,$00,$00,$00,$08,$08,$10   	, set from SPACE to DEL.
<a name="LFCE0">$FCE0</a>	00 00 00 3E 00 00 00 00  	BYT   $00,$00,$00,$3E,$00,$00,$00,$00   	-
<a name="LFCE8">$FCE8</a>	00 00 00 00 00 04 00 00  	BYT   $00,$00,$00,$00,$00,$04,$00,$00   	. On power up, this data
<a name="LFCF0">$FCF0</a>	00 02 04 08 10 20 00 00  	BYT   $00,$02,$04,$08,$10,$20,$00,$00   	/ is copied to below the
<a name="LFCF8">$FCF8</a>	1C 22 26 2A 32 22 1C 00  	BYT   $1C,$22,$26,$2A,$32,$22,$1C,$00   	0 screen memory.
<a name="LFD00">$FD00</a>	08 18 08 08 08 08 1C 00  	BYT   $08,$18,$08,$08,$08,$08,$1C,$00   	1
<a name="LFD08">$FD08</a>	1C 22 02 04 08 10 3E 00  	BYT   $1C,$22,$02,$04,$08,$10,$3E,$00   	2
<a name="LFD10">$FD10</a>	3E 02 04 0C 02 22 1C 00  	BYT   $3E,$02,$04,$0C,$02,$22,$1C,$00   	3
<a name="LFD18">$FD18</a>	04 0C 14 24 3E 04 04 00  	BYT   $04,$0C,$14,$24,$3E,$04,$04,$00   	4
<a name="LFD20">$FD20</a>	3E 20 3C 02 02 22 1C 00  	BYT   $3E,$20,$3C,$02,$02,$22,$1C,$00   	5
<a name="LFD28">$FD28</a>	0C 10 20 3C 22 22 1C 00  	BYT   $0C,$10,$20,$3C,$22,$22,$1C,$00   	6
<a name="LFD30">$FD30</a>	3E 02 04 08 10 10 10 00  	BYT   $3E,$02,$04,$08,$10,$10,$10,$00   	7
<a name="LFD38">$FD38</a>	1C 22 22 1C 22 22 1C 00  	BYT   $1C,$22,$22,$1C,$22,$22,$1C,$00   	8
<a name="LFD40">$FD40</a>	1C 22 22 1E 02 04 18 00  	BYT   $1C,$22,$22,$1E,$02,$04,$18,$00   	9
<a name="LFD48">$FD48</a>	00 00 08 00 00 08 00 00  	BYT   $00,$00,$08,$00,$00,$08,$00,$00   	:
<a name="LFD50">$FD50</a>	00 00 08 00 00 08 08 10  	BYT   $00,$00,$08,$00,$00,$08,$08,$10   	;
<a name="LFD58">$FD58</a>	04 08 10 20 10 08 04 00  	BYT   $04,$08,$10,$20,$10,$08,$04,$00   	&lt;
<a name="LFD60">$FD60</a>	00 00 3E 00 3E 00 00 00  	BYT   $00,$00,$3E,$00,$3E,$00,$00,$00   	=
<a name="LFD68">$FD68</a>	10 08 04 02 04 08 10 00  	BYT   $10,$08,$04,$02,$04,$08,$10,$00   	&gt;
<a name="LFD70">$FD70</a>	1C 22 04 08 08 00 08 00  	BYT   $1C,$22,$04,$08,$08,$00,$08,$00   	?
<a name="LFD78">$FD78</a>	1C 22 2A 2E 2C 20 1E 00  	BYT   $1C,$22,$2A,$2E,$2C,$20,$1E,$00   	@
<a name="LFD80">$FD80</a>	08 14 22 22 3E 22 22 00  	BYT   $08,$14,$22,$22,$3E,$22,$22,$00   	A
<a name="LFD88">$FD88</a>	3C 22 22 3C 22 22 3C 00  	BYT   $3C,$22,$22,$3C,$22,$22,$3C,$00   	B
<a name="LFD90">$FD90</a>	1C 22 20 20 20 22 1C 00  	BYT   $1C,$22,$20,$20,$20,$22,$1C,$00   	C
<a name="LFD98">$FD98</a>	3C 22 22 22 22 22 3C 00  	BYT   $3C,$22,$22,$22,$22,$22,$3C,$00   	D
<a name="LFDA0">$FDA0</a>	3E 20 20 3C 20 20 3E 00  	BYT   $3E,$20,$20,$3C,$20,$20,$3E,$00   	E
<a name="LFDA8">$FDA8</a>	3E 20 20 3C 20 20 20 00  	BYT   $3E,$20,$20,$3C,$20,$20,$20,$00   	F
<a name="LFDB0">$FDB0</a>	1E 20 20 20 26 22 1E 00  	BYT   $1E,$20,$20,$20,$26,$22,$1E,$00   	G
<a name="LFDB8">$FDB8</a>	22 22 22 3E 22 22 22 00  	BYT   $22,$22,$22,$3E,$22,$22,$22,$00   	H
<a name="LFDC0">$FDC0</a>	1C 08 08 08 08 08 1C 00  	BYT   $1C,$08,$08,$08,$08,$08,$1C,$00   	I
<a name="LFDC8">$FDC8</a>	02 02 02 02 02 22 1C 00  	BYT   $02,$02,$02,$02,$02,$22,$1C,$00   	J
<a name="LFDD0">$FDD0</a>	22 24 28 30 28 24 22 00  	BYT   $22,$24,$28,$30,$28,$24,$22,$00   	K
<a name="LFDD8">$FDD8</a>	20 20 20 20 20 20 3E 00  	BYT   $20,$20,$20,$20,$20,$20,$3E,$00   	L
<a name="LFDE0">$FDE0</a>	22 36 2A 2A 22 22 22 00  	BYT   $22,$36,$2A,$2A,$22,$22,$22,$00   	M
<a name="LFDE8">$FDE8</a>	22 22 32 2A 26 22 22 00  	BYT   $22,$22,$32,$2A,$26,$22,$22,$00   	N
<a name="LFDF0">$FDF0</a>	1C 22 22 22 22 22 1C 00  	BYT   $1C,$22,$22,$22,$22,$22,$1C,$00   	O
<a name="LFDF8">$FDF8</a>	3C 22 22 3C 20 20 20 00  	BYT   $3C,$22,$22,$3C,$20,$20,$20,$00   	P
<a name="LFE00">$FE00</a>	1C 22 22 22 2A 24 1A 00  	BYT   $1C,$22,$22,$22,$2A,$24,$1A,$00   	Q
<a name="LFE08">$FE08</a>	3C 22 22 3C 28 24 22 00  	BYT   $3C,$22,$22,$3C,$28,$24,$22,$00   	R
<a name="LFE10">$FE10</a>	1C 22 20 1C 02 22 1C 00  	BYT   $1C,$22,$20,$1C,$02,$22,$1C,$00   	S
<a name="LFE18">$FE18</a>	3E 08 08 08 08 08 08 00  	BYT   $3E,$08,$08,$08,$08,$08,$08,$00   	T
<a name="LFE20">$FE20</a>	22 22 22 22 22 22 1C 00  	BYT   $22,$22,$22,$22,$22,$22,$1C,$00   	U
<a name="LFE28">$FE28</a>	22 22 22 22 22 14 08 00  	BYT   $22,$22,$22,$22,$22,$14,$08,$00   	V
<a name="LFE30">$FE30</a>	22 22 22 2A 2A 36 22 00  	BYT   $22,$22,$22,$2A,$2A,$36,$22,$00   	W
<a name="LFE38">$FE38</a>	22 22 14 08 14 22 22 00  	BYT   $22,$22,$14,$08,$14,$22,$22,$00   	X
<a name="LFE40">$FE40</a>	22 22 14 08 08 08 08 00  	BYT   $22,$22,$14,$08,$08,$08,$08,$00   	Y
<a name="LFE48">$FE48</a>	3E 02 04 08 10 20 3E 00  	BYT   $3E,$02,$04,$08,$10,$20,$3E,$00   	Z
<a name="LFE50">$FE50</a>	1E 10 10 10 10 10 1E 00  	BYT   $1E,$10,$10,$10,$10,$10,$1E,$00   	[
<a name="LFE58">$FE58</a>	00 20 10 08 04 02 00 00  	BYT   $00,$20,$10,$08,$04,$02,$00,$00   	\
<a name="LFE60">$FE60</a>	3C 04 04 04 04 04 3C 00  	BYT   $3C,$04,$04,$04,$04,$04,$3C,$00   	]
<a name="LFE68">$FE68</a>	08 14 2A 08 08 08 08 00  	BYT   $08,$14,$2A,$08,$08,$08,$08,$00   	f
<a name="LFE70">$FE70</a>	0E 10 10 10 3C 10 3E 00  	BYT   $0E,$10,$10,$10,$3C,$10,$3E,$00   	g
<a name="LFE78">$FE78</a>	0C 12 2D 29 29 2D 12 0C  	BYT   $0C,$12,$2D,$29,$29,$2D,$12,$0C   	
<a name="LFE80">$FE80</a>	00 00 1C 02 1E 22 1E 00  	BYT   $00,$00,$1C,$02,$1E,$22,$1E,$00   	a
<a name="LFE88">$FE88</a>	20 20 3C 22 22 22 3C 00  	BYT   $20,$20,$3C,$22,$22,$22,$3C,$00   	b
<a name="LFE90">$FE90</a>	00 00 1E 20 20 20 1E 00  	BYT   $00,$00,$1E,$20,$20,$20,$1E,$00   	c
<a name="LFE98">$FE98</a>	02 02 1E 22 22 22 1E 00  	BYT   $02,$02,$1E,$22,$22,$22,$1E,$00   	d
<a name="LFEA0">$FEA0</a>	00 00 1C 22 3E 20 1E 00  	BYT   $00,$00,$1C,$22,$3E,$20,$1E,$00   	e
<a name="LFEA8">$FEA8</a>	0C 12 10 3C 10 10 10 00  	BYT   $0C,$12,$10,$3C,$10,$10,$10,$00   	f
<a name="LFEB0">$FEB0</a>	00 00 1C 22 22 1E 02 1C  	BYT   $00,$00,$1C,$22,$22,$1E,$02,$1C   	g
<a name="LFEB8">$FEB8</a>	20 20 3C 22 22 22 22 00  	BYT   $20,$20,$3C,$22,$22,$22,$22,$00   	h
<a name="LFEC0">$FEC0</a>	08 00 18 08 08 08 1C 00  	BYT   $08,$00,$18,$08,$08,$08,$1C,$00   	i
<a name="LFEC8">$FEC8</a>	04 00 0C 04 04 04 24 18  	BYT   $04,$00,$0C,$04,$04,$04,$24,$18   	j
<a name="LFED0">$FED0</a>	20 20 22 24 38 24 22 00  	BYT   $20,$20,$22,$24,$38,$24,$22,$00   	k
<a name="LFED8">$FED8</a>	18 08 08 08 08 08 1C 00  	BYT   $18,$08,$08,$08,$08,$08,$1C,$00   	1
<a name="LFEE0">$FEE0</a>	00 00 36 2A 2A 2A 22 00  	BYT   $00,$00,$36,$2A,$2A,$2A,$22,$00   	m
<a name="LFEE8">$FEE8</a>	00 00 3C 22 22 22 22 00  	BYT   $00,$00,$3C,$22,$22,$22,$22,$00   	n
<a name="LFEF0">$FEF0</a>	00 00 1C 22 22 22 1C 00  	BYT   $00,$00,$1C,$22,$22,$22,$1C,$00   	o
<a name="LFEF8">$FEF8</a>	00 00 3C 22 22 3C 20 20  	BYT   $00,$00,$3C,$22,$22,$3C,$20,$20   	p
<a name="LFF00">$FF00</a>	00 00 1E 22 22 1E 02 02  	BYT   $00,$00,$1E,$22,$22,$1E,$02,$02   	q
<a name="LFF08">$FF08</a>	00 00 2E 30 20 20 20 00  	BYT   $00,$00,$2E,$30,$20,$20,$20,$00   	r
<a name="LFF10">$FF10</a>	00 00 1E 20 1C 02 3C 00  	BYT   $00,$00,$1E,$20,$1C,$02,$3C,$00   	s
<a name="LFF18">$FF18</a>	10 10 3C 10 10 12 0C 00  	BYT   $10,$10,$3C,$10,$10,$12,$0C,$00   	t
<a name="LFF20">$FF20</a>	00 00 22 22 22 26 1A 00  	BYT   $00,$00,$22,$22,$22,$26,$1A,$00   	u
<a name="LFF28">$FF28</a>	00 00 22 22 22 14 08 00  	BYT   $00,$00,$22,$22,$22,$14,$08,$00   	v
<a name="LFF30">$FF30</a>	00 00 22 22 2A 2A 36 00  	BYT   $00,$00,$22,$22,$2A,$2A,$36,$00   	w
<a name="LFF38">$FF38</a>	00 00 22 14 08 14 22 00  	BYT   $00,$00,$22,$14,$08,$14,$22,$00   	x
<a name="LFF40">$FF40</a>	00 00 22 22 22 1E 02 1C  	BYT   $00,$00,$22,$22,$22,$1E,$02,$1C   	y
<a name="LFF48">$FF48</a>	00 00 3E 04 08 10 3E 00  	BYT   $00,$00,$3E,$04,$08,$10,$3E,$00   	z
<a name="LFF50">$FF50</a>	0E 18 18 30 18 18 0E 00  	BYT   $0E,$18,$18,$30,$18,$18,$0E,$00   	{
<a name="LFF58">$FF58</a>	08 08 08 08 08 08 08 08  	BYT   $08,$08,$08,$08,$08,$08,$08,$08   	|
<a name="LFF60">$FF60</a>	38 0C 0C 06 0C 0C 38 00  	BYT   $38,$0C,$0C,$06,$0C,$0C,$38,$00   	}
<a name="LFF68">$FF68</a>	2A 15 2A 15 2A 15 2A 15  	BYT   $2A,$15,$2A,$15,$2A,$15,$2A,$15   	Chequered grid.
<a name="LFF70">$FF70</a>	3F 3F 3F 3F 3F 3F 3F 3F  	BYT   $3F,$3F,$3F,$3F,$3F,$3F,$3F,$3F   	DEL

KEYCODETAB
<a name="LFF78">$FF78</a>	37 EA ED EB 20 F5 F9 38  	BYT   $37,$EA,$ED,$EB,$20,$F5,$F9,$38   	Look up table for the
<a name="LFF80">$FF80</a>	EE F4 36 39 2C E9 E8 EC  	BYT   $EE,$F4,$36,$39,$2C,$E9,$E8,$EC   	conversion of the key-code to
<a name="LFF88">$FF88</a>	35 F2 E2 3B 2E EF E7 30  	BYT   $35,$F2,$E2,$3B,$2E,$EF,$E7,$30   	corresponding ASCII character.
<a name="LFF90">$FF90</a>	F6 E6 34 2D 0B F0 E5 2F  	BYT   $F6,$E6,$34,$2D,$0B,$F0,$E5,$2F
<a name="LFF98">$FF98</a>	00 00 00 00 00 00 00 00  	BYT   $00,$00,$00,$00,$00,$00,$00,$00   	The first half of the table
<a name="LFFA0">$FFA0</a>	31 1B FA 00 08 7F E1 0D  	BYT   $31,$1B,$FA,$00,$08,$7F,$E1,$0D   	corresponds to the ASCII
<a name="LFFA8">$FFA8</a>	F8 F1 32 5C 0A 5D F3 00  	BYT   $F8,$F1,$32,$5C,$0A,$5D,$F3,$00   	values with the shift key off.
<a name="LFFB0">$FFB0</a>	33 E4 E3 27 09 5B F7 3D  	BYT   $33,$E4,$E3,$27,$09,$5B,$F7,$3D
<a name="LFFB8">$FFB8</a>	26 4A 4D 4B 20 55 59 2A  	BYT   $26,$4A,$4D,$4B,$20,$55,$59,$2A   	The second half of the table
<a name="LFFC0">$FFC0</a>	4E 54 5E 28 3C 49 48 4C  	BYT   $4E,$54,$5E,$28,$3C,$49,$48,$4C   	corresponds to the ASCII
<a name="LFFC8">$FFC8</a>	25 52 42 3A 3E 4F 47 29  	BYT   $25,$52,$42,$3A,$3E,$4F,$47,$29   	values with the shift key
<a name="LFFD0">$FFD0</a>	56 46 24 5F 0B 50 45 3F  	BYT   $56,$46,$24,$5F,$0B,$50,$45,$3F   	pressed.
<a name="LFFD8">$FFD8</a>	00 00 00 00 00 00 00 00  	BYT   $00,$00,$00,$00,$00,$00,$00,$00
<a name="LFFE0">$FFE0</a>	21 1B 5A 00 08 7F 41 0D  	BYT   $21,$1B,$5A,$00,$08,$7F,$41,$0D
<a name="LFFE8">$FFE8</a>	58 51 40 7C 0A 7D 53 00  	BYT   $58,$51,$40,$7C,$0A,$7D,$53,$00
<a name="LFFF0">$FFF0</a>	23 44 43 22 09 7B 57 2B  	BYT   $23,$44,$43,$22,$09,$7B,$57,$2B
<a name="LFFF8">$FFF8</a>	D0 01                    	BYT   $D0,$01
<a name="LFFFA">$FFFA</a>	47 02                    	BYT   $47,$02                           	N.M.I.Vector, $0247
<a name="LFFFC">$FFFC</a>	8F F8                    	BYT   $8F,$F8                           	RESETVector, $F88F
<a name="LFFFE">$FFFE</a>	44 02                    	BYT   $44,$02                           	I.R.Q.Vector, $0244
</pre>

</div><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe></body></html>
------MultipartBoundary--GRQrYkNAtextu0CdUhLxf7BycFuZdxCnGyQ7lBqgh6----
Content-Type: text/css
Content-Transfer-Encoding: binary
Content-Location: cid:css-81cc605c-a8ce-4915-a602-da1a79e22e8b@mhtml.blink

@charset "utf-8";

html, body, h1, h2, h3, h4, h5, h6, table, div, p { background-color: rgb(220, 220, 220); color: rgb(0, 0, 0); font-family: Tahoma, sans-serif; font-size: 16px; padding: 0px; margin: 20px 10px 10px; }

h1 { font-size: 24px; }

table, th, td { border: 1px solid black; border-collapse: collapse; }

a[href^="#"]:link, a[href^="#"]:visited { color: black; text-decoration: none; }

a[href^="#"]:hover { color: blue; text-decoration: underline; }

.vis { border: 1px solid gray; image-rendering: pixelated; }
------MultipartBoundary--GRQrYkNAtextu0CdUhLxf7BycFuZdxCnGyQ7lBqgh6----
Content-Type: image/png
Content-Transfer-Encoding: binary
Content-Location: https://iss.sandacite.com/tools/oric-atmos-rom.png

PNG

   IHDR        }B   	pHYs    *    IDATximu35$%lLREibY1A`;@#@$F"qb;(N`ErDr$Yl84E6fN{=-~}|IsvUZ*>_i hz"B`0V]?l6(
*k_BJ@hh%*]iWeGu]/8&" H C.H)_OO_(HoSU
%%A Z1^{)% A ox~)OK/`(r8$GH `@(F_3nmmQ%Zk ZKYTU0_-a k5dOi73OYcZk^z%L10}}g2/i?j{>O6 qrJ?"/u%.]S?q3a1 R+R`n$Bv7_|59B0tVAcJ)$a<RqTB_Wyp@/ I/b4F=/z_~4&
*64 Ji*@IIc
+}gBptt=	$I0PD)^7_Cg3I>7o$MST5a<( d65>;`2P^.i0!/"RJ>J)ggE)E4H)z(0` X. gFi*}1lz~4#+R^B_f_yl1Q,9:ZNL& ._7Lf+_
qbEc	 a""`2YR58RTUA<{{LgsDI0(cl&31!XglmZA6N/]+/bx`0 s(
kJ<_WXa)}YSEU%eBE!	<|xjQy9%j\r!g;,K4eww(*&+*1<GXl?s}>1~#ABziD)Ef39 oUU1_.RR% uCQ3q8XgK_x9:8 c}9ILF}*rfR^ _|,2"*Foc2{if:?.
X4ogD5Z>3x,g4E[y;iXIz;w<8>Zl6cXPV+<%MSS(O~gaZ>DUdE[?)4u3"gztR?qz3	pU~aI|+/Rb61)/ir#<|>'W^a\RUM]SVe^Pnx;MY13gggw8OO3JcrGmc]h4W^9 ?y{>e25i?#q~2`S5I}Lcqvww2dc<"D^DA?a.MZgIyxoyl_t6c(9 3o|c?Hckc~1E y>^'29>>f:~eYRd6%Zw3<IOkq8!`\RUu4,Ye)uYpng|lbZJw?4c<B5>O 0 @9AtSStgW}"l6j>X9Ul?X,Yf91p7a~?s}<??win(>)q3=L6p.Y.;wF(!9<8~{x'~X,V Y`XM,4?+wLv}c9.?V(d|r{?'g32>Ob]x*yObl1}+</^$x;X"(0l1UIassy`tU yoJvwb"T#"?/g4@8gV`D"	m-B$l11 i	p-o%_-hj
LcO~IO*("L`{q".23[%W^hR}d`xxxL0`4eK~9SntG8#ln"e,upbkYegt:x]aXQYS9ijEUg|G?Iybe@ $Tw
c
&c\z1?RZXHN"R75Ze'KW|kd%~(r#Vu"@"" *S9dAOTX.nHmrUq!	)bl0?G	uS#F"i#T!&BM[,E2_,o		<wt44uCo	,W(
C4%O"0)% ppRTXXE"BK 8qe&MX{6b="@@0&e@cJ((!T!`(lNhsd8pE~^] cy3jc,Jd&go I3!xpk:SR@!Mgurk-%Cuk$u-P4*[l9xR,F vpAu*h0{\PU&RHyUSQ)Fz-BAF(B@ TB"$14g[9w"l]mG?ee_}gWJEYUTUE/QX,yF~!3($
O!29i\4/A iAh$X_C\F7h}4g0aXYTa+{gIy\{Q.eIXPYs|||1%gnHQ_Tob;}XKca ippp@\4xFK:L\
?y:i\Pdyw ??C\t-f.1Zz=fYM::dUUN0NaIw1fV79<qGSNq 	~8RX1MuqfZ*)4zC{{{cyeX @0.F3^z 8\%>@v\e,K7"PRR$I:50N+o	,Ye)BR4`*<7#}dmu]36/CE DY+/@F#~}Ut<,s8Ns{emu#wV}6Q|5gc4=B+j{x'988`Z6n(4^x<<sv43j/Lu$73*PD*J#yOQlnp<YsE <*\by`t6x\Nd3NBH` K4upY <s2aZUOh!Ni>GD nIQTE{UK]2Y\#FE,{u
"PuEd
$*l{B[Ow7|_|<llm4G.?H=xod1(yy%syBnEY]RTJg/?q-WL&cL0QQ MxNFMm-q0Nujm:+Z_IUOl$f9UH!u]T ]QaAdEGyOMf36AZ^tzDeeE'ug49*#c1$IH^xD*x<$"PE3;UIg{}<t)Pk5e9nDgL7XdYAVJX<KY/_F)EQX+\\*DeGn+/1";{ii^QVB*ziWDQD{8z	2 ]<LE]EAEAK<~'a4M[7N2/Xe)dB?w0sib(c?iW9@5wCmnsUP1=eN)yF.`)jS(|[sC(,/<1h^DQ|=lmmQWXyk1:'4Aa4dzi8awku;w*w!D@'0l!U!-EE#Hy3)/4{.{01SS7;;;u3!G.8>` 11M@#f<[!YZ\hQ( 
y)?z.\h4B7/?0\kPt2O3wyCqR7%/~z7G~KIc+HF8GP*2)BJ#?fr!QRU*K-%KNa2?
]1-R?}6kS8tml$	|LkoO/!inhUB]76nfa2pu&	JIQ$I$swn>\LW_#(/DxDbU/f\.98cCw8?b45iQ `0Z.X.fuyx<f8sAPU?WO2.]Rx_d0bX6At6aHg}C\  hQy `XKKmhMTMM $BdVb$@`@Z4b{=G k\j=l:]s=lB<Lr}N$IB]iY!%;(,|c)Z*qL8!BJdPA@*
_'>s|'?}loos.N|FsM^{:ZKVDQD(]>,
LT5tEJX4c\4i%J'w|W gquMIBWOG1EQ`6hH\leCw
t{.bt91CO;gG3^jQ+">~G?a/}}FUO )J0gykO1pDa*;8q&{mmXi+5~s@bH);8pZ=[Ts)"#g~_]>>B1>9\++$Ag@Ka+'>nK}BHQltub_WKuxkKjlW%,@z
f1N_!O|p8$czwXO2;WuoC?qzQpg>45477\NH~R$	z\<_?Q&c)~+Gvwwi*w*EJFbI^a Ep8,K0d2acclg?xYSE1R(fw-@%1	B9;_B?g0_`0`s{hDRJ,|K_'Hp.u&G *Kf<i(<-<
Wpgo=;x2wyv!]-	 E
(V+LUJIf5i({3P%w{y(RJ9/.`-[Jl;YLY!#Ms[w@XvYkY[WpQKzdi`3k)
f#<Sp8tF) ew}\v_CQU<D UK-/<V5F>|]|^=q]._=lcKW.+K]Y[:;+(*4C/moJJ,z=|8bjan9I=]TYN`aCD2u68_{	{{\<@RWW$-Mc{."(+tc!Pi;"-XEZZ.R{>]m_UTTEES52*+._azop YTUA+@rtxxb9g1"$"( ?~7xw{|j@kWhmbA~	K(h*B,KT;;\b6?|s:.Y!@@H1sAPbNgENXM Qscgioo."(kHx
f3||@1CkV4xs_}^|H7qEug=c M3XXKFHPr7 q)KWw_X}:IO
<e)ns9I,#A%$qGI@Q4u_'y#
u+Wm)cN9,jT2MCf;KawKQ)]Z606WAh	\4TU<c:O<X,m4qWTyeYRB83r    IDAT)bKBk"X!PL!#HFArRu''C.??P0DJh["LyXI(CpdUU4 Ja`6dG*P5 ptS6 %aP9QMCch=z=aAR~Zo?Wzs~5ME%aLSM}_G6~^|}FB{^r_k-uhttARwS%}4;J-WH@vc^:n.~0	YIs`Lrbww*,
,(-(JN*` 	#!B]t%1J<u[{'-c1u(gy^cZZv{
*wMMuCS.?Xx (!}/P(Rz=,EU`0@8>>&<E`LSE)G h<@8OoX'.'>BX li4q"#c B3F^=[+u!i.Fm4"I}Km-WzZW$U]iPa]fp"F)#I)	mTLd4d)Zkzypz{E"c(c*u6!}k"zm%hP
(d
j
@JL:@+3XuC%ZXx{*h!u"yC5[KcK)n <%ZoLtM8rv8TvdV){9A?1mZ
Tv~:Y,aW(MJ),)2pQuSjjjSae,W.\@A? L#Vz	EQE!q8$ZQP!9a"RaDg`Li(n9tu=SU<9WVMHPUUjR bEL-#0%^bY^Vl4eA>mE@(G?Q;1iJ:8qN20 chtikkt-^];Nu/h]u.! _l#u_Sa=4wWRS[`VUwHog"O;OlP\0	Aazwq:ptZA;/myue@ V~nS-~H cG\xw=;lt2pp=Lh)nkkE )]\%|S'BiTwJSzn]WK}uu81X^~g+ho4#
C
=^YNEh%}4'{B].O]rEI
(DA|?[7UH!6@A6h !m`aHSu3NXT!}q<lqL,WuYExY]6^Uk$!N"u%T
Nxx
(!"@P{Yg	!GJ)fE'^Jd$`0r
^'{qb
	CEiVjK*eQ)ek* Vl,B`8G@0(KS%dUU,N<%AT_~x}Eu7B~zaZP<4yG[X'-D
""L|t!e	1
P#fvMy6n*aT%m&dw1PIWm])QY
IUUhScAn5eYS'b F+DWt7I_>f91|xf){@]j:1+T#u/+u(
$fooMn+Ww[tXssQUwPzDa 6A)~-($n?M^RQFSC%\)h.R4Xpa1#z>vm6+ig|;bt"]EwbO.%9us6E^NR)'phx].Q6Yerj~Ukr<qEANVF%!Ey5MciLMUd Bm*9m=% a>g\SG)IQd`Y6Ia>Q?qet8S\FpsDu}
cFul/0-zGnnN:U(Q+5Pj),*e!
uG:WS	)+m6Tm.>8_FA[8Txq]r)et]4))h
-6g*8}4]!h)PVF+u8>>=a])t{]n'34M]Wz4P<7r^9ZYusAtJ)D{H=T0N[F1]J6zcy]Y\.g6B[ AmMG.nH
q8Ufe7t_`yDGZ&=0X)**SDkH$Q(B]_G	'3$zn]+]q%PR|>kAs\.OE>EsJ*j8VVb{b(jEQEt
uC^ey^UN:T823YVllf)xq/(ni88B{'8;ap`qy{X%QFQ)-*/@u)8OTq@Hv!\v0Sn_oZ'%X\+ J|#y;U]	QR!iJKDK`pd=w\tfq<"d{!phuPn@CZye|u+5t'JZ;CSE<B;%N68z,ysRl.d<wrWUY9EXI]P:e8A6wz^viA/c9yhnjzI>w@HZ!m,1d3
B!jLX#D`{@$EEcCb^N;: IzeN#sU[5U(PB
nzaGXy\Q+z}:d*]]f0tN'4-$|w$3tbQR YvHC^4a2| 
7^D4UM%viZ?&MSk%1~@kz[TEFVa	r;|q:88 2^2\Y#(P^Gkj=C)%Qu
o:h,K677YV/?v4h$(Uo|ddEPy~icck3'`ccd2 .OGH5>
Hk:A,Zk{s
j(Hr:&uk
Zk)b_su#O+?Tfe8va[h48{Ov9=c%.!8IphI2GKrAGm6;b`4Fvhj$iZ$q_s.iZk6q`TGx%fzBw>TJKzhICJ!dwW3I|tdD9>(WFq/sc;*s0lmmb2X,16B
B!on PY\k./]'(doen<67([G4JaFn_<ZE]d2qwUd4uP];q
pdrIGhBZdqNivH&$WE=d2c<Sa3H.]jMU%	d*0TQ/!
lnocf  [$='V5u7# l ;2dss(W);/0N-{^vB=	o|Zxntx!~fYC`7j\mJ7t.H:0Q5Ac5 I2Lxq)Z9z'qUlM>^S48E{]_c_ucSUvKpDmW._c\[V+<wIX%vXsW{nIG7Xcvyw/^$2 pFahTt]],sy S==mnAUU} a2]P5R	V9c*\5R-#;O^(oBNKTy}{{u:.Nsgoomlln)z9lCE!x;>Ih4rVscn8~RQg?#M01Xd] 4//=;N^xf./wh]92_ud M&	HNtTR8a_9'wrC ,A\Q;w3QIF]b)esI'awZ7?k[`%qK.y'\)|>>,[SB7{!o<c7ju]x4N;ADWmj=-$A<]n#`>8y)xA38uMfyT$I:T)EK:Zf38h|*/~_v1:l\';)C+s?^rlllu.OA]zYuF{K$	UU1:VYx\.;)pHQaDQ&DwFXJI:g;\u]0,v/PS;QW6f]~eYt^6i[,byL=pdIiqukzyX
X\-ah<Yx\9^$q@HQw\]glic/gTt10A*]t:"Y9r7R^oyry{xW8>>f>sS\w(K^!Uj)]~7$s!,:DKc4Me`e\zHH4Nx0OZk39b1*9y+lS^JEyTD=Vy1xn}bL;)kuaRN b~]I&\\?^z+n#TvJ|29I"HAik*IGVB 1cN6:w	bsq97Z%y#:9::b0tntaRXo
FlmtWx~l)%<HO>C]^9:$I:y e] Tk0U@pdW,.'+Hjg*	
91.PE<g\1wJMm,jyBFOj?u]Kk;APRLEI_T:rz~Ka~!mvemA$Q	$e8a{{kNA|jo<P]OA1B!h4rvgs|FQ'~=<ZN] w~4.ag9,k'7vvhb0R# @Cc	P;ggN4MezyF\kv5v)= -h*|(F
I'H	J5q3hDQ
FMQ<e=0{gW&}}?q*4\mRc-*]Zzx)	ZkJl?QLUZ2E0l;#fn> "%e*X>t]>U)9|v~8E0;>(EbD&F8Z:I
L:bp:"B4SpNG'Fm2%izE_3;%",L#F	z|#nsPE!YQ]C""XYpa
u:0=a8ZU5*lonw2}ynj'8-p8:Rb<+k1Fv"kN-L#/
aYb.+c\EQGDNn#j#wlVwBVk'@h(B&8x/(
p~-Z1vl8Ie=r4g<#v(#LG|uA	
OXW\X8O0jDqf$C?8(f,y)G()EDAM4SHQiiW1May?K u|aq"hM9If`btm(oghc0bO$I|*raEgpRH<4i:p)u$Qn',8a(9;B$sO?+ru@DEg P&k6`TZ28FlzJ'|5-3/$:FL1>yY* @C28@I|.CF1t;q slv831*e_5FiFvYtY6C	CXGBO2|EQxhrx9ODYBA:WP+n$F#?5Hv=kb1*]#3lMw?l`fd4NIV Xfur,1@>zaWwLNO)fc=W~FQ0\=Qno6cPJl@HI!AVDZwrK6O+V-z;"2	3~?@UMwNwICZJh.mR
1NcDB|:'vH
R>-
    IDAT?VI"NRi$5ii&tn0c*LG$n\m%E'
FG8nFwiq5Hj>b;j*L&z:rFEi)td-;\$l:2H]+"+t,/p-+Og,+Ib6'BpBx(LeQ>Jdfr2e`,>5<iB$k]KDOnnnp:^p{s'[u-0vPbDS[j-4COl6{U!3f]/I;j;GGEk0K<!0p]5}KBk;u;');,E^jq\|p#LZivMc x<JOQYaftb@[4M$0_.a{ni1Bd4*DJ?Lm0hP&0M#SjFduk%epI,+wK;Y=a0?;/W&fEtA#0^ lZco^dj[u% m	~4vblr`I3b`:F#B870b\AkI`Gi*#9G
gst"y[;'|Yu1ZCB" 
/k8F'o_ayk0,
G]$`G:W~Xk7Nx1!)!*BF$IFNi&p	N'(
e)"mYoQ^+wGu<</\7~2!h@M{'J'lEdFe]=n[Ek$v(F1a>+Q%noo	WCi|b6pb~~I"k1.o]?`oLnl)q>K]o-5qf4n mi8~cgq8*;!u %gh/~&NML2;f;a_&AzjgIbpu@1f:[K9oqw<qS/a0Mc}JXnebdu]aZs[m~#@;=Pk-Ya-$FZ5Ph[0K%;9%h]Mhc`J\-}s}{CKhc8PAkEf=BT J!,Hs>}QI#~vZ7<+rSDD02bM#5)H.H&->aQ 4$k6gG>.=,EVd2#eB#K}/=(xWJNL=!l,"SXTut	hGAdLjEPHi#FgI;Z}J+t}qT)0b$4Zk[?	1}? ry^z-_5e?Lch%PP<"t]t_jkq)PI8|<)k@ 5`90{=N	B</f9<OoK|0JK .bJcps\s?g\zf Q` A;HFsu@AeHeUf]$)X.WvQz~bt\aaQ55l/S+ L!NOgDn!_rFx(_X"P^3	bSvq 4(C!6F;G-< f;f"a)!4t,~B3A(>r#DXUYZ7H	y;tma:.fql=Bi(aa+?k>}qiB 4:};KVMnjzgi#EI:w/>>hy#2SO4h]o !lneN(mt=Ce!rD&F8/]?`?0"E>JlhQ!NUHf]V Bfe!P9j{hk3uG@VO=:@!AYg-12,8Xo7eU6c0BbPJ$t;"Xd-(
TU!8y!$9&Dm?Ydp!M3NGmkh`Lmw-Nw6aSY+uY$/fDP`v^rq6NUeYmGC@=M'Q\Bj9t>}3&`8B6}b$FYy_34E]qu#M?I!2_x1m	J)_|"]u1dhi\,6-fy.~Re]#3D`^a6]W!:X=Zt_	T|1dAGoMm='7CvEwK,ISW9S5sBh04ZklnnaMi;,WkO':B?Hcl&&MSOm#>}V#Rc]dI<1lN BX,(phtl Qw{ka$	%^^^1ha6=eA+"{cI%{0DvHeU!R\+"G.&yDNZttao[ \USH?/d3,;,K-xhf,Zk1?qCJQ<an6OZ8oc7ajOAEq#l$DG!,.?rGC	$Ih@pw7_P92._b(}qD7lP54
MYZ#V:Dnpu@&#.+$Y,\FDHxV0)$0S	Z1ZiQ$9220
'?zFQHLy&SP55.se)qGu,"CGQ@yfu0`y|)vh[kN"rDGB^N2:l^9#i&4IGf9,0%lNx('K)_4}P:%DjhqaKU:.P%si}nC?23Ac3,2RJ!s5^ 3t8M3#F0
R#xCPz"HG>MN(RZ:Vm[,L/Cd57Nxyyu~G3m}Y"0l4f$I8@U^Q9$Fl"}kVeB0&R7Io`M]f86v@]WhiO?|9>t>"/2@tC(B&I<[Q%2}$-SeY,\K}kYAV}I9[g9w-a0RN)9we~*Je~Z>!c(>@fJBCNqB q(uN.%91UxgAfD;&5ClK}zzp*$-04Fm1HhZ.E$1=@9'?4Vrhlm3P1IKi,l|+!X~Cr~TV}\}"RBY$EkY#$vTR^?@+#0d80iWC2Bq\X8K'<&6zp2*/q#O3i**Elfd1 *G;k-F*PUfD[/b&u&G/IQ!HzaV^k59V(]@ii9_"y
kGq,1=GdLLrdL*Gk #"aw!a"+Wb%s$>Qtv*A2h;ejkKpgF"(`o[8N>,FJ#,xq"J(u!8dV
jAGFdZ5M 2G->n*45FY^W#c>C$$
yN'RYQNvaHbrIA`M2K[wfAB|?NY%)%%VU[kh;HI,|k A}bt`c08{|}hEQ |#q{H)"3`#,3eYk <0k-"]s<.$F/Ly4j]z}^(3KakqJNk%gp0kx0ok`Hr>!b-,A0i"",Wm]^#;qxRpQP965r@>R^lM:V%L"%)HpeFu0q,Z"KS`]/ju;9Ag?g\O<;2nf]+P
x'y%= 7z*1vQ|9K3!i-=& K\Ng+>m$Npww8MnN'_dt`f'T#(#gq-Tm+fCV"^t4|<_}5taY ~&)AfPJm;#Ksv{k>*{6MAGnBaJt
JF' ?!%p2K7:\]B\EA[Ql|wD4M_e#Dy.u]b#tWm:j/wfBXqj*sww903cGWHk@cT!Q$\.ZX7tyc>_	 4U^!)w	{`"ln@q: 6	AAtzi kfu!02ploni-7lQO?c1_luVv Am#
W+ZC,0*mS-;r Xj\<9Obb1wFz~V_K;cf~(N]n7aUu]{pId4.n uZOitNk0/s}c"a&VISaQx~~:#5vG^XKg}1{^/gR_pf`W-cA4h3dq0 +A%Nf@e))kg 8; e3B~ 8;TJTa&YkVYCGmw>.qD:R`U8aO9Z.{^{^4]V%${pku0@y
BXo0Wjr#NK@R1:l/N0iX[Y188c,FpvIHhiM^.x{?ln6R)'NG{k?=#"aX`#22r04!J?s`4W96Pd4,8qga4= uF HQdA&sIL4z[l#*( ?OhUf0
a
]
/.Gtume(i]b6#N9G=RJxBR[82wE&#gCDEj|<O6dI]q+dX{g 4NxXcAv;=Pu,#Pd4m2aB8lH  NgS0Z(,`bT*#fzC?-8"2@6l=]:8MpMYwh%2<>>b6w,tRb-d4{tiExA$F|).y#MrO,+#vU>jh(0L_^^x^>Nk3E2j&)l[-nZ=NNdt%%g37Zw888N=^|>|r	 !<cbc)Zky!dipFeAOx^=uB2_Cb CjQ+&LxN>zrkL WG
R
U3"vfzh	.vH
	z~U8uLO:eptHb4eYz[!-u"\HJ_
!RB4N	:|n:5)G|>3RF@)3$2!llr&8tJa',TE oZiz>:I:#l_pI<6c_`Evp|&@?L=E,+LJq%,nnsuU8n9\\'hh<(\{PgK95,4%u?1mZ7M|+#FNlZENJ&0Tcn#ku@D0j0dAXy?7ft3NL(i;r'i"3JKF\%*i\
I;XoRTK8f~"lWF)}%>2Nd4W4u4W4rB:L?]A>@l}m2fx9WYTXxV#N~~Q=0
sb;Dxyy"DQQzbE1~@vHN+I!S(c 	QW'2D:2FLlN.Hk7S(j#8t`{u2XaUD250 D1dgzSj#(v+tJhC?p'u    IDAT`qZf. Iq,7N@a5O]^%=Av"=|2=,i31/cDe$O9T
;?*hg2>VDD|1JV^offmFq
mbMcf81(%t0ChbEQ|LZ?:}P
=,8` |CB$UB4p{$pX.EQH1i	vF(7s\-'e^4 )&)C8;t;{K8*w@,pFL:|G0`^X,c<W~j";BHMl^tDGM$\01{dfa=dZY>!Egln^};9:,llyyIggYlLlpiB@C.zS>OSU5[VUvjIl[B3(J)O1M 3]^=MSN'(bJip)'A}r(g:]^2?'
8J:!QTjF6BFk_+Av.D)dBY,xx,q8v_^ps$
TUdIq-T,;4|6GddSL}/p]C+yD|&rcA Dy`0IE6UX4n{	h[GR').eU#nd
y
 Rdq &@tpB?28
4*l qtTCc")<6AE>	kvB"Cw|'}(l[GoDo @Cc^0`ID'gl=d17v9j	m-.9$\.Fd V/:t:|}?C07:t-\ N'$Vtf)"0{b}K4pI"Eq=|YAT2;dmj%{P3^
[E~@*J)HRyLdtO809`.Fy{OG}#3fo///xyyo6_d`F"FYo:A6 8X3Z|-Ld<} "!Rq>_1=f?5oZ{HYjr|IzPYc$TXm?O?xoi@QBA.i?\Bh	,K?.J"4_]H=fvI:u3oC_V2pj	m?#^=^}+ hBCIjGWu
eO%y p*}ntefFGS_/c`Df43YCO2<7fa[I6M {LL9	B+ma U)I@h:=D]S!@e?O+>R94B40X,kl6Y4gQ<q>_i'T)t B!3e4	LBDJ{y.7N@o>jo=v|g<>>bGo P/? ws~Bb:D1A 13`#n+6+dio}G](%>~Qg&l~Oc+>~$wQ "NF2Qo?GmaLDwK}hmPud-)c6Scq 4uM [Ntp{1^W_/d%I"}YrzukIy;_zFg5-XQxn	30,;dgeP	Nh6XH`p3L0!f |pf5|/v,3t| T0/\y@vHi$(Tc)_eX5Y~5w^E[x~~d>pFdY{z/iq!i<00,Ft0S%dAC:<FH
FaoX5tF5f@2,GVxOG'@~{z__QooN#>~o#GQh#{Eww?ob>0!jc"'CnP$
(Vb[<<-_^0/`M|v7w~/P~nl{eh*5_i?>0\1Wf]ozXK"GgB#;FA##g23
1FRJ]Z7cs3gGoX|EQ k"Q8~* @I}8&VpzI tNA63>-#}`;?:BvH;xqB:'hzy<>>r	k	 3Q-t|i=>S:a-V+n0_,9$+4q*pC7,,GSHC^qoaG"#l0	Ty2o),^J1u?/-$dM9xx1|ip:*A8C%`HG&N0Ba10@M2ZZYb#J;({kY"Nb|'V+Kg qc9_},6j|#(8Zd'GOGy_c"-HW<~~_`a>:2Fc9hI}({i/.L}67
OHP.R~ 2\NgOR~[xGTFn7BX.FouNPtX{xxlFk
!Mrf3;/k'5}9%>,p$	VN0M,%USNWtT|H'*):+a@MfaN>7>c=J 9(S#*Im_vgr^1c^C'vm[4mr!^bZ&/vw#u3bOXd(+vqa^!c4/AxFgFoEec,k1;##*# mBFkK4Mc
g@n*f	$gY6)v\(Q}?CCwFjs ~	o-Wi7v/@&K9G'}cNg?GElw;n1Z VHm<f(PU7Gw(KgXa1yT C0)[l?B4d0dCf,YRly8Nh	-WPA8z+$"~7l[v;_> +@z6=5l(2"0j"^	R8 m2,wnr>	T(fyErAq4c@ m'gi;F'9!_|DD0830_ggd/	 /{Q#
MC9:udbvuGTD:FRK=i!~N;Xp\ HzxxC!%~<	4d3EQ0cDr9 DB$|o*Vu  FYZ4fHR\ZZ/wl65wwwxxs//Gx)+^v]$Zc\X,PW-bzrcO?oz$QI2s*jj@U*bDfn`Rd9$YDuR?O(Ytb 0(XlmPM`6@{
FOPr1o3R$0Z,!{2!v,$o5q3
ajBa ZF8j `:{V, ?BfB8*%#x')d,2z0=X/W9d_~SG;I]'Y)0 v
\.zSE}&nL9NzL_RN6@&:F$	X1vZ=l"+7op^#kjaVD\'n=rRKEs{}P%b^=dWWXM$dPytLC2 O+6.wk-1[QYm[cqcj\-y4u%#0(f%FP-6oa.E(32.)_v8HLnheY#N/PZlScXcFDQ,}[<"r,<z1n\EkEZ_os\ q$4TZaf~w# `l)pFluRitZVL@ex~~2MgP07=2CA}Gtsh*?l67sZmj"iWut<?2sn&	lh3iM] KLD{8
'gSDx>{H(g:!Ic(B.=91JBG#yZlJi_QU95AH.Hu]cZp8|>{8"E~614M|<=u)|h@[yT
??/LVHxt JgF)Xf///[Y;Ab"V1hqc,0xzZU,vsbGm$q5(ox?_E0&[Wk(pag%hhMD\9fhEQ4ywr4S{hZ7@%[it]a1u^@8TZf\Gf34M>x`4t$ua32+D ^d(:1u$'	Z_Vx~~?Qyq8pf4X,gqe_F	9CmLi~i:tC:_09kJ)p$mBhs	7<@i?uv;FS`=F*!\#Tn<.9iz:2_>$ +(~GxatE5$!G!)n53[UO)dAE$2d+(<?Ba_fU-tNI|xu(MSb>fmyE$C:K1X`s??{<?`	?g?]_*gg2GGH=N/WzG;aJ<O]A{rOVJoZ`Fy9X,px9?t4G4dp0sds~Pva|kS 0!8QqK'3`BRJH"3' xP4'+!q4u[!JAGh>sX`D&=vF4$W 7z_S,hhHWz 7<GB ?u0RN'3n(0gVm4M4KFG1!;f#3z_-
zG]kE!x||zL"/VJ f2=1&Ga$?)!j\$A't$qHlq)aD.a15N*X	x)+uaA88vH77/  s?e)w	E7_^v{`6Q$AY?Q$-Dwqb?}78
D%E~_3?AM~@}U~Y?m	~b-#$F'j3c]i8F!43mBbYa70!<K83e"itt~&S(+npQN'_aD^,NC:,Hgq 8S{OP4W:~wq&3qHj53uI=:}gec]>	"G)l#t$RL$l1d]hGdY`a9??~JG:rK(nW:h|1~YgRd-KDnmhF	xf;Th6LY$CbS@BlV)rAh!e
4jLffG46I%v#Fy!#KO't$CUY;{v;?}aZx,O>aYx,FJV"P
k{D]W
/ 8O?D?Hm#PV3Fc7hm{Xy\/n7"XZT.Nd}T-3t,?;)t:*_
I>A,1x!=Evf9LN><<2>#H},$2JLFWm`VxCcp'sn{bms,lAau;IX	!uk#6I^-K_bZZf2"}oW1I}]b{s$^Fy<C"~Xm$-^$IO/m~`-`GYm4I*c$E1_,P]2{M[~&6!fFr 7x
.%MoeZ9&7LPW@fpdCFa-4J}	x=BAaeiXLaTY, ;bV"CUD9Pp0M#-rfsV
o=`\;(fs9V5`^^^I"N    IDAT7ops86Gwwwxz-hlo\.CV9>@)O1XaZo>t|>GfaYjazo?|E8e"IbW;dy@hZiX,c|@^R#\[2N8ky8#8YC!N$aFSYaY:4B`@N,g HDk7F% 5M3=aZE8udT0_#:yf	ls4:THn-JX
itPk6;m,  KGQP5#~:Q8\$X!|5jNJ>'f#<92}EQ Dq&E0hR2:Lc?2"?y*0\+)XNP(BE,,hYP&
_"$2 ZW4"'e#dm,.q{ 8vQ4MvoU}cAoo'kKO,+|	Nd]D`T;`DOOx||DhWKe%evp}"Ycru"R@vf~rFx$q
0Hm[3[,\.3aZ"&as9q\;oe4'TX,V&wNgePHco6W?3;	=Cf `[(QvFY8UUyI#|wUlI/=frAg~/j>K~\5m8ifh3rx,` F^%7@Vdx<gHZss}vtCW8~0PD7iyN:#,hbi.3Zh(YH71FXdWFp3{b%8)MqNuEi\}kC,3iDh=w8hY4g$1(-G]mc^?v;l6$nkwPJzz_/$3HQ>`ANw"Hm.gln1u X;Ml{|tgY868EQ@GXG2A#hCh=PO3R>&4NC:2C7_#DKC!R@[h/=lF:8_N[T9^2Q)t(lv ^waeY65A]9p!p|h;~3H|%wd1~J'4Zk. 0/[{'G;,l_Hz`d>\8MS|
_ BdUFZdd[4CmLuaDwNodlHu?`ht<"ZRJ$g"d0[^d"j/Cf1W0b5d0 =$C:~wAfy{P}7e<	/g)[
QPf 1"3ieIv"|M9g]bSddH&e!C0(]`7ZnjvUg9qVx//8{X{C"9h&Pupzd2rs7+[g,Y/{CD~8 S4%&iWE#b  $_Q= ''[QD!n?v02RJ	RJslr4=QpX;:4 Q'-Rh
&MJ0!@i4;k7X!UB)zPe]9@.6<$6Rqr@)ex4zC`	Xr9.Pqp#m!~4z^&BF##\`6#n5'BdY&I>D|{/?\\\vodF6y0+#"{LS'E3MSukmD1,E*;?;Nc/ \O>+I"I2Y$p4Rbwic~	 Gh D75R]0jQpa`| `4:GC~AMhF!TZftLUh"~Cy_88^hxTkjnMGM.}'wR-0@<	('1$L2hmvET=l;z}E `	<y4 /
Ybm|40 zv#"s<{?5Ug#Rx1	C7_#?t2.ZUG8;=$}l!a{L8)
CGBS7:h&Ce~@UHV U0ZwE`^Gc$I&dpUYc<3:?	~?",xqcvY0|2{jhYRb8FgL4y:Y/YMP wC7@{	wsYmMe?.9N[~10~aG	Qba,s<_~,tPY"\$BR1[:^N*CB@szzvY[x')$qQe.;0I,e]}8'1=Ce^Mq~2~%@!1#<f8V|
ags=(S "ObG1KfV$Q Q)^WFb-(Bj$q| DFYCV%4E/!NRdYy^`4x#is<z?who@7F%mZA6YYc,Nf)	0d29 aub1	=>90-.//a%	D{qzG. !{l[@toAw-
m@Ai EG$Z'uJ>{,*Daj;t0ZAOI)!qj+3~Z f#EE|4?& 0&bfdf&~A%llni;x fiX<`'7.	eIQd}+wdA2h4rjrH>_92pAnF{Jg!5[EV49N[q$_[qhB5<Fv	t%DDa|A'"4hTCV@G)mPje)a(rY_!!	Q5L~v F)>}NxYT2#4(l(ei4;k"GH4p8:;;C$x,'xF1.=-{y	eJ0=Tu@h++H$m(jpwzf!#+@)dlv;;\'Jp$c e8Kqv~GX
i Il` UY,M{6D Cx4D <}G@l;NUk FuU0B@i`5 1d3 u~@DFx:~O|R
0-"guA?,ydv[+&
+K \sz<3Qf|?@z]V5zm5pk_(26=JO`@uy>7aNaYY) {~)YM408s:Os
ZSc7gh@4j*[ 28:!c @	'Q#G#@j
B6|hiWnv0DI+z$6Z5cfj<7C$7V
qkrZE3$nIr>zJNVh!vq z+uQ0n7|z/}4"Ft50NmV5ZB(op}cvp@nDjCYV"@X.WxwK,oc!X,1N!^oe=<{xQCMma@KA[DA!QB 9P.1n`1@Q4Afah+]mBHBs48;4i3Mv73h\3i4yqgW2o?>shRwyml?ftt<Cp~~[-Ik.`!UF; =8ApdBe N-md}De,D[0	udaEQ _~;EA 'o[b6#I\Qhc!_JqY{lXazQ|&?bi5)?3?B IK]9K>Ki3S!$u;$:<<{azImJ$_ >`:gd#mpuu+PU%A@2wKDA09N-@cmZh!@QaUUc\!4A'X.W@$
woP5=8E CRFhp0@(T]v~(B)C6jl;i(bTEH[SSZ- 0%xMB{d"^UU##M(}uU#M(D^59BYF?L;bf}2pT2Pcs14&w^ qu=MA[D{Dt2_ P0m98,|@FyY1X`0)/53A+@P.+'F}kq2)L*+36:z G?{qc0s1g,7aP(2@(m*
2:iaz=sQ|0za?9R,>fO|<|ggf>cB9Q*_c";v623u@k;p0tUU#YvESZMeX,N.ops{R[MFih mPe`kO]dm`qADA?CgCb!t2jvf5
2RumGW61A U1cX@]mwiA cLr-DCB)2XZ(A;_C=jvFcMsZ9R	f}"2H 903)q_gz{9IP) pGNs$"%]#t9PB sbGj'@ Gq]%>O\\kw3:6&V|Gqrs[ryY @Ecfg\pe{Iw8F 8Q ^i!))6(K)N^h>99x8AQq9A-CqC>2d
3WFA>hEv{/:8:P;2{|##`vt.RJ0Z}ldIvzt#q(L?ku"/u"MtbC2c`XM(mX[W{6`V9$b2ilE)uvbsdUa5[caZGuyV)Tloj QTvu,! 44&xQ(Ea4
}$!2a4Lc3V5Q
Q5-F6 Eg<"y$h4rA'!$OiCf|>k<Y2,|8^k@k bpwr?gv	S@Ebfqba;!l}=Rpmk@p-m#Nm 8{Dx]F=]P DwQO5M290&eQba<a0*enH!F^O'GoRoXa@|#fh9XR_cy;)1.1V4wB!xyOY-YUDa0`UH	!Fe$puy<eD.KSB]UHq a( @K m[;VF+n;oA@Q75 PJ r$H	PFmDGkQ4
Q65 D($Tx@ eYC6B^H=,]VTkjKGNn"}NK$^>qasOvs= M4P|o~'Q
VXeGUu\{3De|_gmg)%nxN)gJ#9XUst3gvNS3=
|kZ(OZQJMuyZ!DdhA_4O~v;+GTJ+-C$:zaGFhMk_q::(8~F|NhTs(
 1wF9u6> n&H Hg*M:FCA}H$~C4J9=na aN  Ev')PuG0LI@!j[di)P"
hno#40BGi 0v3
BhuJ?d !)DQ@#R
1j;XA3@IhaBXj;kM@7-PKHc  atY"KRK%dD^t8MF A(J-f
e]jl;1Y2Go*L@+w)4ZACGq_es"W:X%O7I\xX7D*sOHbfHE7
a	.F@L 0ZYV
a9+qOY|?:m"E>lI_M_k_>T
    IDAT'A!D2-	'\R.s
eQXM.SSsFi(b>[?{;[lB}BLS	;p8 it]+f4M'kIzi6_D+Y6?=<AtE5g&':_JP(
E|\9
[Qqh0_,$e{	h$K:*w/?xi0F.Mat ?nHe{+[e)JAH(Q%81Z4m0m;Sm-;[hy4pteI,E5%;hh#M8*Q5 E)XA@v;(eI)a,%)PzYpZOMk'`^##g~RCAu>ggjN@EFcokdmY"jf>jD!*u|OAf],S{2K3Bzu<WI+$zY4(J8}tj??92h 00L`^$<L:2%Yn.>0H}X&pY;d/C BaO.nBy}&I5NvZX.(0Q6
<tc)V KS
Alk4E('xK=>CY]B7
@ga,R`\ YaZ[j5=Gx<J2@Gc2uh
Z+|0`1:b C u 5tYXeqO>qRBuUK1LpyshlzdbBnhH#h;@"wMqwf69
F2|G
RDA='M+ P%d`34NPUh4PhFl66kTVGwiV5^ <~cU#ni0C6 IH[\V./2v?3Ggc:3K()%#gd$~t w]eVY:8?m>^>Lik%fsmkaLB	GeVFk;aF&PMc4nnm)JaX31QtigMc;;=4""8-0biBXtc-[wf,1UBE~6t3 |_;4G)-rS~,|gr`HRF#AN
1^p3.z-4t	#$%4$`4@VZ	Y9>xxF+LL&cva[#ca4 S=LV+~M" A`38%(m/U H'DqOBN~nC;|!9
]/ .m'!ioz
/_DQt{%/RJ<y(ltZ=Yc\]]K5.1;@U:*3?Xnea+tw}QdS Pu.8fm>H#gh4 IBV
x>,{1 k!a)qPcsDA5Mo^;^ 60` ;Yk!	MRt>lh:{'iQ7v>;Y$QcD tJ~a[CDir	#,Bz" I#/QuNQ"Lkq#{2S(ZU6N2A hv.H(-%+. 7$:#38"g,R[x/p9*u)B0*bg>&q~67d(lJ@CA !ZIJ~fctG90	p$2og	^|h_px<`0	zZYf&h8qvv|yq@d8;?2/==u/n(
hcq|lPtcQhzp8?FGLfh|uQBcym[?~,Z_=[z[|,X
Y&M'#!$ c)AtTae;{+rI]3$<"7-@1NSlY]~-2__NHC%CM8T'MSTu$9>m0TC$ D>fWt~i5qgY]GU0P65~jQW<Z5{>a'%HH[f$1NN'H,z+yxdnmy tZnfK*DAgGGdnPFA|d#1(_3YWb	y9Ywd&9:Vm;`Q;-=sps477- USCSh	&	0wp }<}Y51tfA~`.nyp/_`
\^7x9fa\b? K{,c|;c6]<:CUwmw?x?yGQ%.r	~?|@Z7> $Ik<ygR]C`c_\ fiT5w7zX{c~~o^F8??zmeSQUbX`0p( he9i)'gqCl;t>
Tyvh$"7j~OhWm9
d0n~_u{k///;w}MdMz&	c	|RJ6
?bP NkIG@IA#sS~54u.*}PMs'06snkUUJi5za4D6m`1x++S`<#2Nwu$D @5:GZ+ V50o()Fw}ZwJJ'bL}w N~%RQ(!	Cp:nzUeR!/SnPA `&`"x	]T=4Q K|tZkb28Scb{7_)%)16w$tsrh;2udbmV%v@!^=zc;1Bn#3<}|nnnSO>[dYS_xKeFt^}O>aVpMcGk8qoCY=2
z5f$ r/Yh1n(^e899#C\__AVVPnsMi#okDi~zRl6sLYc`48z?vNOv1`FD{1] p$Qguzc2t`S>G7C	qi<5CsLVQRv e|>pX*{uO?)-	0l0
&B(9Ch8p{}>Qu1#Sd0y@}}TmG,0h[@K>I"DB*((eP~n	9'O0p}}.o~98O~gop{{+xf~]J M{^5WTUSA j~1v6Z#U	UUPfF^Rhtk*R{orSJ$I[eI144Pba^NfHsyy_6M"''hT7f1(eK4koqt2L}B$Y=9N2)`@-^s@m`[!cL&Q|`u.BF(l\j .N`>\3<[4ST:J5n3f[Qgg7llUklt
qthSQv'*0!gG;Io49:!aDho"h>PeYB$xl$bW_}<o1Tk 
uR20Ytc\<
y*, &JFD)eY:\: 0
eq>iib|.O-S&}>p3llD!K3w ,u;0H6:^~-~wVfT-2_G|n6-ooGs2H36>vWGuUYcZuF0N; @][cq,FHVx::<}X8##n[hcmY r(F(
7N.mLQ(VzAm5vlljw( Xm;Y9p7$3{p6G|_hufCSdo![RNZ;X5~~[aX`4ac8&I-ZcEr48J9\cl}bx<vP<.M1	Bb_h2E[W0EsZt2,9q5('>O;/lU0	DI  L3L'3au 2@_|`>d{QI`fB?nO(> DX0Zc1_X]@.3/?;azOhPJst)cr3"agF<~!;a8NQ8CN'AYPJc6egg1Zj*Tg9nooq{{?RH/ I7^c<"2E^`8l6EgxF	;XM;E(eO>E_+hm&`=./t1 lE8z0Mc.//m[nX`7zbh{CQk P&1?~([t x=.//qzv 3,35.h8Bn-Jm
;}g_j
$2jQFdm\Nf{
ooo^p72"{"*<>T5hl7kvcFI&t/e9u0 v,/*Ag)oZdhW}Sc`6<ql,vkJ{ffN"?Mv?G?w~_}kUt2gqu&](>lqE@>KL;xuh.,iNgg?hFxyJ"|xX77 (V{(5$t2&\^^Z9 
a8:BF#	kI>zw;!I4}&Iw8r\\c:77cI h[mvBAEx$n5B	4A[Y|y^b~:O[.mA>g[kQ5ifF]0F`1;-nh~CYhx@`:`>5]~p}|,Cs\__?noo-i!\.o[K?h8__pd8shopF0D#1_-G=xcX1lYSh4r8'b^#mG][N)d{h+x6AGHw? `<q}mSbM0i0@$0ka8H	i;a,c6lTj:"Im]e!B$/|<dYOgy,a&LD _	Qj4Ka
ca,a8}
@GHSTy2/P g=$6_@g(0C.cfS#+0g=@kI	?1jB z|
"/Iok0 9}1|3AQ0\.[cYBHq%z:l1]o<w+<}fm YChDY4el'' A ^+[SXu$I"TU9?!N!b(@jdZ2/5V+R1fE](}L~7J"BEuAdn={)%@g2>se-vvvD` +W7}A(zv;LSf3?z}h8&NZ8Fl/23G93x/upO~Aws$f~p$ZVhQU)!`@]Ml[GEu{_Tc?fGh53i {3i>[	k\Q9"!~K~&Q3+
uC_GR wQ~^fnvCHI ~]U(qD=a7l&&u]"GEY|EeAYUOgvxs>a~D!6_.{S,	A0G`(	XxmEd2JT@*S\XVm0M-j@6nl\FT5v,rpG9g[yw`mTyax_c4RJ}Sl)Z McTU&aawBpju]zPgx*!:2sQe]e[Yo    IDATZOOk#C(]I(l8==~{uIc B n/^ Fg1yNif3q"AgiQ7ljA3v;hLCwk'tG&(ly?rNBYJ8FZbb69M\7_,9A^O8V1
'k2]?L2!2~iSCKx$qct~hel3Z+u](vN|_??3~CQ_7AH4`4@ Dp@c(]j4JCI	idUulz^"J#4Q(?dUU3 ?rHp8t;uu:Yx@"Gg~p!AQ%x_&USDQctM4DUkwFoM7.cZxlvq^w!1wvC| pE?\.4>Byq2zTry|z."DhPBik<(
0qrd
h{mG8;9Ew]_PF+gOK9~_{IfW(
Pd\_Zu]Yi&}3xZ(:lQj@.rF1iLy"x` S?	R7HQ^K,X.X`uw$
PWlag(D vfF$jfR"Os{3]A~spJ|vdrlV>AK5^ BMEO~O??iaw[J'S$jj4Fu`(
hh68u|':F+W8==EUUGN	\Jyc@|h5f6~Z82GXnH2EgO=ewhtjQ[*Q0ITv]|ht:>C<?biI<fm4NOd4tl@bykV=@Q{H?L
Jk,K[j+Oe8E]PJ[-??^}^/Ej nHx<=SE.Yfq1" $zz_~G4h4oS>='OKVf]nM~9vc0M]3
gF~	,{'S q^RbZa<CJMei3P
@h
>e6|G:;Ry$CX6O,$)>[LWw`"$BV9
x5}u;R9}??)
+r~~,L&C-[dI
#4j2";F@U0@k{=Jrc!\olWh]OF,|."=X(3%FGH?| kcQLvB#2DWK9q3ylJG!@[Y5Skz
g(UUx54BqB`@#,'6].nhd:vFEsRVdxm6
M[/~0B~C[_";8kKQja2 RbYuAh4h4#EYVx(m\#e| 3L)R2tN5)'AF	R]0;'+D#^75h	<}"ZGxFz/{4xo	BD,g48?!mYO:mqss$Il}*o2d `<cE/j:o|Y$/BfI~"6CFQ-
AUibiT4MSAX8b<7?NFbbp[,.8P2*4S$<,gps5(ZkhuiZ2BZ&3dia#R>D`zCTEh#~DYX'LFPAUY6r^x'"x4ASNl^?OO>96UY,*4u;I(JEXAKpi$8JLz6 m<yg!MS||+UmZ\\vUmS4$fiqrr
6pVKg2g_UCT#aG&vg4~~ pVgnfX<OJ} ",fFQg#[VNIU)3g:tJ458C/9jt:Y{%8/G63yXJas KZp8\9V)AK %7VV {uD[L|aHK}Ax49Vd2q Co*FZ23*^n.aKB3?>myO=d2agx/NE+pss8Jw_>{w1Ns\~3T<#9~p8~GA<~O>GEa	3! rG T1bex3n[}#2n2/QVJa4Y'
xxwhi:b6Q3d(Q]_V`C5= 34\Q"lKq'!f>7$ 0#9phd2qoF"9Rh&~9{eU$	fEIYpOa f>b Zp?#>J5^RM=vps|0	r+Yw$G: ?3==&0<1U'<O775u\GS$I
)cj!aC a!Ic]#lS8wJ	Rl6LpX_X.1B#82?}n}I1|0nLm::EXLC^EUB@@+Q-PFWEGIiocY^3op*MBHAh
j
MWZB/BBz)H j,*f*2ia5&8"|xk;LZW`6#<veSmGY;!S$&+3L/qyQd`)>\R0fYqyy__GV{_.xI_g	 ;O1\=
m BSYbm_m&#eKG{=hu]!IbMi?xrmc\\\
,CXVg};8rcIa{Fen|CqVg{X8Gm ]q6e<w3p "dA}1k)`Mu6J&tvbhVWFy3"pC~pK[B#O6'@hx"]C$:~?Hff+{-<3x7D 
#A;=Z{C@Q50dks@@mA 1]K6`A[w,V+_v n5f$`oEMnLZpx30)TbEUb1?#"\\\@J~n;m  TvCSwPPWmOjAtKt

?`2?A@bu7o)nnaIkZ##l;cp8D	AYTx}dl Ny4c^cZauA23v}#l6N7~7p<]Y={>0&(En@Tsdi |rxvMO1p}s <{'pg~ oh56m?[mliT(-aN`M8462TyvT
4$1* WEb^;p8|UUNdw^;_vR:^X#=4?383D^OZz{}\}xujBw]`g`) d	[c_x<z~	www=hh3&C6^.1%J<9 m?;L's'{_7_,gn8lw]7H-fQ9|#G"xl:fwz|x<:2"=n;V!<w,$~a7~?M'K~n7"oOp?3A*/`zEFQ@i:o^{*PN'
.Yp@q,5|2u:%~[X!BK
_mg%/F'n<?~h4I?bC msW<&L_Hkq88BLTPB 
"9 $e#TVyY`2A{48k7}9jn#~)e_B!cBQ%jQ2!S2F8a<,Oe5MS7POX<4~o!I	vr=</|M6.$r|#=&9H;@A? c.`l`5 
4wL#RJ>Fs2n0QUEl0l pMAgFY~pn=5}m 9^(I&}&^QU	hMY,+0}V+,Gq#Es`|Rv,:
va3>,|Q\EvlTk=x3v!@a8tVi cFPt<Q)L
e=lw;](q`mpwEq<py@jdQ},Q{,Udg_y0k(l?3zklq]k%Vc}ZsMn<N{k,d+[zdY77E`}(~>u_+E3`}q1,uL+7*2Zcs\__#Cnl #=o&sWvRIYfV 2D	sg> psszpJ08?;3".3}:~;-faYQd`%S_P"_P%=AhO{,OlvH,3s^
(z)c9@.8WrNL}R(*e(G(
C-4H#l;#p_._<)3'n	$cR"R)GG"i*&]J NkR;5i]B;q4D?6?$AQWN(Do0C~PL>`#PUyhbF-uQPXwF e3iuqC$T+qMya{=H8>o>;#10F]w(
i.hILk\m~]99=mFc:|OqI|yaa :(NcN"E%,m_t rXV}%c	2A)<#	m1G.q_.sOf*_Q{':sXVV./~S._.-)C3 dgzn_V35G(
yL
H3PpSChcbOFM 	So|_hZ9qmS?b@mv
nT

I,*^IHu%Ok;qr|FC{$0BYHpN1A0&62 @BR 1}tu_Ia0X<'g 
zV[g,cF=lm(MStm 07'Ba  	lzJOmttt:jP55(0X|1CYTnAFy~t:gO4IW@=^62PRZecik)^	ICHt#&w4_\C@ 
#
vu#Rwk,sg3#Om"myaw)E^vn6#X9 .Kh=X"'+7G><Obgce7qPfVtd<2+ 6lP&	={2>vHa)_:?4"o|{/pi!.eFR??@n
s]g:1C=?#:	3s?Z?Qn16'qfS^B CB+Tt({	^ RQ9rSY{il^7)1xh"P 0@mRjZy0}G}7M)B@Hot:uU19]N8(a\h4P|Q`%QjI4Md7w2Ca+P4AUYh-~	K:c 4-fqHm?vVZ,80F`<5vU*MJH7k#V('[;ju]fQ'U)$8##kBqhQOq#C aP$>p\Ay}p
b# 7BN9\|Yx		H?RWfK7)hy;!~8?&3'Y]( HQ{g!0D
Q!~    IDAT aB'!|
#x"IZk\Xe2X8m
ABkF[
T/!u=NeFj|x IGQj@#}<B?Wd7s4J!N6_hG	r<8`k;\rtfEA///0Nq{{/p#4PdpO0{ @*}giy~tplQv3[12(?$z-p~FIjkd*pB\qf}4!z~[El/N[W8;[+amyBYJen%8[,qUMkYdYf :otg}eAh/YWa;2ct:88qtsd[_Cp9X.N_Jt]|1|SW@6AUx<^1qf6<s>IWvqg$u8! Q4=G=nO~<Y\s}V$~M_k@_9Un6TithM3MT><G-@*48qYR\_ggv^eeg3Qo"J)!=d7ci=KB L}Z6Dz9FK=LcNAa[4:/^6*54KH>!5VBp~mj TM"	caeY@JAH4:=`U ,^kW[dY4l~9Ct
abGgZ^u.#<Zn4A6P]H8M 0mP}u}0
B?nXAtFfYZ$l663ruol]	rORgkT88;;0LB?;z'R-Qh6_mrmg\~=':$dOUH[|~WMHd>1CX^F!k/(K-4"_6xo Zt=DVbsIC8w8`UN'gxvMoZBo wa7CU8R ]v.a`kR^>5V+'skqCfx2lg1Mt@#T.>oh
a#8_Q`e#<y53<}zsba"Uyd&3(2|.#. 6 h$Q0T8rLgsaQ-4ChALVp)7O |8]9AH}"(Kt!YlUiI"tA M>:g^%	q=I*>ggg=WkX,\=E! s<<|/SrM:2?1C1sdY'=?L5_eD<~={zh{H'zHu,0"O'Jc?@t;zz) qu@	dYm (]\\Xx(4CR.#0@:DnuF*m<ky.lw;&v{NgFi7 .&XPiQw 44$1!uY@v#q=>n?H",aOKyk*l2g|,1*T8'7w:t({G8??wR5(Sy 0i; @Us2oM"/W1C~v/\c,{=k D't,AQvgQ/  !h PNYBc:;	a-Fi'ctssB=Hil3PfuX.iB9x#o(,*f"p3`#KM)#L${&TI>UY0aI~?r1y{+:|,$p:21)7dl>zsr'fgj|<]6
m?Xu6,*M_9}id0Bv~g@j4]%r1M;`*P.|z"`PsmwvF`Cml=r3y7w>E>k2BsRJ7;'"=[qGQScHm[c\OMX[p7z3vjg4>	op{
i2B!>{mtWnZ`l6AW0AyZTyIH)a`Y\{>tJ(Sk#u-:QW18. 	B3i$R=?r+g(DQsQTD .8d:Pf]3;f=yc6 N%]Qv	lGYg@Gl3R
-e+!<~FqB7p1\~@}<@[kzm	%UUa28)|06kkWwNv7h[27bH{"!mDtsshxL ?J!7oy)in/2'7LyI4|nq<@$gOM2#^yz4
*pqBJ\9Q@e76EgY|yyB6#B@A(OqgX!>k~`|/_lvu~>g<){}}4` MS$6yl<yp~~$IZz>::LYfamhqqqX ^[8zlfpK)]^^  f~40&e<A0s^%p	MLy4W \fck\DU2T`O{-r!=@ogmwdr*]!;:
)m,iHZK)1j/d2q?fZ9eH")_JM!{vQbQzn)(F'MbATou! @4]9ytNM `v8q #gq]a.KduzJi[ b3gbxx4ueY#^*/_(kTm8QV "G61"?Com$=e`~da:Bk`l#pYRa-dpqq_~'KeW^auc4g s00g,!`M\A;^qMh4/m=iy4K1~N'C\^^1N -q		S yn	&Q?rqN'LgSeQ6{.yE^x/www]5Q7YaNFS!,DBEe8a]3f?#g[x-E^s7#9\#p}
z8<Ns-j/v$C=F~G Ntv.0>A~Vui,su(_-sZV61%	{Z(94EA:j4T@AAajeYb^;t:a1Bm5S~UM> S@u0haF?dd\>3F)0yM!NSLs)PvNFt": ?1q8P>xme 8M;Z
Q<2h4%%pwwB=\*>~a] k(Jf4[zS"C}Q??1TUtHJ7ZD'XgHB)hL,
_}3J	wqA!?31|}ZLm[G) xP0rnx<~ <@"-C/+IX.KQ
N8)>#:e9}"_pQ'tS}mm@cm"t'"g3|Hs~~"_Y }4o28~';gh09
]@B!P|h)(- j=Dw~Dc58z(E   @gL? h?3uj2H9%,L
4 UQ@ MS<H#|?&He|{avg%*GQ8R5WpgOq~~7P*U;TMWQa8J>C?6o zL}m,,e_a4~-;Qs8e.]?s>IiQ92\__#mx</)L2jUY.~O{]9hA&I%h,xX}H+(PQAY20z\g`AGJoW\81NTgrp>P(?18[<cr8l$ >Iq-^3eBW1B;zhONueOf8eY8GCS(
7t0t2LI}sFyk4:t0?7}4DJoI`dt<dVfTexfjQbm>@^XeVNy56un6x	F?`^}yYh \:-_g$yvvb1dQB#NBd}CNx<Z~!qjJu4Cmk4# ,c:	:=!|/^qpDh0]U:OtJ\+ufTkt@^5V3 vg^F;*>4	/3yB~Aya E=hV1X,gYt t,KL:hvg28d^0pA1Vor3i"tdKFT=Qf[(t
!'?	L7X3mgI)Y:,KLcTU ex<:x&K0wI){ZmCNg#RR=%if:0\R_G)$qHZ[QP)AW7{($0@UOHF)S[>9jq<9to///!ql6|pqE~"|q|zn#/8_{ d6dvbEbi7*
o1N0Yf{:k(ixGD.*_-d?(OjreEY+X:s\__?x`O);Id>2sug l)` xNk=bg5w5mU R1"&RMA:A/>agYDBpsC()<~d2qr>3TW-<~whq`
U#
UH~?4!#c(yG Q I"\^;	{87
$p,|8H>7ZLF`1q#Kpz[@I]i<NXXB*JGDGIg@y?9&wFRjjk}lp,rtu1n``/_6w<"D[UQt
z5rZLZ#cdcyG``('`{TH DF~\pfzh`9f\b6b4a]t:8;YK3 @6\4O]_~%...{%Ey qSBrb`A`,Re5:/N_;s}8f:r=[*65VpA{{h>6C
xm]C3ApKyv GR1)M24m@(jDavx,a/'0M%P V_s?0?LnQ4r ,+yBQ !00c70%EhrMU;mA9dsUUzL>o(mi[S;3l,0eNMhh$A8sHX$#3Ms;27PB 2uNh)GYTX68{o{t:cAe~j;9V8s(0AhR3GyODH'Cf3wi(8!{i{iq<]mI#^[f1yu-P7-pyy	)%noonX>d c|Z!I<Y.`q<?_&_b<vm!LB777x5,L>MlWBCd`Gesef=!}b ;4/Qx)^zt44"tA_/fY3m~"y~YgFk l[<p777n-m]*tka`'i_s8LR{qv)aIKX. 8m&uvvkS90F&(k4doS;:_''Xo\hr2<
ij#Nj<!")F>FCCo^fPERr4Cn:T	cE
XF-v5F8qz8WI);llq    IDATyy	!	k# em{e
:Uii 
l__=\__wL&CBwm:S|u&54tj?F)	7!{u!3]p(\, %JDxG|xnsu$I}O&Ll}(N92=npv
e]MB@}d(	]
 s]xaB5ABX9\3:^ pM$Eh1?RZ"7-Mrz`<-A;)k/M>c;3;9R~$2N~0q3b* "oV\3f @]Usy[{yl9?//vi8d~|siATj-TpRfy!u+C:#	8^+2c$m# A v6jm";z(#J~3t3r06B$|-.e1blAj(a[
=&cuert6C63 zyyOb8^k9v9wQXX+W[Ni!onu5zxm&;'-3d2vg=tr,CII"NQ'_O1{i~h5G5vFt-0(g2`n{@rx|oXJM?RVfITggg~k-~?cl;xOm}t|>0y<['#-$U_A
9R\FS7k;yRFQWCQI8	~r<N^7kngdmU>gmBo!FeJYQ&?6-8Apj(T0nFJ
M4RW-sp1hH,{w]0LgaBm5T !ej#P#-
JHhp@0BY9oOx0AYs,g4Q~ #Jt6Qab6!BTu]3\\\o^*l41OQU53x_u>b6'W /r?Gv^6z=mnjmKa/r|.>A_PA!"-`x9= 'O/(t>~xfO?}</'GGl7[eq6?{?b|ne%,$}pt:Ok<9_~7(_w_:umM'}	q:!^t\ofFCE tgE#@4EN)AG.H1U?8py/"s2Qy"0@tP@X"!nsji2l>AjyQ%Q75T6B?mmk_;};~IM HCjK!m`\o~sE(
P! T"L&SdIC)tZ( B1hlno*D]E#IB6[c;W'<finYJJnyy1M F8X1*pfnFj,&JZ(+QFMx_t:l6G]5F]7hll$I4kfx
W_aBJAD*D/>s|o^v1 H!#a:`@6tH7>kFGG}}vfV{UjVoA0 1NpsHgoZoN*T=ip'p<';B(
O>p6@U(
	9./rW/Pw6\db?8HL'sXs'j"\F)0*'1KJW:Py 0:t`{\FyG0C]( JR4u0!U4vIoEig;%9P'\A c	3tijHlFCS}ARH+?@n?4`YIia ,CiQ,~OvHuhc. Qk;LgS|PwN._u=4nNsl< 
z~!l6
J
mK/EcyI5NXJ	o:(AI@m50JFcy^"<noYM5cqyy?xzW>;Z,x_z;7<Rkm#BB		@wa`45UL0XSB#"];*+$BJ
"e]B.^ }{PP;#hag~GXoZx'W?^ B|k*4r^-3'g@_ zS#P^uY04-... {;M}=3<#:(Jc$pL\:?c`ukf6S5lg-G{@WJA
`J)N@Aw:*vEyC~B'v^PVJYaw8BJ@J@^JB `7d%1Y13 q0#V<yc^Uku*v"\'1~7|OFP[:aK'gh]($<
 >-BB$%-l
y}}?4d>7s7?OZ*rB6
]?7G	@6kuQDJ JcG&sFV7t6jvF6[<p'?1 "s4(~(l>g}R
osm5#dd7(H=,Mk4HE{3xx~T'[L5	#5v"sJ,)Z}_{,s\^^Op|PlvZN~[{ahJ)4}9.#@"8)mz:>wdYmA"I$gnt,\S*\\\:4~/{%Qg|-Wdpu_ r/A`#FWUh2s~q !P4Fe,Vw!`:$dAM
M=p
 ig)n[p832Ng?np&qEJ~y]@'W6$I )I[WwR /fY%^~
YA8J&)%&\73G2p)#$G'DD.@Qq&a 	gfC9
1 4u0mF^+J(DEu]i!}G |6.y@RX.F~FB{25N't)IlA Qt8O
]YEv{;xxN{dd81_n	5}b>!I0tgBN{ @H({WBX	HHnG `PEvc+^~oZT MGg~[(1H=Lt87V! Q/ jQ8aop< BDq0JOVF=v
lU.-6@,g{FdOB 9hp9$M|Hc$D5q"/BTF"MJH`<k1(e@I(MBI)d7wBd*%q<\5i} uv.69_fyfih2[""Xv_9RL&froa_{ef QYYY!?XjePad,p:1O38 p5 I!?(UYmZJb/nd1"FG."|F'G~CS9&Tgc0ii]T$8i'6Z
zd;[kl)>|' F6V7RWD" *pqs{(QWI.,A/u?:HT$cVU^f~ndUV]P%0- DQ B"P!&F#PE^Ca:YzfkI3!Gngx<aZ@Zgs|QUUA]HWoYm
WkAaPJ(qD) yc@nCz bV+ L3J~q04H'b`2c"P#8kErf>k:Muq(L	F(
AC98Gd@1mZZ2ql#kYIei"/rUsO\&;0h2v03}9=5Xd]Z$3Yx<Gq~'+FbiUcml
Gc.ISA a5M(QW5t!P
q$Q!% 
>PpQeYXUUhl$o~S$0M46S$U_  e?Bm::Jv&&F:V*p},xB[5xZ3
-<T%+p'GOgpcYtid<t)Qre@J(!mt-4E&Ne@EFT-kNg<qp4[o1u[AH1|
dd#uiW,W2?lI+[g>@BuI_"3^KmEjJ% U(>w>~RHDF_?gkQDep6CU
mb#i#~I 1!f!ztZz>8 :W>dT=,lv iKJg{JFx{_;[
0X~wJ<qie)}eQC83vQ)ty.PZn8(K(`^c0:Dq?j0?T<K3g@!q`8#2X >k	98g?7<Tt~.45uk%5U]#&NKF?w{$g1E6
eU(UpuueE\`8B8)4pF1Gjf~X}
W/T=4C}
5!"Rdhk, sR
M.v*`Cu8
._h~Beb3;+Cd 5FAq GkA@;\talO~@1A[ fEqQ98Z)y!B~ 7p\"TMGYJ
k`D<MPZlF"8iMmO :$!CiKY,Z1Q|?9C
!%cx{xX E>YN]v|Y_5axR"R(e-GTP"a>@	\?w=RG\m.BPx0[FQQ,#jn0E1?{vnkQpA_DH<wcn$mlNo\3nEgs$K{N*?8k%G]?PLAk6np<pssMW/_b@*h"M Z)`:JCt:WGc"zGtG3!&Zsl>nCx8A||||bem8G}4Mj
h!v-EU]PNg^GRKD[io/?;~fWWWx5p>;t<j5Xr*	Ke	_h~@d1UOt!=R5x(
^`[bRn3G;  
HjthK((8Cf~'$,B:uc6j	,a(m1&
\.pp HxDvjI|-UUasDQ$LAH(
'H-$-Ty2'h8YvA!ro</o!?=l+'m!K~p^Hg4mlfk1ZzNgpl1'[ H$XGS-{fN.ai~Nvvvw}rnxbV.}csbnu&]1H^Z}N<6f!yS\n-~ (
EQA(*onsG0?+epU	[s	+N<K'>N?pk(Ba4h"Eya s8OYNkfLf[p?``nN&H)[DQsA(`4]phZeCIrZuvl n6c(Ak^kUN?O\.=P%*Cp(8,i~-A)xP"3Y-3v.io^Wn:GZ*KAr 0GDUGAhG)TuA[L{ {~$kkDPZ<)pX{xyYOZPwbWU|MuhA"-r	    IDAT<UM3[C@xYbr`N7(p eojumtsDyZsssmzvva7w'Y8LT"`u4{VQ,9/_g\.@n}Y\t!l_'[Kwrc@Y=N,@t56tj9FyVg"@	d+"3GX!}aCFah
Z<8l@UNfCVlv.sFY9VR@M4  >b
uL$>Kv2yZ,m-sjs5-v- %}]~d+nAUZ)b|\\\$^-(=RLrRlS5P%pp5z@s%9MmP%:GU5*B(HbpY&Pw(SeO:.`NpwnMPJZ;)*G^]2JyV`<*W[q)^]W:<jn9$AUUX uIA/TmQhdvx 
|\J@`yc82k|G:mR!2t]kD+nnn(P'!f3n3_`DM]mrVTPpp3@l,y+,s9]%i0RI."P;(TU(kZkrXwWPI-X2_{qLb*S-K3u	(3lVAWo^g;wGeE+9k|=#lIi9YZzm[m*83!#dEqn?;=<!<Nv	a0H%jvzr`v4?|LfSH\i+ybafLq!Y:'0Z@ rl8%iKAxO>@FHQz{s4yg3[kLSAfcQ_\_"\K* Z+Y-58m[(:IHR;;;CyBik(Ac:lT:N5`%q)rPS's)Rt@cGh=HM*.\t2AmwP;KmmAHJ=PG 48 
5iBR+lKFlv$-ZTMh;$B4="/r<v-8rH!Q%vci*8pB' Psxi'$1;'<EQ>a=.j9G1:WLk~xhPvc2c^gVU}^
(Qk%wleI`r}]?QH4f=4M`dT4=J@;UZU( _q]37!e5I4x=!j o[[um!uEQ`BO?pi^hv\i08.)4>mB*8><r^D+]G1!^qO| @Y7 p8-LYOgsf8U $9$Ca0BB`^AKb|1))8y8??k$Ix| %%<jvH 7NgR,O4JlV0A+xp>|V\]SH-x2;HV
H)
E^Bh	wvimg7p<p<h`0DYs5 \@(,\@!j<O8ea(]{n4}}EX,va#Ib
$ZJh4@NDp&EYV(G.!:$(xqa#x<2H|Zb Ib;guaK=YLp]/&c	g{n(#c34DUumP7	`<."79q`cQ}[9}9hGBHr+Q7FowfX<E(@o1Rx*f8_nn_]Ui0~SB <YcdOOnf1uUE"$I%\G5>#M0LPRBNVECnq2@Xo6p=QC*4*:QK0{H>x\TyngggXVX.X.VXyqq	_s!s,Kb(l%i(fby 'tl[,K[q7r.)2`0%
Jh\^^Nl-ZNijy
_xAf1nno)Yi?6dM]b$~dg7PR`j()56F!(h4p0`/> BHF	A"x7
>x~9|: +R$/>34qH +k|pss4~C6EcZ=xXf6~/^ "|vC]-$a1RBE0cwq}}K,Ky66Bem1$d!8l4!(1&*LSDQ,A4:9s!d"HeuLB5wu]J*KvP7IM&$903'fcG	,DN^s?exvPf*}93U ),eUT&Zci:	<Mu,P65,SBjK}ZA+39'Z0i>4AX!G=PxY}9<C'~,KfxD'${!8w<GKq+ty9Esu]zs5nooye}2DF=n~Bho9~-Df{[|_^2s?I3v<;QAl!^4\-,d2?
&jUM[!DVfo
(Z'0q[lz%./ps)<=ffa"G x<AG8lmPZ@(`:?77AysGtuT1...5R U->#,v;,K*(Zkd>#~w@ FS	%V
J<YoJ?quul,<:V$Vf{Ehb?(O&h>r Lr-D1	2,b)/R06zkigF+Zka$nA'L'0|6'8F1LFNynOZ:M(AuZ~z!Q`*?,,1phwv8M(13tUT\Q82i+%"	-seEQ!Eprn`>[(i!ew!J:
+Xzg0R)&IroB`:b!"x 1t,Q)v=.|o_|K/'!0L'7N8;;Xo7ZA&vPH3
4((p3u)3\t}#Nf~k(v;V)0zl^*b-`b4 IH7:>~Vxwf>6{h4/K@/_ 5=&	&
<]+^&X<.gPh1m={i,<0 ZwAW7@BvD A(RI$I0`!(DD7Cc9D;*U?	p8XStzMy~@Vn63Cc784Mcl"O}29!k?F;$ b=I`6a6;d2Uo`L!rH	2v-;BSJhF%/FeY-iS)]s|dYA,
U!y-BYng1|C9h$caBx>\pEA+|
&7x$<0MS?#o?z/ga8>ut=Us2x.VH8AEot9E!&sS-:>rm$iu&Ydiwy[G>x2D{ =Q0A01xI(1L0x|Dn4)nwwqg F
<<.d1joj38r/_'(p~~0A<<EQdcj/'#2Jg5M/_q%,ofg|wgn!DWk1b>?']E?<BJm!~IX2ol~Aq#VbuYP:"nf6~
}O.qIbvL&g#un<fe3s?'SbU3wQ8C HH!Y3ieFDARCJM{yZ a^C9H)Z%@e:g:Azu|vspD,K)%,Q$o,	}c;FBWzN*~+la<4Mi9(6ek5&	y[~8B^S
UA3P B-.*wLez6tjrBz *|.;iCU>o;Fy8Pf%{rKrJk
W8y)Okv{M`YoyRl	 K~(	B<Tq KC,s!0IO=|L0q>Ryc)#,s(%p{{k!C +H)>w<\+ gU;wo/.Qnr3e	)RI2%*N`h>/__ck!F%(\{|1
:hZ<fcq<b4{}xwPyYaOgX)=!:4meaFyChin"x~*--GQ[|]J2iV( P,;[.o[
r9[f*\]]a\9mD*W~KKp[
!Nv/pI^pr`!N~|,"xacaYmuq]@8??x<'0,Wl%Wt^ChJzlV[ EE(+:3- Q9IQ_7%#:4pd 
pvvf,>rF<pYc'Cl:3$Ib;>bX@NOz}fHR"+rap6]q~u(,H&Y.WQWq"MqZo
)MCFUu_~__~*111z=:]2w[7eV+kllQu$5Hz~t ,- v!A$vuYIk.Gvi<aN:2GAb`Blc'+.$	$3rrcO%wg/NT./fO~RmG)Nhpa00{+`;xKk1{*_88
!0@]>.4	-(bB{hI?W?f Zf'qqLe/Y&0v6&|pp]d	e0?t?c/F'O+yEjA[{.$A4X8>36)#nG3<j11v}<<vUUeYac.P\RC_,/z{DIfnlsHAhz
D/>WWlj8DckBff6Yt]b}yfl/%1N77L&Y,!xmqx
?;_#MS?~++^zEL4-KyFVAs6"q!y@Qw-Vp|u
*8kf yLa,/! iBtu'cRF&CLa&nG;:dC~BA^5o'`+&pC,${AK/GvK_\4pwBw_P#'$s?,1
ia4Qr9A0G_"cB<s"TX1VI,Eag-k'GT;_S_p`e\v'?<<`<P%g@AY\q,NzSR	q4Mm
Xw\}HNC&mNa

'Il5^u=$Itp|n;J-e{df7"u
}u`-<9lg0[z4LCBIRtEgvGQl:
/^%A@Gx;vZ[P~<-T>'T9R@l0,ygxG(M:4D>^~(N~mx8~
gOaGV}R(Gdi#)4;["POq{u$/(p~y$1g*    IDATWC'?,DNsaM1IH~"TE/E1rwpqyE(BU8f8%PprK/
uB+H6(SE	og7<K"2fx~V+^9q!<{r/ ILpsk^#`^}Hg3y$BUH1ys&qQtcc% @9fIJ\WWWX}rr0o a@?$p@_1xc]1qKSw?}o|$=y]9>[|}pfuzmN<lvJ*DS(l~;N2dhBk(CNb=!WGUfYN
tff Ic\__-1h/'/Iwp8V|Wtc6{c.g}YsQb5b.:Tqf3m?2G-;#1P7%vz?>0,K,x~1m/p~/_j:AX,vM,8x|#cXVF Jxs,$IS k1v;[s:)P554:h bQK{|O
d`n8;Z}#,p%4tTbEQ,f3p\qbPJ[,` !u]#|xRCA@:emnUI>J##|9~pBDI?#FON.9q>~:gY34Zm0&6iK-9[YC2rk;.BT]`F:2<;;|>p8_dm?w0[vkwL<O.vdf+9 	n<Yhj2ZgZFT3`/88U	
4M%OC
Mj`^e\oH1P65U[a2v$*T%<x8@po cW_]OQRJtML91:D"?/k~
Qa4~8zQO{xFQx5/11-{Nd`fh0ZwO%Ay*	"2yaERJGDQnsxdb&6fzei}}pD h4/qyyih|EY&9$B[t@Qy5qL'~@XK~K0-[),v5vc8q\ucu >! ,s$Qw-(eH3>@qUUQdF	6Xc8i@X3x]#	Rg4<PY,STJa68`F=Og;;FDDPS)ivUQ1?b0av0(E|	8uQ4$5gvN+vn}w6;NY)c,cl,1plf``;;>LnCvY?'I1a}8i]=RVHpg
m[v06*+,T4{w%4h6=/p)$PyXw6aE8Fp]Tu=oS+g,IIq0Q0O?f@_FiaH.uG?= ZDqz8	Q%nn[ITmCK:gxwG:0b N 	pbX97)PuI1l#.hx<DUnfL4ZW?y8LeIPvGM0{6y"<|7PJiNCyUz+<{!viO
 "ec:RE#r
cVtFQW|EQa>yS"YAeff~|a)MSQ"f??;G$17ljhVYr=lv@]S1hNtV mvPpO.$u.Y,"R!Ebrw'l0a$r8/
x61$-1qhY=qu8&6;;NBoN<au}&'DNyjcT*d2AS?<r4Us_]"cwOL3I)cb<n>0jXt'8u tO~;4E0^=V~/'o4= D5p;??j'~J)481/ *v7Yk	Xp <;;/>Dx||>Yxn~xN(O]CIxDN $ Q5+;(1hcu.a|(in|p\Zs:	t]u	zD]UR"2l;ZHLcYWId1Q7	H4<&7P ]7Pa>E[TVQEWqPkUUHd
R+J+400z"!&Vx.9 2+N	e2u	?f1WuKSO?cStNJxn^]$cQA`ra+fq'C,>!aB\pD0R81f3}kPBVNj}q-Y XB2J}]"KS<9G| o_-nnPdD{/{<C\_^}UA !4O||9^rLSH%
GBkW;{{e\iZ_"-K@QTFR""Amix<Ez|&0!XC6p{dYf0#B-+hBs2Z6gQ@SmAC!0p}}|n
09n
wwwk@/ x0l=by2<}sG#rb1VfhU)d,kM;9G
+S*M,d&ll \'I251m[>->Bu\;j-:RHx$r!/Qh2bm9X!/"3Bx02#Dr-,1	&g4'f(]!)9qRj({t>M&a,_$?HPM18c#cT-YaXLUM((thq8,s&^ MU?	t_uM]'VnfBH{g&S5/muiq;W.f/0[!py}0v._
'^<<< MgxMD<MX)}(4M0pL3Lf3*VX,X |x[Pw2*7B5nf)WIb&!e#/=;!Xv{ %5Gv  
!"8\JrS8H<myfJ ZH@k^@	+;8(G:${^-6FGK[?KG3MjK)+_`\_ab0b4`?BkU*h IgL?>=.\_\Z@~e*{dY
*rhcHe!\Q7X%pq''aB\Lra}5|Y45]EFFk}2~e[a]$Ditz0ayc%Ibie:ll0g,+y('pg>m[enMt3db/Whk.3CQ?)+ trR?F5<QCPee*HUEQwXX.0<{TUZ}8vsb5zQL790_<jx?|pG5WR`2#Vi&/_-|B?g9>

J^6r>rWaud5eb[E8xp]
DUiequ7TEF~<"$TCNq``:u#O$"v*k[`'AG0`:<?AJ BSC~b&mT|)-azJ!DdWz>C]Bl9w)!
{I/;>-~|]UC-N6NL~\{l@W61,L>oZX&'~b=u!M(g(89wRH)igulA
a|(st],=_~xEB)xaH1x<}:I7y6fy}6{9+y{6`ASQ<-$=mS?0Mh9I G$IBVI=-{A/qVZ(L+0b4@ @hm[#2lkUoC Yl|6: Mg>v1nw$LS(p{{cjYqiL'!~w &UUV^2":A{f3fS\<j??->xhj"^Et2?~.Reo^Ga2m\]_b:`?
R(Tu.
Q>#v6 %>V-F T<x(le)S<3N]g7M$b?$A_y:s{1TuhrnG#||fa16-v*h-X e1[9S7w!z3IOe	/!$AvBI8U&!1B;&'(E;}f/9g	83'
%f0G)TEn= %p<mSrv9qUJXeF\dX@q)wJC|\b8Zqku308-b82sScq]tNQXkjsLS~e0=qT>9kX3+cl[{!yrE8=d+E\  ,$n yMUc`1RIx']m3O)pR2 !PX,hGkv;61h{{SUlz.h<!;DaSW+che}vTu6y;"?	eY!b]mh`@%Kw2x!{{oYo,CA!cl7{hq}y"1/Ika'R3m~etrJ=_|78/=f\M
m?X6Bi!bHd	d#Wvgqv# S jHW'o;(-1q5X[s'NNWOB{~YrgG3y__>>"N}hF$44utw;~?Q/>QWPCqr8W;JZ,N\uPEeC2o:O&B H8W\\(t=8>Eaw_/IrPuh|%%}.#N"3*&mZ %:EYUh+bU9]{ l7$qpr2b:h<81rbZkz
%u<45t 4/Ev&Df%#YczDH#x?``'tjCJ\XWVC/[oce-kN{{hdI(	 P*J	iD&1A1U`A2_/onwLmyHxF<{f7k0afQxyF<p.xzzJc&n?A2a&?}4mV {	C?44DXPv#y>}J`
x%fZDnWieQWOx`Midmu'I
66A`@k@HO>,p>_0#FFf72;``cvB]KPcr][
S5D0Q4$SYNbB!-X7#MAceB2V_X+M<
}%DiDU!;*NKm#Z#gubze&RL| :2xPgl<c'9C%JLS9cP1iz 4
xH`.Cuf,qA|t(?`J1*R'k@UDeslffdSx.3,-lW@+t> UUn4|dC(+cv(d$$
xmsXA)vmL[/'\.U<?fp<ex:ADm@QXLmU]0%Guxzx?~?VV[lVk|x3k7	Y/#h(Ds`. $Ey03uNSt"A	]9LE8u
*WNn_W/
eQaG<>>1ZdzFW5~1&ArTFm$ijpohhW+qV2(Ch[7D]Uxz:mwww'6VLDB*V0@yf9].dXc&KA_tp    IDATS Yh8BLSk	8*+( 
PMr>%#psx?SffCPCG~zB@U02S80u^:Fn/-cb-q0=aJZhF,3r=r NV"M	@6Lpvyq>*4abD@S5.|~G0gMh`Zk8ui}@N; M${UlYiqaGSPITm88&EIqxzFaep9aNS@yn0y=4-|y16Z]Kj[#e&GrOOO|	<c9;Ebj"DA_,bAvO/tUU,+LYv:bA)YX660@xnv"5NB6kQ~f_"2a#dWPml8~ncq_b#5t^9ERmw:3&l!osTlua o7CS7zh(jzI6#Pz
t0=8X^/&Gu?k-y0PZFB7%Etg`1PZaF/c)o@)<G2yEQ Kec1cTz@yV5L< D0,+uiq||N<!bns`?e)z]TKQ6IG#1#&`5 5(%+i[ _V0Ff0x=|_%|8xzFa/xQn/O'<u7);8?{NA}&DzVJ%lzb%^$!FI{y\OHM+(HO__4cvoSj[AxG$()NAuaa7-xx|DQNZp?qo@b32Tf8Ru&}~DhR`;Da$C4`Ys_w~@S7R@V
,qn8_ow'0#K*2r=+/5Rd\NyB (d|<<JkhXb6b04	vm/.RgiD(=OqiBa&ys!nONgL/_P%^~n`8CrdGq} (-NIS ]\'`EPJK@<T2IagX!}jGjqL1PZy')p|~DY Bz9B.>| =f/#tRdE#`9g$z;tT9#3qHs};`f n=M&#O|>L2cdM:`wDdE[,a9MiR7 r<MF0{i`0Yipp^yoJN!wB<_IqM[I-gXlQ!zwK2V13W
:6NSp^(Nc 	 A|(]'HrD^S	!5^iItCXPE"97 g#_^^^XY(9\<#OEaQ.&H"P2F#sv>8vT_z:7Ea^(
ibj69F}7`'@VZ-Rb1By2KMC0MtJFMMYV0aBqzQq^!
)_TK3wqR"#sFZs.gh1b=U&eEBn{isvWg=s*ST{fZN fkh7L*Y w*Hlw3>}Jd#;,P
EYb?k:N0e(Eh$.eJ2q7/7F/Ovk{O5yU3_H
TD8""$]DQb
J)|r@+nPT5lU
J@v%,qTp|^_(
2SSFLB:u]TK/,r.EYv]#|-dszB9td1` fXSP`FPckj[ep|m< a6u]V! FS7n,q*eCe6RL8#*cC2DD> ~nQ5N+E]72lq`@ACcZq"
p/iLd._ws3u>;NX:|k9<\FCs,"y9cl85e 1:APA&P^cy"8s+e{12opm0qGD)T,LiK~OH-O,8'*q g-9<;2xNh3xN+>}W^,sk\J>@f+qN/o?z,J+l-U
,=9l;>RYK)mBzl)M|=m	bfEy-F&8#ys#@
%,E<nGK#EV{[,#n6 @)#QjT`6({4UU6k ::Zkqg@pvY+P```FQH)iabRF8RE (
U=a`' (P-ak1L]'ZlqmlpapT":J#NF&RYk!<_L9D"A_KTU9mSJ%lK4vu/%5|Z{X&y/1{f	E+
e]	,q=@EQ YS9E q!{r>!!ZNb9Y=*Pqv42Xk_ r(&  as/y[wC(h(1p>]-aZhyB:xyXxAhrq|Gm[X%BC}rED(+\.2H1$S :C~6'FN`BZ{xuY!_W5Iz^n}/Xa#@N?4hEz,
H$/M{Lq'!u7UBYR<0rgbi(>wTA#mF49<qnNz}h2fMvp8$6aWN%3eZ0)~KAE=H,,-i^o"suicswrX{T=}`2fE!5_f4!2#=BY	O /~I+<;gh
\O3,Dq^mb]&rPCrx9}'[wq'!Tsbd(#:ps?'|DY60! xp<%NX:Tuv]44JIG2/i_xQ%@^ATX[ry/:*ovtELAOF<0Ps x/M"7k[&Ep7 m=s(M,Vkf|]azagTe*jsYi4	_	I_^3:4|?f 	f"&OXQ	rK	R8	Htz8DdJgYk|nZI|>hNy||1&\.i?-2bd/5>WurH\7Bruo%X]'{h!u-mZDa	WEQv'wx0g*2%o,WJlN$1HvPeM";4y~`9W\.)Py#?	ggakF 6Fuq9?o>|FJ Z%3
E*(ti6xHy)/@B U^t>d]cQt$|>z$663_TxPbc./u
k,	u(z5k|4Bv(xEYJagJEXm7Z5Gt8i563tYJap/ i&80hpcg~	u$w|W^]t $E/{CC^/"|?}W2h^>TU~FgN-7#^!GYE~(/XeD':nc"J[gY5cCsCJ
)5aT	<\j2&}&"_Ni?\hlz@{8[Ohhp\ 9o<E;mk>;Sw
^AC_#w:F1b//> Ig\cD'xJ+h`% -/JC<cfFQ&lv>_QP5#QxLGV|Fu%MCA|A)^(bAtsg5%&AD9'$B@ <QkUX%y1QcLuIsGLs$J1cR6abchAzMzv/p2:0r5gMNRjSj5gTjQ:*;-e/9;+2e9#m4g?|Z%dl:59R;;C9I ?+pk"hMT@?PQ!_o~#"6!aDB>
<04< FwHWfMe1-pNZbBG~?/.>xlh:)M	JY]4=.-TF	pfH	Y/4ml7 ,^q cVU<<ukX%EY^L8	M8L1?KE^=]h|]_R/&JC3IsuW|eFXzQ,>QnY	4(("eS<+}'xhZ>e9Q i>??H3{XsZk9(DxIIgGz1w)&<^hs:"%_,`1;Zp8D-'<]%CV2o&#k9<<<<t<9Nu9XAC!(b^46_xB#QS.I(`z*}
(? -Fbt8f<_oPxLQ`$|4UU	!4hZ>T4^ygE_|0{5a51Y|v~!"  )M,sHcl+?Dkl{NAYZ6Z1?75iZ8	"	k\/GS~'(/
av7I\eL0e3/h#uNtu%RsH-G5^zwC0so\0NFdks0J#M6 ?|nGF
!Jfa2IPUQ"\qb=NhOrI1#9N21+f35R(;D1,;aZVmUUx:jnqi^S/<lyd(X4Pr+4>@	,L-BHy(ZJUU??T|he6+ksNAI3qyF3Drc0X<8'9xzxL3&-|yn("OP eJCD
#*<tciqA83QS}>VLHWNar'LBGDuA,(V\ofl,pQ@gxixge(^s.=nz~|Dw9Dm_o~1)+ n!FQq^,|5 Lh8351%?<<7"N'q1B|v/lFFB+/\Ca$\pnH'>eu,EO@$h(Y|arM~}2^_| J4N#[wC~l9|%#FcdM|dG?on.{s4/?7D4ty9PUU%<1yBD\[^xF_Gl1M*w7S/5:Ppc'P8&,\!bp.cv@Nn3d:CF#(,^c'y{!RySy_Hb@C%G0SzE~_>g	84^d5Z'mM& K0M"Z,v#EAA	*hX["(>w^hxAb2)2ugE7oOOOR1^RO. *\d:ihy	3J.s.^y("D|VGUn|-=L&#KFOF[L>)`D4BFcEe~    IDAT$eAa p1
/1kBd}zmcS!2kDMNp:> aI:};91KfNg}[<Z13q~"@-pv0e
MH*K`la[c-_wNAe` I~WJu(Hpqa{Ys
#Q?|2uNg&Fv]2\]cG<?0zu(aU@;ynb2=W[uYl< g~?F(!h/aIR8FZtB0$Wizw:l{32#%qQDHS]2*it4!X Zrp^FFP<C?9-]4xx	s*N0;nyM21ea#(12H),Q{???47!|"uRU?KcIcC.='+77Srbtbh:70V|:c_'m,&V1(#*i+"tl
+Je$hF2M4ya5.f,\1FV aJ	63gq>Npj:m]y@[3L|NIy~9AS~w|VNd"T%6I#8tS-DqECp2[XLDJ>=jO>{|>'2`M$Nc4Q@P!o~GE	:(+T8	7G4nd<c8_|'=(<cbGuMpnFQPZ+(#<DFggh1l7;8!

OL+ePV%Y2g!,th1]d8Z Nl>qxuj!$fHG->FQv3x`M;/$/~>F+/5#p~fBp\/.6'OOm-ym@{(eD5'0VhHLljVHUVlY`v<19TT;p-nY(xDcB!`zDyRou/rgH#gu- BDEQ$I4=k_NP*3idj<TaOk?	,ln.2"dP;<sb g'VjQir2 O4"4;qbEi`aDY8mvD

8hjiDr:aC2Faw#iPmDQVlYpnm?&3|dL,cf(u$"p)#(?Fi
OOO)Rvx#~Q4P+RTe4ufXQWypl"}^'E)9iQX/{#G0N#6gxayNv#V
VwZS@za54",7= qvbspnA(	/qt9M9;5:B<y}/>&:':D:pSfq@l2|n/
!v!R}!c$2mP0.QQ!
: pKNn-,"Vl!s|pBXs4yovA'DZ8y,36[h~R{4a M9R
a@Y2M\0OnNeL(LQr'?6,fiL08jC
j|<XS:$1 g0imSz
ka<MQnLXk]W0qrA4XoQZ<><sO_}?!xj e>y1V!3gByQUGl6?`K8Y/_	F+h%:J`%88Fk<>>hv)`Z+ZPcS6wFkM-I]7)"c}"-y&A*R
w3>.Q"wqaRQ9AhurS#IXGhtdcGH;g^d)ftsDB[eMQn"GkB*P{-AD<5+BX(3i^j/_Kk]a&clNRJ%?:,i)ds1G1m6m	MYhba~aqhBF->%{Az aE1C
0iBwPz02+#D%nFOY--i2
E%<<|IT!$j<lfOfh?|Gu^vW{_iP8Y0)@%a Ln<(+)^+
OO1Z@<~0_scGCzQz4LdsheGU2pN1'arjm4 ^H&#B|	3MFa^L@KJpb"R!E90fd3h(iA^sp8_2zp?]cEC59;x7npGY4OL#5FF-nvpnC`@2@ \Tq*wkt2y46|F'V'4s	k<??'~ddX7)e63(gJP'	=9ldpA#GFy(%9ffbB0A"h\[lQ]gkEO\Ej*CvbY[{C ,KiNh)maF7-2`e]9D{t{r81xz`4Lw8-	B
27Loo3VOpa1S(,lr2Jy4:l (WtN2'D/,"U~}fs0 >C)mz=XlfUH{8p, ^6tIk,ox>EUc4q@]a-G!eff3#[x<fpnH 1M3[T	|`bR
!#N	+,4"kww/=: US4Jkr:fEVFG 1w)*(46jq,y>`|,0VBi@O3=)!(X50Z,,[fyz*1s
{gf>y]?;,,9/33%B
E&"kTZh04(tG@Cp<V5iE0t7Hmxxj^W7c:Lq4MI0whZ2p|my.MqT@<e4KN)-<qV@UVzJb
>S&i*rI:Dy@kx5!1DU]E*T}/G. Yf<KZb'( zj9Bf #+9y5fa\^	>7Fhb- hXf1~,EudPYe>}fZG003VE?#+erN  \,+XPCc3fFN2kLE,Qx1=0c^?%srz+%O~'(
> KW\FMm>6Mya2+WqvV/2*Bf;!D2,=yd$|e$\YyP?R^Yp<{Z7T1(*IOOOfX#Z_vo }d2<3.r#: ,|0;``Q=O,T-UD.J`m%[x=_P
cnWox.
 ?e$nf#*hX2x%IW%lDEt4P(X*nOOmzplb M89 
6GwHGs88Vf87}BQT0F,%B4D:.p~y*h2E8S=m[XEMfWN{GBI:<dpjz
_5!sdY(7p~;m >]zBUUzW|JFteY1K8s/D?$#I8/;5n+nFVlvU	7VdM~vVe/YzJ}F'aP:q0ocB	le_,T	JxZu$D;kvCbta:(71#v}@4).)4Oti_c&t{~OGYW~UUh(XcX|dnvow	!bSR~b!wDz"'ZMh{Xf9bfDX??Ju2HAM]2ndb)",50->0c{C6*DO|cu?(0p'j%U( O+#7,:|dVn@9_"4 8M254N [7U1J 7McoWZlPQ)O	F+y^SK]ub!Fft4<l4hls*qDXQJ|0#K]`n7W@]Znu65EU:|9cw|9#(kJBU(K@DYZhm xv;V5Vm, 7m2l31?`09!-7OnFSW/:o@FMZhb{n+pTxU^\i;U*QF+qjB_
$eg&I^RDOnjE%?j6XkYA!n
\d^ oSm"Plg_9iL0wgx7-$EF|BnuWoh@]v=l7|okzu/fzJMrAYXV:7anPVB.<Mo~f2DmrMTU}ro=L<UUymjq8i ?_;Mv<=9CR"j[asl[naIceF7x 7\.WL6fjB]nKD];iJi8`Q;|qNl("uj%BDo'k\+cs mt@eeaY3|VcfT2.K2ba|EfD@,y3-
[EPQ5@F=vv5BYHX%Zmkt'l7R{[wq,gR`W^-
Ht%8-g;FHl*Iu4m9&cgl[\.e<.ih/~.u	k\!xB>8Q:}:q9=^"]9'iGg uqDAX+^~7^<KVpv-&@fp^[SjBV;4/<\%$.e-h(5/%b@uy^uQ./zOU#!HK$JhSa"h;5Jc+uymqv'lW+pn+}bs>L[Gh|	>NYJC[0jBsR;Ez3'1~EXQM]$Xo; hSkJaglwwL8*\n4M@"j 97\I7Ox-GS(JP:8/	~Xl^ `D0=>?>p!A%{C:,TFh"f@dE;V
V/5<T<i1Fo`FYC6~|@p@*QlCPx||@]7qBh<znUc@QXTUL0zXka3cFyrCY7pJ?%9)x.LH[>}L$OE21O9XJ4Mjcwr;|a(
|OI{TM&AxTmb^xBF Ua`u~eQa^p=p="*JQnt@a+i8gh02~<
0s]gN`6nW65>.1FdR
?}"` |oo  p9(( v6"4>*?2sYo/NOO]=2:sN	}c:*<ORJT u !HG\/7n*ptVx|8A!8 E_;Jk.`t3
%6z*0,Fw-4VP^:F>,|h
Uo@4O(u/>~Z5|/~Uw>|  hv**R=Mw>Y3#4dPld`46O?1E
//0<em@U85NKR\.GMBYY}QW(pF4J	~3 ib=(||DYp(cEww+<>}v?    IDAT.q!@^-BH(eYr9%Ju &>rK?^FJ?7fQuT	sw8Zm c(VkY87O HBn"[[Vd'MEG6R?|8PFJ[))t4=>}Bi-
pKE]S:(R(hcx9 8,Tm[|*CWu\w@VPAz(a
 *yxxxH6/Uq<q>"|#}"#~<V 8P
>e~Emv)3Ci0*=#aO0E9),WIy=)5rhVn
 8Xm_N$zt]08Xc(EXV)f|1yitx^~*F.RZ[Hs	< A,4^m""u	Qu,N>: F$^H N'5L#Q`fbs,()nZhk6_9Hfr:t9
SU6u4L"8@M	0).U:$2.6rCPh
0m\OP|pGYZ#hj<=QEQ)]lkK-.iaVk`&tO?,-4:Wp8$H(d<zCQuk)q<=an09qZDqrMdl6{	!>/G1~3v>A*Q	F1)OOOZ5c&D(`Y{d8%BBA)w<wXhyDf-|~Lum$y%zbn)s'hhd}Pg:	"eYtzF
UUBfi	JI}BzT~Qi;a$0n"4`g7RuB3>N6/mF'3:/wuU233Cqh"d%ADH[	~S8/y  	 L"MS2&-[%Y$tOeZR2 FC
}o/n-TfUY`/3lI'LC0N2Om(	J"I$IJiPEf5aYVfR#V$,R YH,pa&U%&'c:Q~WVBJ4C!eJ/<{uuyXJJ\QQN fH!J.G4x
G%*h7!O4F 677,L$Kk8,I,IH1go"EUN*Rs0Lla;&(t6f}Y~$~tJD)}i:C3&9D-4{,
ES&.n]f8d\)T=XD3vW-<OIBj$0!?EsqgWt8iY<U9:9Y1YRV-1M=vId$qF$ lfwj`;KHf@tJoY\&VJJW\k
#%sa(S7 /gSERTmBQR="j@)=w]p0(4>V-V|/S4i&oIug"|iO-l^^>S;_-=mJx,rLnF1X_NcFC={aIEIhmPW*((fh7V4_;mAL&SZeim6NnN_(rT!@*5>h\fM _\)S2l>q|2U`YN_eRn{R}N&{{jX$qtUUe<nkxzi'	<%R\B)lmsrIj@A
,Q4C*Tge*H:UDAXdj[J69<<8<4WsB1fFk}&1dR}TV3qcm1OY,<~yzn7k#5,pFqG`Z"c<y6N60M|@$1hzj(4lY)u#ImC"&mhd ,JQ	HA*a20p<Ha
6nij?ZI2jKmaB!lU<H3d<\9>>c5X$uK,C"ENaYFV'$<Ou5z5Kgu7@}V*jb`uuDz7j/}-oO&4PWGeRBZ*]e9Bm|K?|ZW[QpUn@
&T2W-[tV;,*z(J!~!#guu,I0,IO3ah&(Qc
I,e/
C;;qKgUuEFR!*b^%zZ!Oz-{ HaJWs}r#w\ak$mWeP4&[E7$%Eq@D9e/4&#666/"!T	 ^T)%aX"J^CdE--,ebYdvAyQzP )~@p>]zH0I9i\4PEd6eEh$Jmhk,k'MJT?aA%D_2= 6nw%zj~~qipS{#N+eEiJA54HDgfS9knE,E]	fByH\=6q|(i:6]W92'+
f7qN$jvb/LXB+V}N)zu<;!hHi+PH*le8@FP9i=058	f
EEJ.|eY`|L?p	~}AVw)M+ i72Et&vd!f/ziP`;&Rl;Ti)
UFy.<+J!|"s<C-<) 'O3--ih2;klXhY2<.[[[<loo}|I-=(aa2IT!B
"&$1q*eU&)s[dar&gp
jY\~frr||:cLH1`AT$EBD}Sn790xprLQIqs!A#~#Dh>0ML hQf9u
20q<E3\gmm[iVh>9G~hL`niHjvEeakk Rb2Y`V~#D
u#- WE=7`&qYly_n}2V899(5D_,IgZ (g7FiZ%+-[1OKi[8hV}W$mjh6kdYAu$4QuiYXUrVV*/%P(4HTP<.'KD	Y35YVNbw|&2{TNS	0q;\A<%Ob< ,Rui6ZM1!V n"2uncZ6E(4`&CMb1Qj*szxxXcNNNDOKEDyyJSo>RyU`1
TN:BlLf3@\VEJHIR*r9:9DHU"?t''2_y\%a	yBs2[[[lmm1Z/#f5fW.%]Z%XB!B+*t4FILF)$V 
P&jpJRq,lrZlY\ddlnsl|b1QH%1{#@0$y&^J{yK/"PJhP+H000l|c@ \iHag)I0E'f?:h|)Jkjqa4'oL4!xJpunCOyea81K8EEfGGZ)TRBQb$9vwa:J1Lx/pxx^zKyK[~biL"@aATLi6+s-]>::k4\r4rtl.rpn&Y>Ub nl|!I%gBh9ZN
8w" 4yxoj`( sz!8<<d< /p\WnyDsx1My/;a	l7DLCs\=\&YUk{{OM-f6gu
,KK9hcvHNJfg*p!w84;Mf9Ay@C:3\wqq<~kFyzLNHXk{>GGGae9JNZvNli9d<7~gR$S'X&-ElR(r(nB#xB4^6zu]Y _gJE(Jy|1i:c8HIbi~Vdhj*x=*(!WJ^aAL&tZ&A'u^i7B W9??^V~|#wiI|	xZ%pP:r%v~#$N:C@'W}_PUA'LSZyz~Pg-,S2XA	4%|c?fiabMOT6!h6yGXYYS?w
\"OAJ9Jc;2$Y3:+Wh7[x/luy$WlXs[dYJd;yccsn5
2nD9ZXqXA\/o=R}Z6a!S 5T		[M6xW8yo_?8DwQ2]Kn(8In\/}eS*+\-u65RNsKo4t-KLWqEr3 @-GKX8`g{{Ep|S@wH4|VKTst0/DY/q"x-.	^sRBbH+gebms<+KVwK;nzeg]XWa!i!NWloZ;wX`}sY[2ku42d6,=?9Q:!6Ic-o	mpnstm:&/(AbPU:'<Gy9*DILUb>%)->3t	x/KHLWX5vwwVyAJt:tMn~}JZn|A>{EkE%`&te!vj!W\l6kDrg@C#bFFj'"=Va<C 1B[ngiFk{K6yn#mZDFb/xkXWlm}nz!ky4Zj ?g4<j$|	kgSJ2 r#vKUSNhv"!0}-ln/Zdi (WeY4M4K5uhIo
Zdi`imeVEY(^%`k4</fe854:ag_W0[hMRaX<x?P91d1+xrH7-M;9:FEg-x=h-0<Fegga mw6#JLq}EhmVKOUhT%'jeX&<=#]>mDh?[+&h'jPP
dVr<F[\>O9iIyM6oxW6`]$IYB"k`d3a)wvEEIv :Y3_jvJOENeL9#=Oc?xu}UnQYAz^t9%V8Nw.k2l279.^|xxv^k!Iiq"i/YWlllpa,*x%O?RW^e0jABOF)z+iw;x6GH^E]^v&Sm31i6LfSk@mH@f1~W_tK.u&0[?H`JDsb2V%.Af:|QiL`<O|/-e}4{
j$1ptt.Jp=Az^WX*l6cO~By.'!1MV76lLBbZ.e|
w%y g]Zz&Yij]Km#"zlmPFMX'*u0LK2LFg	vleP?h4xv4BmU
  
uIDAT"PHQZMsuFs:6Y$)+%f#@ s0d^juIf}skV7 J{xVVK{nmK?^
12"T2Yz<JKN)L;M*
CGfg41xsi'_slM
*;RH)1A3]Ny8AH ipM{@Y)x=hf\z(0Mde0~Ag2kXIGQe&e`
P5<JbXvfV%ZAX^LS7o.Wq,4KLL)L p+J(4Z vK.A4LRVslm="4YT_#EV*g}s=+>,MB
+bB}rg]]pfx:?bdr$kLf<-ULCRGT[Lx<fmmi;$JV(
JJA^y+t4Z2-hD47o@e!	>ybH8{~;K6 (>mUBiZvLMaupwnx 6Nq]$_gP14Qf"O1?TFEJYFiKK7D
@u'oV7e%L4+@>?#Ksx6QR(AQ5UwA<04M8q,GK>\Xmt{X[irO2zDpB'h?E9"(~DQ}8i
D8!i[O
e/~E[ii>[S|Kbxqg~z(x9:9&"^|wxFui!N| {!n/~	pi[Cx:4!p8,g{YBc(	w<`ILl[CuN8v8xrFaESkKaRVyFIi=FKRJsK)P`Z;7hDJi0+9*eo-'h!7o!nKE/D."L,Y<#PYad+_*m7>t||7npFwq	_WR*m*.\;g?=^z+aXi;!~R%qljkH;''Gs^6ilq9so|j!e_zA'L*D)Nfii}7.r}7X)kh/f?/|Z-i}Y''Gf2;nz<ZE/0h|.??OO1GLOeXZM?h>[;#/4f?i&I xq<^yU/q{w3Jhw;<dhw$kw}l,>_%OSZa/}Ur.~3]Nogy[4]Kw^P+{p<v3fuU|:'sN_,^0[vRJ	{Kc0[|hLfSh	>F'\7o]olHEL
0899ceuYw8_# bZ#^~%"g|rl6]K,n/p8$c	I<aw+7~W^yWS{otWzZ}[
|J j2,^zc _jPJqrLSk(VaWW2.\fxMP4m/aZ`96qg%Zf3c8l];g\~	qVJC$$	`lkt;`w4ay\-IsF2xa3R09+K'o}h:Gl['c&G'|'_[[vWBp*P-8Ayi!-%O34]AV3L@x}Q4+(Hi v(Zk9]]j$8>c]mWW14$J@`kk\
9q0,h4NYwosSJ`||
!5("\7`ccd"JPheh1o6r.o_~_?L-O    IENDB`
------MultipartBoundary--GRQrYkNAtextu0CdUhLxf7BycFuZdxCnGyQ7lBqgh6----
Content-Type: text/html
Content-ID: <frame-C1E486334780AA957DEFD010F4B42FE2@mhtml.blink>
Content-Transfer-Encoding: binary

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body></body></html>
------MultipartBoundary--GRQrYkNAtextu0CdUhLxf7BycFuZdxCnGyQ7lBqgh6------
